{"version":3,"file":"control.min.js","sources":["../../../apps/frappe/frappe/public/js/frappe/ui/capture.js","../../../apps/frappe/frappe/public/js/frappe/form/controls/base_control.js","../../../apps/frappe/frappe/public/js/frappe/form/controls/base_input.js","../../../apps/frappe/frappe/public/js/frappe/form/controls/data.js","../../../apps/frappe/frappe/public/js/frappe/form/controls/int.js","../../../apps/frappe/frappe/public/js/frappe/form/controls/float.js","../../../apps/frappe/frappe/public/js/frappe/form/controls/currency.js","../../../apps/frappe/frappe/public/js/frappe/form/controls/date.js","../../../apps/frappe/frappe/public/js/frappe/form/controls/time.js","../../../apps/frappe/frappe/public/js/frappe/form/controls/datetime.js","../../../apps/frappe/frappe/public/js/frappe/form/controls/date_range.js","../../../apps/frappe/frappe/public/js/frappe/form/controls/select.js","../../../apps/frappe/node_modules/awesomplete/awesomplete.js","../../../apps/frappe/frappe/public/js/frappe/form/controls/link.js","../../../apps/frappe/frappe/public/js/frappe/form/controls/dynamic_link.js","../../../apps/frappe/frappe/public/js/frappe/form/controls/text.js","../../../apps/frappe/frappe/public/js/frappe/form/controls/code.js","../../../apps/frappe/node_modules/quill/dist/quill.js","../../../apps/frappe/frappe/public/js/frappe/form/controls/text_editor.js","../../../apps/frappe/frappe/public/js/frappe/form/controls/quill-mention/constants/keys.js","../../../apps/frappe/frappe/public/js/frappe/form/controls/quill-mention/blots/mention.js","../../../apps/frappe/frappe/public/js/frappe/form/controls/quill-mention/quill.mention.js","../../../apps/frappe/frappe/public/js/frappe/form/controls/comment.js","../../../apps/frappe/frappe/public/js/frappe/form/controls/check.js","../../../apps/frappe/frappe/public/js/frappe/form/controls/image.js","../../../apps/frappe/frappe/public/js/frappe/form/controls/attach.js","../../../apps/frappe/frappe/public/js/frappe/form/controls/attach_image.js","../../../apps/frappe/frappe/public/js/frappe/form/grid_row_form.js","../../../apps/frappe/frappe/public/js/frappe/form/grid_row.js","../../../apps/frappe/frappe/public/js/frappe/form/grid.js","../../../apps/frappe/frappe/public/js/frappe/form/controls/table.js","../../../apps/frappe/frappe/public/js/frappe/form/controls/color.js","../../../apps/frappe/frappe/public/js/frappe/form/controls/signature.js","../../../apps/frappe/frappe/public/js/frappe/form/controls/password.js","../../../apps/frappe/frappe/public/js/frappe/form/controls/read_only.js","../../../apps/frappe/frappe/public/js/frappe/form/controls/button.js","../../../apps/frappe/frappe/public/js/frappe/form/controls/html.js","../../../apps/frappe/frappe/public/js/frappe/form/controls/html_editor.js","../../../apps/frappe/frappe/public/js/frappe/form/controls/heading.js","../../../apps/frappe/frappe/public/js/frappe/form/controls/autocomplete.js","../../../apps/frappe/node_modules/jsbarcode/bin/barcodes/Barcode.js","../../../apps/frappe/node_modules/jsbarcode/bin/barcodes/CODE39/index.js","../../../apps/frappe/node_modules/jsbarcode/bin/barcodes/CODE128/constants.js","../../../apps/frappe/node_modules/jsbarcode/bin/barcodes/CODE128/CODE128.js","../../../apps/frappe/node_modules/jsbarcode/bin/barcodes/CODE128/auto.js","../../../apps/frappe/node_modules/jsbarcode/bin/barcodes/CODE128/CODE128_AUTO.js","../../../apps/frappe/node_modules/jsbarcode/bin/barcodes/CODE128/CODE128A.js","../../../apps/frappe/node_modules/jsbarcode/bin/barcodes/CODE128/CODE128B.js","../../../apps/frappe/node_modules/jsbarcode/bin/barcodes/CODE128/CODE128C.js","../../../apps/frappe/node_modules/jsbarcode/bin/barcodes/CODE128/index.js","../../../apps/frappe/node_modules/jsbarcode/bin/barcodes/EAN_UPC/constants.js","../../../apps/frappe/node_modules/jsbarcode/bin/barcodes/EAN_UPC/encoder.js","../../../apps/frappe/node_modules/jsbarcode/bin/barcodes/EAN_UPC/EAN.js","../../../apps/frappe/node_modules/jsbarcode/bin/barcodes/EAN_UPC/EAN13.js","../../../apps/frappe/node_modules/jsbarcode/bin/barcodes/EAN_UPC/EAN8.js","../../../apps/frappe/node_modules/jsbarcode/bin/barcodes/EAN_UPC/EAN5.js","../../../apps/frappe/node_modules/jsbarcode/bin/barcodes/EAN_UPC/EAN2.js","../../../apps/frappe/node_modules/jsbarcode/bin/barcodes/EAN_UPC/UPC.js","../../../apps/frappe/node_modules/jsbarcode/bin/barcodes/EAN_UPC/UPCE.js","../../../apps/frappe/node_modules/jsbarcode/bin/barcodes/EAN_UPC/index.js","../../../apps/frappe/node_modules/jsbarcode/bin/barcodes/ITF14/index.js","../../../apps/frappe/node_modules/jsbarcode/bin/barcodes/ITF/index.js","../../../apps/frappe/node_modules/jsbarcode/bin/barcodes/MSI/MSI.js","../../../apps/frappe/node_modules/jsbarcode/bin/barcodes/MSI/checksums.js","../../../apps/frappe/node_modules/jsbarcode/bin/barcodes/MSI/MSI10.js","../../../apps/frappe/node_modules/jsbarcode/bin/barcodes/MSI/MSI11.js","../../../apps/frappe/node_modules/jsbarcode/bin/barcodes/MSI/MSI1010.js","../../../apps/frappe/node_modules/jsbarcode/bin/barcodes/MSI/MSI1110.js","../../../apps/frappe/node_modules/jsbarcode/bin/barcodes/MSI/index.js","../../../apps/frappe/node_modules/jsbarcode/bin/barcodes/pharmacode/index.js","../../../apps/frappe/node_modules/jsbarcode/bin/barcodes/codabar/index.js","../../../apps/frappe/node_modules/jsbarcode/bin/barcodes/GenericBarcode/index.js","../../../apps/frappe/node_modules/jsbarcode/bin/barcodes/index.js","../../../apps/frappe/node_modules/jsbarcode/bin/help/merge.js","../../../apps/frappe/node_modules/jsbarcode/bin/help/linearizeEncodings.js","../../../apps/frappe/node_modules/jsbarcode/bin/help/fixOptions.js","../../../apps/frappe/node_modules/jsbarcode/bin/help/optionsFromStrings.js","../../../apps/frappe/node_modules/jsbarcode/bin/options/defaults.js","../../../apps/frappe/node_modules/jsbarcode/bin/help/getOptionsFromElement.js","../../../apps/frappe/node_modules/jsbarcode/bin/renderers/shared.js","../../../apps/frappe/node_modules/jsbarcode/bin/renderers/canvas.js","../../../apps/frappe/node_modules/jsbarcode/bin/renderers/svg.js","../../../apps/frappe/node_modules/jsbarcode/bin/renderers/object.js","../../../apps/frappe/node_modules/jsbarcode/bin/renderers/index.js","../../../apps/frappe/node_modules/jsbarcode/bin/exceptions/exceptions.js","../../../apps/frappe/node_modules/jsbarcode/bin/help/getRenderProperties.js","../../../apps/frappe/node_modules/jsbarcode/bin/exceptions/ErrorHandler.js","../../../apps/frappe/node_modules/jsbarcode/bin/JsBarcode.js","../../../apps/frappe/frappe/public/js/frappe/form/controls/barcode.js","../../../apps/frappe/frappe/public/js/frappe/form/controls/geolocation.js","../../../apps/frappe/frappe/public/js/frappe/form/controls/multiselect.js","../../../apps/frappe/frappe/public/js/frappe/form/controls/multicheck.js"],"sourcesContent":["// frappe.ui.Capture\n// Author - Achilles Rasquinha <achilles@frappe.io>\n\n/**\n * @description Converts a canvas, image or a video to a data URL string.\n * \n * @param \t{HTMLElement} element - canvas, img or video.\n * @returns {string} \t\t\t  - The data URL string.\n * \n * @example\n * frappe._.get_data_uri(video)\n * // returns \"data:image/pngbase64,...\"\n */\nfrappe._.get_data_uri = element =>\n{\n\tconst $element = $(element)\n\tconst width    = $element.width()\n\tconst height   = $element.height()\n\n\tconst $canvas     = $('<canvas/>')\n\t$canvas[0].width  = width\n\t$canvas[0].height = height\n\n\tconst context     = $canvas[0].getContext('2d')\n\tcontext.drawImage($element[0], 0, 0, width, height)\n\t\n\tconst data_uri = $canvas[0].toDataURL('image/png')\n\n\treturn data_uri\n}\n\n/**\n * @description Frappe's Capture object.\n * \n * @example\n * const capture = frappe.ui.Capture()\n * capture.show()\n * \n * capture.click((data_uri) => {\n * \t// do stuff\n * })\n * \n * @see https://developer.mozilla.org/en-US/docs/Web/API/WebRTC_API/Taking_still_photos\n */\nfrappe.ui.Capture = class\n{\n\tconstructor (options = { })\n\t{\n\t\tthis.options = frappe.ui.Capture.OPTIONS\n\t\tthis.set_options(options)\n\t}\n\t\n\tset_options (options)\n\t{\n\t\tthis.options = { ...frappe.ui.Capture.OPTIONS, ...options }\n\t\t\n\t\treturn this\n\t}\n\t\n\trender ( )\n\t{\n\t\treturn navigator.mediaDevices.getUserMedia({ video: true }).then(stream =>\n\t\t{\n\t\t\tthis.dialog \t = new frappe.ui.Dialog({\n\t\t\t\t  title: this.options.title,\n\t\t\t\tanimate: this.options.animate,\n\t\t\t\t action:\n\t\t\t\t{\n\t\t\t\t\tsecondary:\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: \"<b>&times</b>\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\n\t\t\tconst $e \t\t = $(frappe.ui.Capture.TEMPLATE)\n\t\t\t\n\t\t\tconst video      = $e.find('video')[0]\n\t\t\tvideo.srcObject  = stream\n\t\t\tvideo.play()\n\t\t\t\n\t\t\tconst $container = $(this.dialog.body)\n\t\t\t$container.html($e)\n\t\t\t\n\t\t\t$e.find('.fc-btf').hide()\n\n\t\t\t$e.find('.fc-bcp').click(() =>\n\t\t\t{\n\t\t\t\tconst data_url = frappe._.get_data_uri(video)\n\t\t\t\t$e.find('.fc-p').attr('src', data_url)\n\n\t\t\t\t$e.find('.fc-s').hide()\n\t\t\t\t$e.find('.fc-p').show()\n\n\t\t\t\t$e.find('.fc-btu').hide()\n\t\t\t\t$e.find('.fc-btf').show()\n\t\t\t})\n\n\t\t\t$e.find('.fc-br').click(() =>\n\t\t\t{\n\t\t\t\t$e.find('.fc-p').hide()\n\t\t\t\t$e.find('.fc-s').show()\n\n\t\t\t\t$e.find('.fc-btf').hide()\n\t\t\t\t$e.find('.fc-btu').show()\n\t\t\t})\n\n\t\t\t$e.find('.fc-bs').click(() =>\n\t\t\t{\n\t\t\t\tconst data_url = frappe._.get_data_uri(video)\n\t\t\t\tthis.hide()\n\t\t\t\t\n\t\t\t\tif (this.callback)\n\t\t\t\t\tthis.callback(data_url)\n\t\t\t})\n\t\t})\n\t}\n\n\tshow ( )\n\t{\n\t\tthis.render().then(() =>\n\t\t{\n\t\t\tthis.dialog.show()\n\t\t}).catch(err => {\n\t\t\tif ( this.options.error )\n\t\t\t{\n\t\t\t\tconst alert = `<span class=\"indicator red\"/> ${frappe.ui.Capture.ERR_MESSAGE}`\n\t\t\t\tfrappe.show_alert(alert, 3)\n\t\t\t}\n\n\t\t\tthrow err\n\t\t})\n\t}\n\n\thide ( )\n\t{\n\t\tif ( this.dialog )\n\t\t\tthis.dialog.hide()\n\t}\n\n\tsubmit (fn)\n\t{\n\t\tthis.callback = fn\n\t}\n}\nfrappe.ui.Capture.OPTIONS =\n{\n\t  title: __(`Camera`),\n\tanimate: false,\n\t  error: false,\n}\nfrappe.ui.Capture.ERR_MESSAGE = __(\"Unable to load camera.\")\nfrappe.ui.Capture.TEMPLATE \t  =\n`\n<div class=\"frappe-capture\">\n\t<div class=\"panel panel-default\">\n\t\t<img class=\"fc-p img-responsive\"/>\n\t\t<div class=\"fc-s  embed-responsive embed-responsive-16by9\">\n\t\t\t<video class=\"embed-responsive-item\">${frappe.ui.Capture.ERR_MESSAGE}</video>\n\t\t</div>\n\t</div>\n\t<div>\n\t\t<div class=\"fc-btf\">\n\t\t\t<div class=\"row\">\n\t\t\t\t<div class=\"col-md-6\">\n\t\t\t\t\t<div class=\"pull-left\">\n\t\t\t\t\t\t<button class=\"btn btn-default fc-br\">\n\t\t\t\t\t\t\t<small>${__('Retake')}</small>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"col-md-6\">\n\t\t\t\t\t<div class=\"pull-right\">\n\t\t\t\t\t\t<button class=\"btn btn-primary fc-bs\">\n\t\t\t\t\t\t\t<small>${__('Submit')}</small>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"fc-btu\">\n\t\t\t<div class=\"row\">\n\t\t\t\t<div class=\"col-md-6\">\n\t\t\t\t\t${\n\t\t\t\t\t\t''\n\t\t\t\t\t\t// <div class=\"pull-left\">\n\t\t\t\t\t\t// \t<button class=\"btn btn-default\">\n\t\t\t\t\t\t// \t\t<small>${__('Take Video')}</small>\n\t\t\t\t\t\t// \t</button>\n\t\t\t\t\t\t// </div>\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t\t<div class=\"col-md-6\">\n\t\t\t\t\t<div class=\"pull-right\">\n\t\t\t\t\t\t<button class=\"btn btn-default fc-bcp\">\n\t\t\t\t\t\t\t<small>${__('Take Photo')}</small>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n`","frappe.ui.form.make_control = function (opts) {\n\tvar control_class_name = \"Control\" + opts.df.fieldtype.replace(/ /g, \"\");\n\tif(frappe.ui.form[control_class_name]) {\n\t\treturn new frappe.ui.form[control_class_name](opts);\n\t} else {\n\t\t// eslint-disable-next-line\n\t\tconsole.log(\"Invalid Control Name: \" + opts.df.fieldtype);\n\t}\n};\n\nfrappe.ui.form.Control = Class.extend({\n\tinit: function(opts) {\n\t\t$.extend(this, opts);\n\t\tthis.make();\n\n\t\t// if developer_mode=1, show fieldname as tooltip\n\t\tif(frappe.boot.user && frappe.boot.developer_mode===1 && this.$wrapper) {\n\t\t\tthis.$wrapper.attr(\"title\", __(this.df.fieldname));\n\t\t}\n\n\t\tif(this.render_input) {\n\t\t\tthis.refresh();\n\t\t}\n\t},\n\tmake: function() {\n\t\tthis.make_wrapper();\n\t\tthis.$wrapper\n\t\t\t.attr(\"data-fieldtype\", this.df.fieldtype)\n\t\t\t.attr(\"data-fieldname\", this.df.fieldname);\n\t\tthis.wrapper = this.$wrapper.get(0);\n\t\tthis.wrapper.fieldobj = this; // reference for event handlers\n\t},\n\n\tmake_wrapper: function() {\n\t\tthis.$wrapper = $(\"<div class='frappe-control'></div>\").appendTo(this.parent);\n\n\t\t// alias\n\t\tthis.wrapper = this.$wrapper;\n\t},\n\n\ttoggle: function(show) {\n\t\tthis.df.hidden = show ? 0 : 1;\n\t\tthis.refresh();\n\t},\n\n\t// returns \"Read\", \"Write\" or \"None\"\n\t// as strings based on permissions\n\tget_status: function(explain) {\n\t\tif (this.df.get_status) {\n\t\t\treturn this.df.get_status(this);\n\t\t}\n\n\t\tif(!this.doctype && !this.docname) {\n\t\t\t// like in case of a dialog box\n\t\t\tif (cint(this.df.hidden)) {\n\t\t\t\t// eslint-disable-next-line\n\t\t\t\tif(explain) console.log(\"By Hidden: None\");\n\t\t\t\treturn \"None\";\n\n\t\t\t} else if (cint(this.df.hidden_due_to_dependency)) {\n\t\t\t\t// eslint-disable-next-line\n\t\t\t\tif(explain) console.log(\"By Hidden Dependency: None\");\n\t\t\t\treturn \"None\";\n\n\t\t\t} else if (cint(this.df.read_only)) {\n\t\t\t\t// eslint-disable-next-line\n\t\t\t\tif(explain) console.log(\"By Read Only: Read\");\n\t\t\t\treturn \"Read\";\n\n\t\t\t}\n\n\t\t\treturn \"Write\";\n\t\t}\n\n\t\tvar status = frappe.perm.get_field_display_status(this.df,\n\t\t\tfrappe.model.get_doc(this.doctype, this.docname), this.perm || (this.frm && this.frm.perm), explain);\n\n\t\t// hide if no value\n\t\tif (this.doctype && status===\"Read\" && !this.only_input\n\t\t\t&& is_null(frappe.model.get_value(this.doctype, this.docname, this.df.fieldname))\n\t\t\t&& !in_list([\"HTML\", \"Image\"], this.df.fieldtype)) {\n\n\t\t\t// eslint-disable-next-line\n\t\t\tif(explain) console.log(\"By Hide Read-only, null fields: None\");\n\t\t\tstatus = \"None\";\n\t\t}\n\n\t\treturn status;\n\t},\n\trefresh: function() {\n\t\tthis.disp_status = this.get_status();\n\t\tthis.$wrapper\n\t\t\t&& this.$wrapper.toggleClass(\"hide-control\", this.disp_status==\"None\")\n\t\t\t&& this.refresh_input\n\t\t\t&& this.refresh_input();\n\n\t\tvar value = this.get_value();\n\n\t\tthis.show_translatable_button(value);\n\t},\n\tshow_translatable_button(value) {\n\t\t// Disable translation non-string fields or special string fields\n\t\tif (!frappe.model\n\t\t\t|| !this.frm\n\t\t\t|| !this.doc\n\t\t\t|| !this.df.translatable\n\t\t\t|| !frappe.model.can_write('Translation')\n\t\t\t|| !value) return;\n\n\t\t// Disable translation in website\n\t\tif (!frappe.views || !frappe.views.TranslationManager) return;\n\n\t\t// Already attached button\n\t\tif (this.$wrapper.find('.clearfix .btn-translation').length) return;\n\n\t\tconst translation_btn =\n\t\t\t`<a class=\"btn-translation no-decoration text-muted\" title=\"${__('Open Translation')}\">\n\t\t\t\t<i class=\"fa fa-globe\"></i>\n\t\t\t</a>`;\n\n\t\t$(translation_btn)\n\t\t\t.appendTo(this.$wrapper.find('.clearfix'))\n\t\t\t.on('click', () => {\n\t\t\t\tif (!this.doc.__islocal) {\n\t\t\t\t\tnew frappe.views.TranslationManager({\n\t\t\t\t\t\t'df': this.df,\n\t\t\t\t\t\t'source_name': value,\n\t\t\t\t\t\t'target_language': this.doc.language,\n\t\t\t\t\t\t'doc': this.doc\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t},\n\tget_doc: function() {\n\t\treturn this.doctype && this.docname\n\t\t\t&& locals[this.doctype] && locals[this.doctype][this.docname] || {};\n\t},\n\tget_model_value: function() {\n\t\tif(this.doc) {\n\t\t\treturn this.doc[this.df.fieldname];\n\t\t}\n\t},\n\tset_value: function(value) {\n\t\treturn this.validate_and_set_in_model(value);\n\t},\n\tparse_validate_and_set_in_model: function(value, e) {\n\t\tif(this.parse) {\n\t\t\tvalue = this.parse(value);\n\t\t}\n\t\treturn this.validate_and_set_in_model(value, e);\n\t},\n\tvalidate_and_set_in_model: function(value, e) {\n\t\tvar me = this;\n\t\tif(this.inside_change_event) {\n\t\t\treturn Promise.resolve();\n\t\t}\n\t\tthis.inside_change_event = true;\n\t\tvar set = function(value) {\n\t\t\tme.inside_change_event = false;\n\t\t\treturn frappe.run_serially([\n\t\t\t\t() => me.set_model_value(value),\n\t\t\t\t() => {\n\t\t\t\t\tme.set_mandatory && me.set_mandatory(value);\n\n\t\t\t\t\tif(me.df.change || me.df.onchange) {\n\t\t\t\t\t\t// onchange event specified in df\n\t\t\t\t\t\treturn (me.df.change || me.df.onchange).apply(me, [e]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]);\n\t\t};\n\n\t\tvalue = this.validate(value);\n\t\tif (value && value.then) {\n\t\t\t// got a promise\n\t\t\treturn value.then((value) => set(value));\n\t\t} else {\n\t\t\t// all clear\n\t\t\treturn set(value);\n\t\t}\n\t},\n\tget_value: function() {\n\t\tif(this.get_status()==='Write') {\n\t\t\treturn this.get_input_value ?\n\t\t\t\t(this.parse ? this.parse(this.get_input_value()) : this.get_input_value()) :\n\t\t\t\tundefined;\n\t\t} else {\n\t\t\treturn this.value || undefined;\n\t\t}\n\t},\n\tset_model_value: function(value) {\n\t\tif(this.doctype && this.docname) {\n\t\t\tthis.last_value = value;\n\t\t\treturn frappe.model.set_value(this.doctype, this.docname, this.df.fieldname,\n\t\t\t\tvalue, this.df.fieldtype);\n\t\t} else {\n\t\t\tif(this.doc) {\n\t\t\t\tthis.doc[this.df.fieldname] = value;\n\t\t\t}\n\t\t\tthis.set_input(value);\n\t\t\treturn Promise.resolve();\n\t\t}\n\t},\n\tset_focus: function() {\n\t\tif(this.$input) {\n\t\t\tthis.$input.get(0).focus();\n\t\t\treturn true;\n\t\t}\n\t}\n});\n","frappe.ui.form.ControlInput = frappe.ui.form.Control.extend({\n\thorizontal: true,\n\tmake: function() {\n\t\t// parent element\n\t\tthis._super();\n\t\tthis.set_input_areas();\n\n\t\t// set description\n\t\tthis.set_max_width();\n\t},\n\tmake_wrapper: function() {\n\t\tif(this.only_input) {\n\t\t\tthis.$wrapper = $('<div class=\"form-group frappe-control\">').appendTo(this.parent);\n\t\t} else {\n\t\t\tthis.$wrapper = $('<div class=\"frappe-control\">\\\n\t\t\t\t<div class=\"form-group\">\\\n\t\t\t\t\t<div class=\"clearfix\">\\\n\t\t\t\t\t\t<label class=\"control-label\" style=\"padding-right: 0px;\"></label>\\\n\t\t\t\t\t</div>\\\n\t\t\t\t\t<div class=\"control-input-wrapper\">\\\n\t\t\t\t\t\t<div class=\"control-input\"></div>\\\n\t\t\t\t\t\t<div class=\"control-value like-disabled-input\" style=\"display: none;\"></div>\\\n\t\t\t\t\t\t<p class=\"help-box small text-muted hidden-xs\"></p>\\\n\t\t\t\t\t</div>\\\n\t\t\t\t</div>\\\n\t\t\t</div>').appendTo(this.parent);\n\t\t}\n\t},\n\ttoggle_label: function(show) {\n\t\tthis.$wrapper.find(\".control-label\").toggleClass(\"hide\", !show);\n\t},\n\ttoggle_description: function(show) {\n\t\tthis.$wrapper.find(\".help-box\").toggleClass(\"hide\", !show);\n\t},\n\tset_input_areas: function() {\n\t\tif(this.only_input) {\n\t\t\tthis.input_area = this.wrapper;\n\t\t} else {\n\t\t\tthis.label_area = this.label_span = this.$wrapper.find(\"label\").get(0);\n\t\t\tthis.input_area = this.$wrapper.find(\".control-input\").get(0);\n\t\t\tthis.$input_wrapper = this.$wrapper.find(\".control-input-wrapper\");\n\t\t\t// keep a separate display area to rendered formatted values\n\t\t\t// like links, currencies, HTMLs etc.\n\t\t\tthis.disp_area = this.$wrapper.find(\".control-value\").get(0);\n\t\t}\n\t},\n\tset_max_width: function() {\n\t\tif(this.horizontal) {\n\t\t\tthis.$wrapper.addClass(\"input-max-width\");\n\t\t}\n\t},\n\n\t// update input value, label, description\n\t// display (show/hide/read-only),\n\t// mandatory style on refresh\n\trefresh_input: function() {\n\t\tvar me = this;\n\t\tvar make_input = function() {\n\t\t\tif(!me.has_input) {\n\t\t\t\tme.make_input();\n\t\t\t\tif(me.df.on_make) {\n\t\t\t\t\tme.df.on_make(me);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tvar update_input = function() {\n\t\t\tif(me.doctype && me.docname) {\n\t\t\t\tme.set_input(me.value);\n\t\t\t} else {\n\t\t\t\tme.set_input(me.value || null);\n\t\t\t}\n\t\t};\n\n\t\tif (me.disp_status != \"None\") {\n\t\t\t// refresh value\n\t\t\tif(me.doctype && me.docname) {\n\t\t\t\tme.value = frappe.model.get_value(me.doctype, me.docname, me.df.fieldname);\n\t\t\t}\n\n\t\t\tif(me.disp_status==\"Write\") {\n\t\t\t\tme.disp_area && $(me.disp_area).toggle(false);\n\t\t\t\t$(me.input_area).toggle(true);\n\t\t\t\tme.$input && me.$input.prop(\"disabled\", false);\n\t\t\t\tmake_input();\n\t\t\t\tupdate_input();\n\t\t\t} else {\n\t\t\t\tif(me.only_input) {\n\t\t\t\t\tmake_input();\n\t\t\t\t\tupdate_input();\n\t\t\t\t} else {\n\t\t\t\t\t$(me.input_area).toggle(false);\n\t\t\t\t\tif (me.disp_area) {\n\t\t\t\t\t\tme.set_disp_area(me.value);\n\t\t\t\t\t\t$(me.disp_area).toggle(true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tme.$input && me.$input.prop(\"disabled\", true);\n\t\t\t}\n\n\t\t\tme.set_description();\n\t\t\tme.set_label();\n\t\t\tme.set_mandatory(me.value);\n\t\t\tme.set_bold();\n\t\t}\n\t},\n\n\tset_disp_area: function(value) {\n\t\tif(in_list([\"Currency\", \"Int\", \"Float\"], this.df.fieldtype)\n\t\t\t&& (this.value === 0 || value === 0)) {\n\t\t\t// to set the 0 value in readonly for currency, int, float field\n\t\t\tvalue = 0;\n\t\t} else {\n\t\t\tvalue = this.value || value;\n\t\t}\n\t\tthis.disp_area && $(this.disp_area)\n\t\t\t.html(frappe.format(value, this.df, {no_icon:true, inline:true},\n\t\t\t\tthis.doc || (this.frm && this.frm.doc)));\n\t},\n\n\tbind_change_event: function() {\n\t\tvar me = this;\n\t\tthis.$input && this.$input.on(\"change\", this.change || function(e) {\n\t\t\tme.parse_validate_and_set_in_model(me.get_input_value(), e);\n\t\t});\n\t},\n\tbind_focusout: function() {\n\t\t// on touchscreen devices, scroll to top\n\t\t// so that static navbar and page head don't overlap the input\n\t\tif (frappe.dom.is_touchscreen()) {\n\t\t\tvar me = this;\n\t\t\tthis.$input && this.$input.on(\"focusout\", function() {\n\t\t\t\tif (frappe.dom.is_touchscreen()) {\n\t\t\t\t\tfrappe.utils.scroll_to(me.$wrapper);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\tset_label: function(label) {\n\t\tif(label) this.df.label = label;\n\n\t\tif(this.only_input || this.df.label==this._label)\n\t\t\treturn;\n\n\t\tvar icon = \"\";\n\t\tthis.label_span.innerHTML = (icon ? '<i class=\"'+icon+'\"></i> ' : \"\") +\n\t\t\t__(this.df.label)  || \"&nbsp;\";\n\t\tthis._label = this.df.label;\n\t},\n\tset_description: function(description) {\n\t\tif (description !== undefined) {\n\t\t\tthis.df.description = description;\n\t\t}\n\t\tif (this.only_input || this.df.description===this._description) {\n\t\t\treturn;\n\t\t}\n\t\tif (this.df.description) {\n\t\t\tthis.$wrapper.find(\".help-box\").html(__(this.df.description));\n\t\t} else {\n\t\t\tthis.set_empty_description();\n\t\t}\n\t\tthis._description = this.df.description;\n\t},\n\tset_new_description: function(description) {\n\t\tthis.$wrapper.find(\".help-box\").html(description);\n\t},\n\tset_empty_description: function() {\n\t\tthis.$wrapper.find(\".help-box\").html(\"\");\n\t},\n\tset_mandatory: function(value) {\n\t\tthis.$wrapper.toggleClass(\"has-error\", (this.df.reqd && is_null(value)) ? true : false);\n\t},\n\tset_bold: function() {\n\t\tif(this.$input) {\n\t\t\tthis.$input.toggleClass(\"bold\", !!(this.df.bold || this.df.reqd));\n\t\t}\n\t\tif(this.disp_area) {\n\t\t\t$(this.disp_area).toggleClass(\"bold\", !!(this.df.bold || this.df.reqd));\n\t\t}\n\t}\n});\n","frappe.ui.form.ControlData = frappe.ui.form.ControlInput.extend({\n\thtml_element: \"input\",\n\tinput_type: \"text\",\n\tmake_input: function() {\n\t\tif(this.$input) return;\n\n\t\tthis.$input = $(\"<\"+ this.html_element +\">\")\n\t\t\t.attr(\"type\", this.input_type)\n\t\t\t.attr(\"autocomplete\", \"off\")\n\t\t\t.addClass(\"input-with-feedback form-control\")\n\t\t\t.prependTo(this.input_area);\n\n\t\tif (in_list(['Data', 'Link', 'Dynamic Link', 'Password', 'Select', 'Read Only', 'Attach', 'Attach Image'],\n\t\t\tthis.df.fieldtype)) {\n\t\t\tthis.$input.attr(\"maxlength\", this.df.length || 140);\n\t\t}\n\n\t\tthis.set_input_attributes();\n\t\tthis.input = this.$input.get(0);\n\t\tthis.has_input = true;\n\t\tthis.bind_change_event();\n\t\tthis.bind_focusout();\n\t\tthis.setup_autoname_check();\n\n\t\t// somehow this event does not bubble up to document\n\t\t// after v7, if you can debug, remove this\n\t},\n\tsetup_autoname_check: function() {\n\t\tif (!this.df.parent) return;\n\t\tthis.meta = frappe.get_meta(this.df.parent);\n\t\tif (this.meta && ((this.meta.autoname\n\t\t\t&& this.meta.autoname.substr(0, 6)==='field:'\n\t\t\t&& this.meta.autoname.substr(6) === this.df.fieldname) || this.df.fieldname==='__newname') ) {\n\t\t\tthis.$input.on('keyup', () => {\n\t\t\t\tthis.set_description('');\n\t\t\t\tif (this.doc && this.doc.__islocal) {\n\t\t\t\t\t// check after 1 sec\n\t\t\t\t\tlet timeout = setTimeout(() => {\n\t\t\t\t\t\t// clear any pending calls\n\t\t\t\t\t\tif (this.last_check) clearTimeout(this.last_check);\n\n\t\t\t\t\t\t// check if name exists\n\t\t\t\t\t\tfrappe.db.get_value(this.doctype, this.$input.val(),\n\t\t\t\t\t\t\t'name', (val) => {\n\t\t\t\t\t\t\t\tif (val) {\n\t\t\t\t\t\t\t\t\tthis.set_description(__('{0} already exists. Select another name', [val.name]));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tthis.doc.parenttype\n\t\t\t\t\t\t);\n\t\t\t\t\t\tthis.last_check = null;\n\t\t\t\t\t}, 1000);\n\t\t\t\t\tthis.last_check = timeout;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\tset_input_attributes: function() {\n\t\tthis.$input\n\t\t\t.attr(\"data-fieldtype\", this.df.fieldtype)\n\t\t\t.attr(\"data-fieldname\", this.df.fieldname)\n\t\t\t.attr(\"placeholder\", this.df.placeholder || \"\");\n\t\tif(this.doctype) {\n\t\t\tthis.$input.attr(\"data-doctype\", this.doctype);\n\t\t}\n\t\tif(this.df.input_css) {\n\t\t\tthis.$input.css(this.df.input_css);\n\t\t}\n\t\tif(this.df.input_class) {\n\t\t\tthis.$input.addClass(this.df.input_class);\n\t\t}\n\t},\n\tset_input: function(value) {\n\t\tthis.last_value = this.value;\n\t\tthis.value = value;\n\t\tthis.set_formatted_input(value);\n\t\tthis.set_disp_area(value);\n\t\tthis.set_mandatory && this.set_mandatory(value);\n\t},\n\tset_formatted_input: function(value) {\n\t\tthis.$input && this.$input.val(this.format_for_input(value));\n\t},\n\tget_input_value: function() {\n\t\treturn this.$input ? this.$input.val() : undefined;\n\t},\n\tformat_for_input: function(val) {\n\t\treturn val==null ? \"\" : val;\n\t},\n\tvalidate: function(v) {\n\t\tif(this.df.is_filter) {\n\t\t\treturn v;\n\t\t}\n\t\tif(this.df.options == 'Phone') {\n\t\t\tif(v+''=='') {\n\t\t\t\treturn '';\n\t\t\t}\n\t\t\tvar v1 = '';\n\t\t\t// phone may start with + and must only have numbers later, '-' and ' ' are stripped\n\t\t\tv = v.replace(/ /g, '').replace(/-/g, '').replace(/\\(/g, '').replace(/\\)/g, '');\n\n\t\t\t// allow initial +,0,00\n\t\t\tif(v && v.substr(0,1)=='+') {\n\t\t\t\tv1 = '+'; v = v.substr(1);\n\t\t\t}\n\t\t\tif(v && v.substr(0,2)=='00') {\n\t\t\t\tv1 += '00'; v = v.substr(2);\n\t\t\t}\n\t\t\tif(v && v.substr(0,1)=='0') {\n\t\t\t\tv1 += '0'; v = v.substr(1);\n\t\t\t}\n\t\t\tv1 += cint(v) + '';\n\t\t\treturn v1;\n\t\t} else if(this.df.options == 'Email') {\n\t\t\tif(v+''=='') {\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\tvar email_list = frappe.utils.split_emails(v);\n\t\t\tif (!email_list) {\n\t\t\t\t// invalid email\n\t\t\t\treturn '';\n\t\t\t} else {\n\t\t\t\tvar invalid_email = false;\n\t\t\t\temail_list.forEach(function(email) {\n\t\t\t\t\tif (!validate_email(email)) {\n\t\t\t\t\t\tfrappe.msgprint(__(\"Invalid Email: {0}\", [email]));\n\t\t\t\t\t\tinvalid_email = true;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (invalid_email) {\n\t\t\t\t\t// at least 1 invalid email\n\t\t\t\t\treturn '';\n\t\t\t\t} else {\n\t\t\t\t\t// all good\n\t\t\t\t\treturn v;\n\t\t\t\t}\n\t\t\t}\n\n\t\t} else {\n\t\t\treturn v;\n\t\t}\n\t}\n});\n","frappe.ui.form.ControlInt = frappe.ui.form.ControlData.extend({\n\tmake: function() {\n\t\tthis._super();\n\t\t// $(this.label_area).addClass('pull-right');\n\t\t// $(this.disp_area).addClass('text-right');\n\t},\n\tmake_input: function() {\n\t\tvar me = this;\n\t\tthis._super();\n\t\tthis.$input\n\t\t\t// .addClass(\"text-right\")\n\t\t\t.on(\"focus\", function() {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tif(!document.activeElement) return;\n\t\t\t\t\tdocument.activeElement.value\n\t\t\t\t\t\t= me.validate(document.activeElement.value);\n\t\t\t\t\tdocument.activeElement.select();\n\t\t\t\t}, 100);\n\t\t\t\treturn false;\n\t\t\t});\n\t},\n\teval_expression: function(value) {\n\t\tif (typeof value==='string'\n\t\t\t&& value.match(/^[0-9+-/* ]+$/)\n\t\t\t// strings with commas are evaluated incorrectly\n\t\t\t// for e.g 47,186.00 -> 186\n\t\t\t&& !value.includes(',')) {\n\t\t\ttry {\n\t\t\t\treturn eval(value);\n\t\t\t} catch (e) {\n\t\t\t\t// bad expression\n\t\t\t\treturn value;\n\t\t\t}\n\t\t} else {\n\t\t\treturn value;\n\t\t}\n\t},\n\tparse: function(value) {\n\t\treturn cint(this.eval_expression(value), null);\n\t}\n});\n","frappe.ui.form.ControlFloat = frappe.ui.form.ControlInt.extend({\n\tparse: function(value) {\n\t\tvalue = this.eval_expression(value);\n\t\treturn isNaN(parseFloat(value)) ? null : flt(value, this.get_precision());\n\t},\n\n\tformat_for_input: function(value) {\n\t\tvar number_format;\n\t\tif (this.df.fieldtype===\"Float\" && this.df.options && this.df.options.trim()) {\n\t\t\tnumber_format = this.get_number_format();\n\t\t}\n\t\tvar formatted_value = format_number(parseFloat(value), number_format, this.get_precision());\n\t\treturn isNaN(parseFloat(value)) ? \"\" : formatted_value;\n\t},\n\n\t// even a float field can be formatted based on currency format instead of float format\n\tget_number_format: function() {\n\t\tvar currency = frappe.meta.get_field_currency(this.df, this.get_doc());\n\t\treturn get_number_format(currency);\n\t},\n\n\tget_precision: function() {\n\t\t// round based on field precision or float precision, else don't round\n\t\treturn this.df.precision || cint(frappe.boot.sysdefaults.float_precision, null);\n\t}\n});\n\nfrappe.ui.form.ControlPercent = frappe.ui.form.ControlFloat;\n","frappe.ui.form.ControlCurrency = frappe.ui.form.ControlFloat.extend({\n\tformat_for_input: function(value) {\n\t\tvar formatted_value = format_number(parseFloat(value), this.get_number_format(), this.get_precision());\n\t\treturn isNaN(parseFloat(value)) ? \"\" : formatted_value;\n\t},\n\n\tget_precision: function() {\n\t\t// always round based on field precision or currency's precision\n\t\t// this method is also called in this.parse()\n\t\tif (!this.df.precision) {\n\t\t\tif(frappe.boot.sysdefaults.currency_precision) {\n\t\t\t\tthis.df.precision = frappe.boot.sysdefaults.currency_precision;\n\t\t\t} else {\n\t\t\t\tthis.df.precision = get_number_format_info(this.get_number_format()).precision;\n\t\t\t}\n\t\t}\n\n\t\treturn this.df.precision;\n\t}\n});\n","\n\nfrappe.ui.form.ControlDate = frappe.ui.form.ControlData.extend({\n\tmake_input: function() {\n\t\tthis._super();\n\t\tthis.set_date_options();\n\t\tthis.set_datepicker();\n\t\tthis.set_t_for_today();\n\t},\n\tset_formatted_input: function(value) {\n\t\tthis._super(value);\n\t\tif (!this.datepicker) return;\n\t\tif(!value) {\n\t\t\tthis.datepicker.clear();\n\t\t\treturn;\n\t\t}\n\n\t\tlet should_refresh = this.last_value && this.last_value !== value;\n\n\t\tif (!should_refresh) {\n\t\t\tif(this.datepicker.selectedDates.length > 0) {\n\t\t\t\t// if date is selected but different from value, refresh\n\t\t\t\tconst selected_date =\n\t\t\t\t\tmoment(this.datepicker.selectedDates[0])\n\t\t\t\t\t\t.format(this.date_format);\n\n\t\t\t\tshould_refresh = selected_date !== value;\n\t\t\t} else {\n\t\t\t\t// if datepicker has no selected date, refresh\n\t\t\t\tshould_refresh = true;\n\t\t\t}\n\t\t}\n\n\t\tif(should_refresh) {\n\t\t\tthis.datepicker.selectDate(frappe.datetime.str_to_obj(value));\n\t\t}\n\t},\n\tset_date_options: function() {\n\t\t// webformTODO:\n\t\tlet sysdefaults = frappe.boot.sysdefaults;\n\n\t\tlet lang = frappe.boot.user.language || 'en';\n\t\tif(!$.fn.datepicker.language[lang]) {\n\t\t\tlang = 'en';\n\t\t}\n\n\t\tlet date_format = sysdefaults && sysdefaults.date_format\n\t\t\t? sysdefaults.date_format : 'yyyy-mm-dd';\n\n\t\tlet now_date = new Date();\n\n\t\tthis.today_text = __(\"Today\");\n\t\tthis.date_format = frappe.defaultDateFormat;\n\t\tthis.datepicker_options = {\n\t\t\tlanguage: lang,\n\t\t\tautoClose: true,\n\t\t\ttodayButton: true,\n\t\t\tdateFormat: date_format,\n\t\t\tstartDate: now_date,\n\t\t\tkeyboardNav: false,\n\t\t\tonSelect: () => {\n\t\t\t\tthis.$input.trigger('change');\n\t\t\t},\n\t\t\tonShow: () => {\n\t\t\t\tthis.datepicker.$datepicker\n\t\t\t\t\t.find('.datepicker--button:visible')\n\t\t\t\t\t.text(this.today_text);\n\n\t\t\t\tthis.update_datepicker_position();\n\t\t\t}\n\t\t};\n\t},\n\tupdate_datepicker_position: function() {\n\t\tif(!this.frm) return;\n\t\t// show datepicker above or below the input\n\t\t// based on scroll position\n\t\tvar window_height = $(window).height();\n\t\tvar window_scroll_top = $(window).scrollTop();\n\t\tvar el_offset_top = this.$input.offset().top + 280;\n\t\tvar position = 'top left';\n\t\tif(window_height + window_scroll_top >= el_offset_top) {\n\t\t\tposition = 'bottom left';\n\t\t}\n\t\tthis.datepicker.update('position', position);\n\t},\n\tset_datepicker: function() {\n\t\tthis.$input.datepicker(this.datepicker_options);\n\t\tthis.datepicker = this.$input.data('datepicker');\n\n\t\t// today button didn't work as expected,\n\t\t// so explicitly bind the event\n\t\tthis.datepicker.$datepicker\n\t\t\t.find('[data-action=\"today\"]')\n\t\t\t.click(() => {\n\t\t\t\tthis.datepicker.selectDate(this.get_now_date());\n\t\t\t});\n\t},\n\tget_now_date: function() {\n\t\treturn frappe.datetime.now_date(true);\n\t},\n\tset_t_for_today: function() {\n\t\tvar me = this;\n\t\tthis.$input.on(\"keydown\", function(e) {\n\t\t\tif(e.which===84) { // 84 === t\n\t\t\t\tif(me.df.fieldtype=='Date') {\n\t\t\t\t\tme.set_value(frappe.datetime.nowdate());\n\t\t\t\t} if(me.df.fieldtype=='Datetime') {\n\t\t\t\t\tme.set_value(frappe.datetime.now_datetime());\n\t\t\t\t} if(me.df.fieldtype=='Time') {\n\t\t\t\t\tme.set_value(frappe.datetime.now_time());\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\t},\n\tparse: function(value) {\n\t\tif(value) {\n\t\t\treturn frappe.datetime.user_to_str(value);\n\t\t}\n\t},\n\tformat_for_input: function(value) {\n\t\tif(value) {\n\t\t\treturn frappe.datetime.str_to_user(value);\n\t\t}\n\t\treturn \"\";\n\t},\n\tvalidate: function(value) {\n\t\tif(value && !frappe.datetime.validate(value)) {\n\t\t\tlet sysdefaults = frappe.sys_defaults;\n\t\t\tlet date_format = sysdefaults && sysdefaults.date_format\n\t\t\t\t? sysdefaults.date_format : 'yyyy-mm-dd';\n\t\t\tfrappe.msgprint(__(\"Date {0} must be in format: {1}\", [value, date_format]));\n\t\t\treturn '';\n\t\t}\n\t\treturn value;\n\t}\n});\n","frappe.ui.form.ControlTime = frappe.ui.form.ControlData.extend({\n\tmake_input: function() {\n\t\tvar me = this;\n\t\tthis._super();\n\t\tthis.$input.datepicker({\n\t\t\tlanguage: \"en\",\n\t\t\ttimepicker: true,\n\t\t\tonlyTimepicker: true,\n\t\t\ttimeFormat: \"hh:ii:ss\",\n\t\t\tstartDate: frappe.datetime.now_time(true),\n\t\t\tonSelect: function() {\n\t\t\t\t// ignore micro seconds\n\t\t\t\tif (moment(me.get_value(), 'hh:mm:ss').format('HH:mm:ss') != moment(me.value, 'hh:mm:ss').format('HH:mm:ss')) {\n\t\t\t\t\tme.$input.trigger('change');\n\t\t\t\t}\t\t\t\t\n\t\t\t},\n\t\t\tonShow: function() {\n\t\t\t\t$('.datepicker--button:visible').text(__('Now'));\n\t\t\t},\n\t\t\tkeyboardNav: false,\n\t\t\ttodayButton: true\n\t\t});\n\t\tthis.datepicker = this.$input.data('datepicker');\n\t\tthis.datepicker.$datepicker\n\t\t\t.find('[data-action=\"today\"]')\n\t\t\t.click(() => {\n\t\t\t\tthis.datepicker.selectDate(frappe.datetime.now_time(true));\n\t\t\t});\n\t\tthis.refresh();\n\t},\n\tset_input: function(value) {\n\t\tthis._super(value);\n\t\tif(value\n\t\t\t&& ((this.last_value && this.last_value !== this.value)\n\t\t\t\t|| (!this.datepicker.selectedDates.length))) {\n\n\t\t\tvar date_obj = frappe.datetime.moment_to_date_obj(moment(value, 'HH:mm:ss'));\n\t\t\tthis.datepicker.selectDate(date_obj);\n\t\t}\n\t},\n\tset_description: function() {\n\t\tconst { description } = this.df;\n\t\tconst { time_zone } = frappe.sys_defaults;\n\t\tif (!frappe.datetime.is_timezone_same()) {\n\t\t\tif (!description) {\n\t\t\t\tthis.df.description = time_zone;\n\t\t\t} else if (!description.includes(time_zone)) {\n\t\t\t\tthis.df.description += '<br>' + time_zone;\n\t\t\t}\n\t\t}\n\t\tthis._super();\n\t}\n});\n","frappe.ui.form.ControlDatetime = frappe.ui.form.ControlDate.extend({\n\tset_date_options: function() {\n\t\tthis._super();\n\t\tthis.today_text = __(\"Now\");\n\t\tthis.date_format = frappe.defaultDatetimeFormat;\n\t\t$.extend(this.datepicker_options, {\n\t\t\ttimepicker: true,\n\t\t\ttimeFormat: \"hh:ii:ss\"\n\t\t});\n\t},\n\tget_now_date: function() {\n\t\treturn frappe.datetime.now_datetime(true);\n\t},\n\tset_description: function() {\n\t\tconst { description } = this.df;\n\t\tconst { time_zone } = frappe.sys_defaults;\n\t\tif (!frappe.datetime.is_timezone_same()) {\n\t\t\tif (!description) {\n\t\t\t\tthis.df.description = time_zone;\n\t\t\t} else if (!description.includes(time_zone)) {\n\t\t\t\tthis.df.description += '<br>' + time_zone;\n\t\t\t}\n\t\t}\n\t\tthis._super();\n\t}\n});\n","frappe.ui.form.ControlDateRange = frappe.ui.form.ControlData.extend({\n\tmake_input: function() {\n\t\tthis._super();\n\t\tthis.set_date_options();\n\t\tthis.set_datepicker();\n\t\tthis.refresh();\n\t},\n\tset_date_options: function() {\n\t\tvar me = this;\n\t\tthis.datepicker_options = {\n\t\t\tlanguage: \"en\",\n\t\t\trange: true,\n\t\t\tautoClose: true,\n\t\t\ttoggleSelected: false\n\t\t};\n\t\tthis.datepicker_options.dateFormat =\n\t\t\t(frappe.boot.sysdefaults.date_format || 'yyyy-mm-dd');\n\t\tthis.datepicker_options.onSelect = function() {\n\t\t\tme.$input.trigger('change');\n\t\t};\n\t},\n\tset_datepicker: function() {\n\t\tthis.$input.datepicker(this.datepicker_options);\n\t\tthis.datepicker = this.$input.data('datepicker');\n\t},\n\tset_input: function(value, value2) {\n\t\tthis.last_value = this.value;\n\t\tif (value && value2) {\n\t\t\tthis.value = [value, value2];\n\t\t} else {\n\t\t\tthis.value = value;\n\t\t}\n\t\tif (this.value) {\n\t\t\tlet formatted = this.format_for_input(this.value[0], this.value[1]);\n\t\t\tthis.$input && this.$input.val(formatted);\n\t\t} else {\n\t\t\tthis.$input && this.$input.val(\"\");\n\t\t}\n\t\tthis.set_disp_area(value || '');\n\t\tthis.set_mandatory && this.set_mandatory(value);\n\t},\n\tparse: function(value) {\n\t\t// replace the separator (which can be in user language) with comma\n\t\tconst to = __('{0} to {1}').replace('{0}', '').replace('{1}', '');\n\t\tvalue = value.replace(to, ',');\n\n\t\tif(value && value.includes(',')) {\n\t\t\tvar vals = value.split(',');\n\t\t\tvar from_date = moment(frappe.datetime.user_to_obj(vals[0])).format('YYYY-MM-DD');\n\t\t\tvar to_date = moment(frappe.datetime.user_to_obj(vals[vals.length-1])).format('YYYY-MM-DD');\n\t\t\treturn [from_date, to_date];\n\t\t}\n\t},\n\tformat_for_input: function(value1, value2) {\n\t\tif(value1 && value2) {\n\t\t\tvalue1 = frappe.datetime.str_to_user(value1);\n\t\t\tvalue2 = frappe.datetime.str_to_user(value2);\n\t\t\treturn __(\"{0} to {1}\", [value1, value2]);\n\t\t}\n\t\treturn \"\";\n\t}\n});\n","frappe.ui.form.ControlSelect = frappe.ui.form.ControlData.extend({\n\thtml_element: \"select\",\n\tmake_input: function() {\n\t\tthis._super();\n\t\tthis.set_options();\n\t},\n\tset_formatted_input: function(value) {\n\t\t// refresh options first - (new ones??)\n\t\tif(value==null) value = '';\n\t\tthis.set_options(value);\n\n\t\t// set in the input element\n\t\tthis._super(value);\n\n\t\t// check if the value to be set is selected\n\t\tvar input_value = '';\n\t\tif(this.$input) {\n\t\t\tinput_value = this.$input.val();\n\t\t}\n\n\t\tif(value && input_value && value !== input_value) {\n\t\t\t// trying to set a non-existant value\n\t\t\t// model value must be same as whatever the input is\n\t\t\tthis.set_model_value(input_value);\n\t\t}\n\t},\n\tset_options: function(value) {\n\t\t// reset options, if something new is set\n\t\tvar options = this.df.options || [];\n\n\t\tif(typeof this.df.options===\"string\") {\n\t\t\toptions = this.df.options.split(\"\\n\");\n\t\t}\n\n\t\t// nothing changed\n\t\tif(options.toString() === this.last_options) {\n\t\t\treturn;\n\t\t}\n\t\tthis.last_options = options.toString();\n\n\t\tif(this.$input) {\n\t\t\tvar selected = this.$input.find(\":selected\").val();\n\t\t\tthis.$input.empty().add_options(options || []);\n\n\t\t\tif(value===undefined && selected) {\n\t\t\t\tthis.$input.val(selected);\n\t\t\t}\n\t\t}\n\t},\n\tget_file_attachment_list: function() {\n\t\tif(!this.frm) return;\n\t\tvar fl = frappe.model.docinfo[this.frm.doctype][this.frm.docname];\n\t\tif(fl && fl.attachments) {\n\t\t\tthis.set_description(\"\");\n\t\t\tvar options = [\"\"];\n\t\t\t$.each(fl.attachments, function(i, f) {\n\t\t\t\toptions.push(f.file_url);\n\t\t\t});\n\t\t\treturn options;\n\t\t} else {\n\t\t\tthis.set_description(__(\"Please attach a file first.\"));\n\t\t\treturn [\"\"];\n\t\t}\n\t}\n});\n","/**\n * Simple, lightweight, usable local autocomplete library for modern browsers\n * Because there weren’t enough autocomplete scripts in the world? Because I’m completely insane and have NIH syndrome? Probably both. :P\n * @author Lea Verou http://leaverou.github.io/awesomplete\n * MIT license\n */\n\n(function () {\n\nvar _ = function (input, o) {\n\tvar me = this;\n\n\t// Setup\n\n\tthis.isOpened = false;\n\n\tthis.input = $(input);\n\tthis.input.setAttribute(\"autocomplete\", \"off\");\n\tthis.input.setAttribute(\"aria-autocomplete\", \"list\");\n\n\to = o || {};\n\n\tconfigure(this, {\n\t\tminChars: 2,\n\t\tmaxItems: 10,\n\t\tautoFirst: false,\n\t\tdata: _.DATA,\n\t\tfilter: _.FILTER_CONTAINS,\n\t\tsort: o.sort === false ? false : _.SORT_BYLENGTH,\n\t\titem: _.ITEM,\n\t\treplace: _.REPLACE\n\t}, o);\n\n\tthis.index = -1;\n\n\t// Create necessary elements\n\n\tthis.container = $.create(\"div\", {\n\t\tclassName: \"awesomplete\",\n\t\taround: input\n\t});\n\n\tthis.ul = $.create(\"ul\", {\n\t\thidden: \"hidden\",\n\t\tinside: this.container\n\t});\n\n\tthis.status = $.create(\"span\", {\n\t\tclassName: \"visually-hidden\",\n\t\trole: \"status\",\n\t\t\"aria-live\": \"assertive\",\n\t\t\"aria-relevant\": \"additions\",\n\t\tinside: this.container\n\t});\n\n\t// Bind events\n\n\tthis._events = {\n\t\tinput: {\n\t\t\t\"input\": this.evaluate.bind(this),\n\t\t\t\"blur\": this.close.bind(this, { reason: \"blur\" }),\n\t\t\t\"keydown\": function(evt) {\n\t\t\t\tvar c = evt.keyCode;\n\n\t\t\t\t// If the dropdown `ul` is in view, then act on keydown for the following keys:\n\t\t\t\t// Enter / Esc / Up / Down\n\t\t\t\tif(me.opened) {\n\t\t\t\t\tif (c === 13 && me.selected) { // Enter\n\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t\tme.select();\n\t\t\t\t\t}\n\t\t\t\t\telse if (c === 27) { // Esc\n\t\t\t\t\t\tme.close({ reason: \"esc\" });\n\t\t\t\t\t}\n\t\t\t\t\telse if (c === 38 || c === 40) { // Down/Up arrow\n\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t\tme[c === 38? \"previous\" : \"next\"]();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tform: {\n\t\t\t\"submit\": this.close.bind(this, { reason: \"submit\" })\n\t\t},\n\t\tul: {\n\t\t\t\"mousedown\": function(evt) {\n\t\t\t\tvar li = evt.target;\n\n\t\t\t\tif (li !== this) {\n\n\t\t\t\t\twhile (li && !/li/i.test(li.nodeName)) {\n\t\t\t\t\t\tli = li.parentNode;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (li && evt.button === 0) {  // Only select on left click\n\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t\tme.select(li, evt.target);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t$.bind(this.input, this._events.input);\n\t$.bind(this.input.form, this._events.form);\n\t$.bind(this.ul, this._events.ul);\n\n\tif (this.input.hasAttribute(\"list\")) {\n\t\tthis.list = \"#\" + this.input.getAttribute(\"list\");\n\t\tthis.input.removeAttribute(\"list\");\n\t}\n\telse {\n\t\tthis.list = this.input.getAttribute(\"data-list\") || o.list || [];\n\t}\n\n\t_.all.push(this);\n};\n\n_.prototype = {\n\tset list(list) {\n\t\tif (Array.isArray(list)) {\n\t\t\tthis._list = list;\n\t\t}\n\t\telse if (typeof list === \"string\" && list.indexOf(\",\") > -1) {\n\t\t\t\tthis._list = list.split(/\\s*,\\s*/);\n\t\t}\n\t\telse { // Element or CSS selector\n\t\t\tlist = $(list);\n\n\t\t\tif (list && list.children) {\n\t\t\t\tvar items = [];\n\t\t\t\tslice.apply(list.children).forEach(function (el) {\n\t\t\t\t\tif (!el.disabled) {\n\t\t\t\t\t\tvar text = el.textContent.trim();\n\t\t\t\t\t\tvar value = el.value || text;\n\t\t\t\t\t\tvar label = el.label || text;\n\t\t\t\t\t\tif (value !== \"\") {\n\t\t\t\t\t\t\titems.push({ label: label, value: value });\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthis._list = items;\n\t\t\t}\n\t\t}\n\n\t\tif (document.activeElement === this.input) {\n\t\t\tthis.evaluate();\n\t\t}\n\t},\n\n\tget selected() {\n\t\treturn this.index > -1;\n\t},\n\n\tget opened() {\n\t\treturn this.isOpened;\n\t},\n\n\tclose: function (o) {\n\t\tif (!this.opened) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.ul.setAttribute(\"hidden\", \"\");\n\t\tthis.isOpened = false;\n\t\tthis.index = -1;\n\n\t\t$.fire(this.input, \"awesomplete-close\", o || {});\n\t},\n\n\topen: function () {\n\t\tthis.ul.removeAttribute(\"hidden\");\n\t\tthis.isOpened = true;\n\n\t\tif (this.autoFirst && this.index === -1) {\n\t\t\tthis.goto(0);\n\t\t}\n\n\t\t$.fire(this.input, \"awesomplete-open\");\n\t},\n\n\tdestroy: function() {\n\t\t//remove events from the input and its form\n\t\t$.unbind(this.input, this._events.input);\n\t\t$.unbind(this.input.form, this._events.form);\n\n\t\t//move the input out of the awesomplete container and remove the container and its children\n\t\tvar parentNode = this.container.parentNode;\n\n\t\tparentNode.insertBefore(this.input, this.container);\n\t\tparentNode.removeChild(this.container);\n\n\t\t//remove autocomplete and aria-autocomplete attributes\n\t\tthis.input.removeAttribute(\"autocomplete\");\n\t\tthis.input.removeAttribute(\"aria-autocomplete\");\n\n\t\t//remove this awesomeplete instance from the global array of instances\n\t\tvar indexOfAwesomplete = _.all.indexOf(this);\n\n\t\tif (indexOfAwesomplete !== -1) {\n\t\t\t_.all.splice(indexOfAwesomplete, 1);\n\t\t}\n\t},\n\n\tnext: function () {\n\t\tvar count = this.ul.children.length;\n\t\tthis.goto(this.index < count - 1 ? this.index + 1 : (count ? 0 : -1) );\n\t},\n\n\tprevious: function () {\n\t\tvar count = this.ul.children.length;\n\t\tvar pos = this.index - 1;\n\n\t\tthis.goto(this.selected && pos !== -1 ? pos : count - 1);\n\t},\n\n\t// Should not be used, highlights specific item without any checks!\n\tgoto: function (i) {\n\t\tvar lis = this.ul.children;\n\n\t\tif (this.selected) {\n\t\t\tlis[this.index].setAttribute(\"aria-selected\", \"false\");\n\t\t}\n\n\t\tthis.index = i;\n\n\t\tif (i > -1 && lis.length > 0) {\n\t\t\tlis[i].setAttribute(\"aria-selected\", \"true\");\n\t\t\tthis.status.textContent = lis[i].textContent;\n\n\t\t\t// scroll to highlighted element in case parent's height is fixed\n\t\t\tthis.ul.scrollTop = lis[i].offsetTop - this.ul.clientHeight + lis[i].clientHeight;\n\n\t\t\t$.fire(this.input, \"awesomplete-highlight\", {\n\t\t\t\ttext: this.suggestions[this.index]\n\t\t\t});\n\t\t}\n\t},\n\n\tselect: function (selected, origin) {\n\t\tif (selected) {\n\t\t\tthis.index = $.siblingIndex(selected);\n\t\t} else {\n\t\t\tselected = this.ul.children[this.index];\n\t\t}\n\n\t\tif (selected) {\n\t\t\tvar suggestion = this.suggestions[this.index];\n\n\t\t\tvar allowed = $.fire(this.input, \"awesomplete-select\", {\n\t\t\t\ttext: suggestion,\n\t\t\t\torigin: origin || selected\n\t\t\t});\n\n\t\t\tif (allowed) {\n\t\t\t\tthis.replace(suggestion);\n\t\t\t\tthis.close({ reason: \"select\" });\n\t\t\t\t$.fire(this.input, \"awesomplete-selectcomplete\", {\n\t\t\t\t\ttext: suggestion\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t},\n\n\tevaluate: function() {\n\t\tvar me = this;\n\t\tvar value = this.input.value;\n\n\t\tif (value.length >= this.minChars && this._list.length > 0) {\n\t\t\tthis.index = -1;\n\t\t\t// Populate list with options that match\n\t\t\tthis.ul.innerHTML = \"\";\n\n\t\t\tthis.suggestions = this._list\n\t\t\t\t.map(function(item) {\n\t\t\t\t\treturn new Suggestion(me.data(item, value));\n\t\t\t\t})\n\t\t\t\t.filter(function(item) {\n\t\t\t\t\treturn me.filter(item, value);\n\t\t\t\t});\n\n\t\t\tif (this.sort !== false) {\n\t\t\t\tthis.suggestions = this.suggestions.sort(this.sort);\n\t\t\t}\n\n\t\t\tthis.suggestions = this.suggestions.slice(0, this.maxItems);\n\n\t\t\tthis.suggestions.forEach(function(text) {\n\t\t\t\t\tme.ul.appendChild(me.item(text, value));\n\t\t\t\t});\n\n\t\t\tif (this.ul.children.length === 0) {\n\t\t\t\tthis.close({ reason: \"nomatches\" });\n\t\t\t} else {\n\t\t\t\tthis.open();\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tthis.close({ reason: \"nomatches\" });\n\t\t}\n\t}\n};\n\n// Static methods/properties\n\n_.all = [];\n\n_.FILTER_CONTAINS = function (text, input) {\n\treturn RegExp($.regExpEscape(input.trim()), \"i\").test(text);\n};\n\n_.FILTER_STARTSWITH = function (text, input) {\n\treturn RegExp(\"^\" + $.regExpEscape(input.trim()), \"i\").test(text);\n};\n\n_.SORT_BYLENGTH = function (a, b) {\n\tif (a.length !== b.length) {\n\t\treturn a.length - b.length;\n\t}\n\n\treturn a < b? -1 : 1;\n};\n\n_.ITEM = function (text, input) {\n\tvar html = input.trim() === \"\" ? text : text.replace(RegExp($.regExpEscape(input.trim()), \"gi\"), \"<mark>$&</mark>\");\n\treturn $.create(\"li\", {\n\t\tinnerHTML: html,\n\t\t\"aria-selected\": \"false\"\n\t});\n};\n\n_.REPLACE = function (text) {\n\tthis.input.value = text.value;\n};\n\n_.DATA = function (item/*, input*/) { return item; };\n\n// Private functions\n\nfunction Suggestion(data) {\n\tvar o = Array.isArray(data)\n\t  ? { label: data[0], value: data[1] }\n\t  : typeof data === \"object\" && \"label\" in data && \"value\" in data ? data : { label: data, value: data };\n\n\tthis.label = o.label || o.value;\n\tthis.value = o.value;\n}\nObject.defineProperty(Suggestion.prototype = Object.create(String.prototype), \"length\", {\n\tget: function() { return this.label.length; }\n});\nSuggestion.prototype.toString = Suggestion.prototype.valueOf = function () {\n\treturn \"\" + this.label;\n};\n\nfunction configure(instance, properties, o) {\n\tfor (var i in properties) {\n\t\tvar initial = properties[i],\n\t\t    attrValue = instance.input.getAttribute(\"data-\" + i.toLowerCase());\n\n\t\tif (typeof initial === \"number\") {\n\t\t\tinstance[i] = parseInt(attrValue);\n\t\t}\n\t\telse if (initial === false) { // Boolean options must be false by default anyway\n\t\t\tinstance[i] = attrValue !== null;\n\t\t}\n\t\telse if (initial instanceof Function) {\n\t\t\tinstance[i] = null;\n\t\t}\n\t\telse {\n\t\t\tinstance[i] = attrValue;\n\t\t}\n\n\t\tif (!instance[i] && instance[i] !== 0) {\n\t\t\tinstance[i] = (i in o)? o[i] : initial;\n\t\t}\n\t}\n}\n\n// Helpers\n\nvar slice = Array.prototype.slice;\n\nfunction $(expr, con) {\n\treturn typeof expr === \"string\"? (con || document).querySelector(expr) : expr || null;\n}\n\nfunction $$(expr, con) {\n\treturn slice.call((con || document).querySelectorAll(expr));\n}\n\n$.create = function(tag, o) {\n\tvar element = document.createElement(tag);\n\n\tfor (var i in o) {\n\t\tvar val = o[i];\n\n\t\tif (i === \"inside\") {\n\t\t\t$(val).appendChild(element);\n\t\t}\n\t\telse if (i === \"around\") {\n\t\t\tvar ref = $(val);\n\t\t\tref.parentNode.insertBefore(element, ref);\n\t\t\telement.appendChild(ref);\n\t\t}\n\t\telse if (i in element) {\n\t\t\telement[i] = val;\n\t\t}\n\t\telse {\n\t\t\telement.setAttribute(i, val);\n\t\t}\n\t}\n\n\treturn element;\n};\n\n$.bind = function(element, o) {\n\tif (element) {\n\t\tfor (var event in o) {\n\t\t\tvar callback = o[event];\n\n\t\t\tevent.split(/\\s+/).forEach(function (event) {\n\t\t\t\telement.addEventListener(event, callback);\n\t\t\t});\n\t\t}\n\t}\n};\n\n$.unbind = function(element, o) {\n\tif (element) {\n\t\tfor (var event in o) {\n\t\t\tvar callback = o[event];\n\n\t\t\tevent.split(/\\s+/).forEach(function(event) {\n\t\t\t\telement.removeEventListener(event, callback);\n\t\t\t});\n\t\t}\n\t}\n};\n\n$.fire = function(target, type, properties) {\n\tvar evt = document.createEvent(\"HTMLEvents\");\n\n\tevt.initEvent(type, true, true );\n\n\tfor (var j in properties) {\n\t\tevt[j] = properties[j];\n\t}\n\n\treturn target.dispatchEvent(evt);\n};\n\n$.regExpEscape = function (s) {\n\treturn s.replace(/[-\\\\^$*+?.()|[\\]{}]/g, \"\\\\$&\");\n};\n\n$.siblingIndex = function (el) {\n\t/* eslint-disable no-cond-assign */\n\tfor (var i = 0; el = el.previousElementSibling; i++);\n\treturn i;\n};\n\n// Initialization\n\nfunction init() {\n\t$$(\"input.awesomplete\").forEach(function (input) {\n\t\tnew _(input);\n\t});\n}\n\n// Are we in a browser? Check for Document constructor\nif (typeof Document !== \"undefined\") {\n\t// DOM already loaded?\n\tif (document.readyState !== \"loading\") {\n\t\tinit();\n\t}\n\telse {\n\t\t// Wait for it\n\t\tdocument.addEventListener(\"DOMContentLoaded\", init);\n\t}\n}\n\n_.$ = $;\n_.$$ = $$;\n\n// Make sure to export Awesomplete on self when in a browser\nif (typeof self !== \"undefined\") {\n\tself.Awesomplete = _;\n}\n\n// Expose Awesomplete as a CJS module\nif (typeof module === \"object\" && module.exports) {\n\tmodule.exports = _;\n}\n\nreturn _;\n\n}());\n","// special features for link\n// buttons\n// autocomplete\n// link validation\n// custom queries\n// add_fetches\nimport Awesomplete from 'awesomplete';\n\nfrappe.ui.form.ControlLink = frappe.ui.form.ControlData.extend({\n\tmake_input: function() {\n\t\tvar me = this;\n\t\t// line-height: 1 is for Mozilla 51, shows extra padding otherwise\n\t\t$('<div class=\"link-field ui-front\" style=\"position: relative; line-height: 1;\">\\\n\t\t\t<input type=\"text\" class=\"input-with-feedback form-control\">\\\n\t\t\t<span class=\"link-btn\">\\\n\t\t\t\t<a class=\"btn-open no-decoration\" title=\"' + __(\"Open Link\") + '\">\\\n\t\t\t\t\t<i class=\"octicon octicon-arrow-right\"></i></a>\\\n\t\t\t</span>\\\n\t\t</div>').prependTo(this.input_area);\n\t\tthis.$input_area = $(this.input_area);\n\t\tthis.$input = this.$input_area.find('input');\n\t\tthis.$link = this.$input_area.find('.link-btn');\n\t\tthis.$link_open = this.$link.find('.btn-open');\n\t\tthis.set_input_attributes();\n\t\tthis.$input.on(\"focus\", function() {\n\t\t\tsetTimeout(function() {\n\t\t\t\tif(me.$input.val() && me.get_options()) {\n\t\t\t\t\tme.$link.toggle(true);\n\t\t\t\t\tme.$link_open.attr('href', '#Form/' + me.get_options() + '/' + me.$input.val());\n\t\t\t\t}\n\n\t\t\t\tif(!me.$input.val()) {\n\t\t\t\t\tme.$input.val(\"\").trigger(\"input\");\n\t\t\t\t}\n\t\t\t}, 500);\n\t\t});\n\t\tthis.$input.on(\"blur\", function() {\n\t\t\t// if this disappears immediately, the user's click\n\t\t\t// does not register, hence timeout\n\t\t\tsetTimeout(function() {\n\t\t\t\tme.$link.toggle(false);\n\t\t\t}, 500);\n\t\t});\n\t\tthis.input = this.$input.get(0);\n\t\tthis.has_input = true;\n\t\tthis.translate_values = true;\n\t\tthis.setup_buttons();\n\t\tthis.setup_awesomeplete();\n\t},\n\tget_options: function() {\n\t\treturn this.df.options;\n\t},\n\tget_reference_doctype() {\n\t\t// this is used to get the context in which link field is loaded\n\t\treturn this.doctype || frappe.get_route()[0] === 'List' ? frappe.get_route()[1] : null;\n\t},\n\tsetup_buttons: function() {\n\t\tif(this.only_input && !this.with_link_btn) {\n\t\t\tthis.$input_area.find(\".link-btn\").remove();\n\t\t}\n\t},\n\topen_advanced_search: function() {\n\t\tvar doctype = this.get_options();\n\t\tif(!doctype) return;\n\t\tnew frappe.ui.form.LinkSelector({\n\t\t\tdoctype: doctype,\n\t\t\ttarget: this,\n\t\t\ttxt: this.get_input_value()\n\t\t});\n\t\treturn false;\n\t},\n\tnew_doc: function() {\n\t\tvar doctype = this.get_options();\n\t\tvar me = this;\n\n\t\tif(!doctype) return;\n\n\t\t// set values to fill in the new document\n\t\tif(this.df.get_route_options_for_new_doc) {\n\t\t\tfrappe.route_options = this.df.get_route_options_for_new_doc(this);\n\t\t} else {\n\t\t\tfrappe.route_options = {};\n\t\t}\n\n\t\t// partially entered name field\n\t\tfrappe.route_options.name_field = this.get_value();\n\n\t\t// reference to calling link\n\t\tfrappe._from_link = this;\n\t\tfrappe._from_link_scrollY = $(document).scrollTop();\n\n\t\tfrappe.ui.form.make_quick_entry(doctype, (doc) => {\n\t\t\treturn me.set_value(doc.name);\n\t\t});\n\n\t\treturn false;\n\t},\n\tsetup_awesomeplete: function() {\n\t\tvar me = this;\n\n\t\tthis.$input.cache = {};\n\n\t\tthis.awesomplete = new Awesomplete(me.input, {\n\t\t\tminChars: 0,\n\t\t\tmaxItems: 99,\n\t\t\tautoFirst: true,\n\t\t\tlist: [],\n\t\t\tdata: function (item) {\n\t\t\t\treturn {\n\t\t\t\t\tlabel: item.label || item.value,\n\t\t\t\t\tvalue: item.value\n\t\t\t\t};\n\t\t\t},\n\t\t\tfilter: function() {\n\t\t\t\treturn true;\n\t\t\t},\n\t\t\titem: function (item) {\n\t\t\t\tvar d = this.get_item(item.value);\n\t\t\t\tif(!d.label) {\td.label = d.value; }\n\n\t\t\t\tvar _label = (me.translate_values) ? __(d.label) : d.label;\n\t\t\t\tvar html = \"<strong>\" + _label + \"</strong>\";\n\t\t\t\tif(d.description && d.value!==d.description) {\n\t\t\t\t\thtml += '<br><span class=\"small\">' + __(d.description) + '</span>';\n\t\t\t\t}\n\t\t\t\treturn $('<li></li>')\n\t\t\t\t\t.data('item.autocomplete', d)\n\t\t\t\t\t.prop('aria-selected', 'false')\n\t\t\t\t\t.html('<a><p>' + html + '</p></a>')\n\t\t\t\t\t.get(0);\n\t\t\t},\n\t\t\tsort: function() {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t});\n\n\t\tthis.$input.on(\"input\", frappe.utils.debounce(function(e) {\n\t\t\tvar doctype = me.get_options();\n\t\t\tif(!doctype) return;\n\t\t\tif (!me.$input.cache[doctype]) {\n\t\t\t\tme.$input.cache[doctype] = {};\n\t\t\t}\n\n\t\t\tvar term = e.target.value;\n\n\t\t\tif (me.$input.cache[doctype][term]!=null) {\n\t\t\t\t// immediately show from cache\n\t\t\t\tme.awesomplete.list = me.$input.cache[doctype][term];\n\t\t\t}\n\t\t\tvar args = {\n\t\t\t\t'txt': term,\n\t\t\t\t'doctype': doctype,\n\t\t\t\t'ignore_user_permissions': me.df.ignore_user_permissions,\n\t\t\t\t'reference_doctype': me.get_reference_doctype()\n\t\t\t};\n\n\t\t\tme.set_custom_query(args);\n\n\t\t\tfrappe.call({\n\t\t\t\ttype: \"POST\",\n\t\t\t\tmethod:'frappe.desk.search.search_link',\n\t\t\t\tno_spinner: true,\n\t\t\t\targs: args,\n\t\t\t\tcallback: function(r) {\n\t\t\t\t\tif(!me.$input.is(\":focus\")) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(!me.df.only_select) {\n\t\t\t\t\t\tif(frappe.model.can_create(doctype)\n\t\t\t\t\t\t\t&& me.df.fieldtype !== \"Dynamic Link\") {\n\t\t\t\t\t\t\t// new item\n\t\t\t\t\t\t\tr.results.push({\n\t\t\t\t\t\t\t\tlabel: \"<span class='text-primary link-option'>\"\n\t\t\t\t\t\t\t\t\t+ \"<i class='fa fa-plus' style='margin-right: 5px;'></i> \"\n\t\t\t\t\t\t\t\t\t+ __(\"Create a new {0}\", [__(me.df.options)])\n\t\t\t\t\t\t\t\t\t+ \"</span>\",\n\t\t\t\t\t\t\t\tvalue: \"create_new__link_option\",\n\t\t\t\t\t\t\t\taction: me.new_doc\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// advanced search\n\n\t\t\t\t\t\tif (locals && locals['DocType']) {\n\t\t\t\t\t\t\t// not applicable in web forms\n\t\t\t\t\t\t\tr.results.push({\n\t\t\t\t\t\t\t\tlabel: \"<span class='text-primary link-option'>\"\n\t\t\t\t\t\t\t\t\t+ \"<i class='fa fa-search' style='margin-right: 5px;'></i> \"\n\t\t\t\t\t\t\t\t\t+ __(\"Advanced Search\")\n\t\t\t\t\t\t\t\t\t+ \"</span>\",\n\t\t\t\t\t\t\t\tvalue: \"advanced_search__link_option\",\n\t\t\t\t\t\t\t\taction: me.open_advanced_search\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tme.$input.cache[doctype][term] = r.results;\n\t\t\t\t\tme.awesomplete.list = me.$input.cache[doctype][term];\n\t\t\t\t}\n\t\t\t});\n\t\t}, 618));\n\n\t\tthis.$input.on(\"blur\", function() {\n\t\t\tif(me.selected) {\n\t\t\t\tme.selected = false;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar value = me.get_input_value();\n\t\t\tif(value!==me.last_value) {\n\t\t\t\tme.parse_validate_and_set_in_model(value);\n\t\t\t}\n\t\t});\n\n\t\tthis.$input.on(\"awesomplete-open\", function() {\n\t\t\tme.$wrapper.css({\"z-index\": 100});\n\t\t\tme.$wrapper.find('ul').css({\"z-index\": 100});\n\t\t\tme.autocomplete_open = true;\n\t\t});\n\n\t\tthis.$input.on(\"awesomplete-close\", function() {\n\t\t\tme.$wrapper.css({\"z-index\": 1});\n\t\t\tme.autocomplete_open = false;\n\t\t});\n\n\t\tthis.$input.on(\"awesomplete-select\", function(e) {\n\t\t\tvar o = e.originalEvent;\n\t\t\tvar item = me.awesomplete.get_item(o.text.value);\n\n\t\t\tme.autocomplete_open = false;\n\n\t\t\t// prevent selection on tab\n\t\t\tvar TABKEY = 9;\n\t\t\tif(e.keyCode === TABKEY) {\n\t\t\t\te.preventDefault();\n\t\t\t\tme.awesomplete.close();\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif(item.action) {\n\t\t\t\titem.value = \"\";\n\t\t\t\titem.action.apply(me);\n\t\t\t}\n\n\t\t\t// if remember_last_selected is checked in the doctype against the field,\n\t\t\t// then add this value\n\t\t\t// to defaults so you do not need to set it again\n\t\t\t// unless it is changed.\n\t\t\tif(me.df.remember_last_selected_value) {\n\t\t\t\tfrappe.boot.user.last_selected_values[me.df.options] = item.value;\n\t\t\t}\n\n\t\t\tme.parse_validate_and_set_in_model(item.value);\n\t\t});\n\n\t\tthis.$input.on(\"awesomplete-selectcomplete\", function(e) {\n\t\t\tvar o = e.originalEvent;\n\t\t\tif(o.text.value.indexOf(\"__link_option\") !== -1) {\n\t\t\t\tme.$input.val(\"\");\n\t\t\t}\n\t\t});\n\t},\n\tset_custom_query: function(args) {\n\t\tvar set_nulls = function(obj) {\n\t\t\t$.each(obj, function(key, value) {\n\t\t\t\tif(value!==undefined) {\n\t\t\t\t\tobj[key] = value;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn obj;\n\t\t};\n\t\tif(this.get_query || this.df.get_query) {\n\t\t\tvar get_query = this.get_query || this.df.get_query;\n\t\t\tif($.isPlainObject(get_query)) {\n\t\t\t\tvar filters = null;\n\t\t\t\tif(get_query.filters) {\n\t\t\t\t\t// passed as {'filters': {'key':'value'}}\n\t\t\t\t\tfilters = get_query.filters;\n\t\t\t\t} else if(get_query.query) {\n\n\t\t\t\t\t// passed as {'query': 'path.to.method'}\n\t\t\t\t\targs.query = get_query;\n\t\t\t\t} else {\n\n\t\t\t\t\t// dict is filters\n\t\t\t\t\tfilters = get_query;\n\t\t\t\t}\n\n\t\t\t\tif (filters) {\n\t\t\t\t\tfilters = set_nulls(filters);\n\n\t\t\t\t\t// extend args for custom functions\n\t\t\t\t\t$.extend(args, filters);\n\n\t\t\t\t\t// add \"filters\" for standard query (search.py)\n\t\t\t\t\targs.filters = filters;\n\t\t\t\t}\n\t\t\t} else if(typeof(get_query)===\"string\") {\n\t\t\t\targs.query = get_query;\n\t\t\t} else {\n\t\t\t\t// get_query by function\n\t\t\t\tvar q = (get_query)(this.frm && this.frm.doc || this.doc, this.doctype, this.docname);\n\n\t\t\t\tif (typeof(q)===\"string\") {\n\t\t\t\t\t// returns a string\n\t\t\t\t\targs.query = q;\n\t\t\t\t} else if($.isPlainObject(q)) {\n\t\t\t\t\t// returns a plain object with filters\n\t\t\t\t\tif(q.filters) {\n\t\t\t\t\t\tset_nulls(q.filters);\n\t\t\t\t\t}\n\n\t\t\t\t\t// turn off value translation\n\t\t\t\t\tif(q.translate_values !== undefined) {\n\t\t\t\t\t\tthis.translate_values = q.translate_values;\n\t\t\t\t\t}\n\n\t\t\t\t\t// extend args for custom functions\n\t\t\t\t\t$.extend(args, q);\n\n\t\t\t\t\t// add \"filters\" for standard query (search.py)\n\t\t\t\t\targs.filters = q.filters;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif(this.df.filters) {\n\t\t\tset_nulls(this.df.filters);\n\t\t\tif(!args.filters) args.filters = {};\n\t\t\t$.extend(args.filters, this.df.filters);\n\t\t}\n\t},\n\tvalidate: function(value) {\n\t\t// validate the value just entered\n\t\tif(this.df.options==\"[Select]\" || this.df.ignore_link_validation) {\n\t\t\treturn value;\n\t\t}\n\n\t\treturn this.validate_link_and_fetch(this.df, this.get_options(),\n\t\t\tthis.docname, value);\n\t},\n\tvalidate_link_and_fetch: function(df, doctype, docname, value) {\n\t\tvar me = this;\n\n\t\tif(value) {\n\t\t\treturn new Promise((resolve) => {\n\t\t\t\tvar fetch = '';\n\n\t\t\t\tif(this.frm && this.frm.fetch_dict[df.fieldname]) {\n\t\t\t\t\tfetch = this.frm.fetch_dict[df.fieldname].columns.join(', ');\n\t\t\t\t}\n\n\t\t\t\treturn frappe.call({\n\t\t\t\t\tmethod:'frappe.desk.form.utils.validate_link',\n\t\t\t\t\ttype: \"GET\",\n\t\t\t\t\targs: {\n\t\t\t\t\t\t'value': value,\n\t\t\t\t\t\t'options': doctype,\n\t\t\t\t\t\t'fetch': fetch\n\t\t\t\t\t},\n\t\t\t\t\tno_spinner: true,\n\t\t\t\t\tcallback: function(r) {\n\t\t\t\t\t\tif(r.message=='Ok') {\n\t\t\t\t\t\t\tif(r.fetch_values && docname) {\n\t\t\t\t\t\t\t\tme.set_fetch_values(df, docname, r.fetch_values);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tresolve(r.valid_value);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresolve(\"\");\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t},\n\tset_fetch_values: function(df, docname, fetch_values) {\n\t\tvar fl = this.frm.fetch_dict[df.fieldname].fields;\n\t\tfor(var i=0; i < fl.length; i++) {\n\t\t\tfrappe.model.set_value(df.parent, docname, fl[i], fetch_values[i], df.fieldtype);\n\t\t}\n\t}\n});\n\nif(Awesomplete) {\n\tAwesomplete.prototype.get_item = function(value) {\n\t\treturn this._list.find(function(item) {\n\t\t\treturn item.value === value;\n\t\t});\n\t};\n}\n\n","frappe.ui.form.ControlDynamicLink = frappe.ui.form.ControlLink.extend({\n\tget_options: function() {\n\t\tlet options = '';\n\t\tif(this.df.get_options) {\n\t\t\toptions = this.df.get_options();\n\t\t}\n\t\telse if (this.docname==null && cur_dialog) {\n\t\t\t//for dialog box\n\t\t\toptions = cur_dialog.get_value(this.df.options);\n\t\t}\n\t\telse if (!cur_frm) {\n\t\t\tconst selector = `input[data-fieldname=\"${this.df.options}\"]`;\n\t\t\tlet input = null;\n\t\t\tif (cur_list) {\n\t\t\t\t// for list page\n\t\t\t\tinput = cur_list.filter_area.standard_filters_wrapper.find(selector);\n\t\t\t}\n\t\t\tif (cur_page) {\n\t\t\t\tinput = $(cur_page.page).find(selector);\n\t\t\t}\n\t\t\tif (input) {\n\t\t\t\toptions = input.val();\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\toptions = frappe.model.get_value(this.df.parent, this.docname, this.df.options);\n\t\t}\n\n\t\tif (frappe.model.is_single(options)) {\n\t\t\tfrappe.throw(__(`${options.bold()} is not a valid DocType for Dynamic Link`));\n\t\t}\n\n\t\treturn options;\n\t},\n});\n","frappe.ui.form.ControlText = frappe.ui.form.ControlData.extend({\n\thtml_element: \"textarea\",\n\thorizontal: false,\n\tmake_wrapper: function() {\n\t\tthis._super();\n\t\tthis.$wrapper.find(\".like-disabled-input\").addClass(\"for-description\");\n\t},\n\tmake_input: function() {\n\t\tthis._super();\n\t\tthis.$input.css({'height': '300px'});\n\t}\n});\n\nfrappe.ui.form.ControlLongText = frappe.ui.form.ControlText;\nfrappe.ui.form.ControlSmallText = frappe.ui.form.ControlText.extend({\n\tmake_input: function() {\n\t\tthis._super();\n\t\tthis.$input.css({'height': '150px'});\n\t}\n});\n","frappe.ui.form.ControlCode = frappe.ui.form.ControlText.extend({\n\tmake_input: function() {\n\t\tthis._super();\n\t\t$(this.input_area).find(\"textarea\")\n\t\t\t.allowTabs()\n\t\t\t.addClass('control-code');\n\t}\n});\n","/*!\n * Quill Editor v2.0.0-dev.2\n * https://quilljs.com/\n * Copyright (c) 2014, Jason Chen\n * Copyright (c) 2013, salesforce.com\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Quill\"] = factory();\n\telse\n\t\troot[\"Quill\"] = factory();\n})(window, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ \"./assets/icons/align-center.svg\":\n/*!***************************************!*\\\n  !*** ./assets/icons/align-center.svg ***!\n  \\***************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\neval(\"module.exports = \\\"<svg viewbox=\\\\\\\"0 0 18 18\\\\\\\"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>\\\";\\n\\n//# sourceURL=webpack://Quill/./assets/icons/align-center.svg?\");\n\n/***/ }),\n\n/***/ \"./assets/icons/align-justify.svg\":\n/*!****************************************!*\\\n  !*** ./assets/icons/align-justify.svg ***!\n  \\****************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\neval(\"module.exports = \\\"<svg viewbox=\\\\\\\"0 0 18 18\\\\\\\"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>\\\";\\n\\n//# sourceURL=webpack://Quill/./assets/icons/align-justify.svg?\");\n\n/***/ }),\n\n/***/ \"./assets/icons/align-left.svg\":\n/*!*************************************!*\\\n  !*** ./assets/icons/align-left.svg ***!\n  \\*************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\neval(\"module.exports = \\\"<svg viewbox=\\\\\\\"0 0 18 18\\\\\\\"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>\\\";\\n\\n//# sourceURL=webpack://Quill/./assets/icons/align-left.svg?\");\n\n/***/ }),\n\n/***/ \"./assets/icons/align-right.svg\":\n/*!**************************************!*\\\n  !*** ./assets/icons/align-right.svg ***!\n  \\**************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\neval(\"module.exports = \\\"<svg viewbox=\\\\\\\"0 0 18 18\\\\\\\"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>\\\";\\n\\n//# sourceURL=webpack://Quill/./assets/icons/align-right.svg?\");\n\n/***/ }),\n\n/***/ \"./assets/icons/background.svg\":\n/*!*************************************!*\\\n  !*** ./assets/icons/background.svg ***!\n  \\*************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\neval(\"module.exports = \\\"<svg viewbox=\\\\\\\"0 0 18 18\\\\\\\"> <g class=\\\\\\\"ql-fill ql-color-label\\\\\\\"> <polygon points=\\\\\\\"6 6.868 6 6 5 6 5 7 5.942 7 6 6.868\\\\\\\"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points=\\\\\\\"6.817 5 6 5 6 6 6.38 6 6.817 5\\\\\\\"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points=\\\\\\\"4 11.439 4 11 3 11 3 12 3.755 12 4 11.439\\\\\\\"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points=\\\\\\\"4.63 10 4 10 4 11 4.192 11 4.63 10\\\\\\\"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points=\\\\\\\"13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174\\\\\\\"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points=\\\\\\\"12 6.868 12 6 11.62 6 12 6.868\\\\\\\"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points=\\\\\\\"12.933 9 13 9 13 8 12.495 8 12.933 9\\\\\\\"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points=\\\\\\\"5.5 13 9 5 12.5 13\\\\\\\"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>\\\";\\n\\n//# sourceURL=webpack://Quill/./assets/icons/background.svg?\");\n\n/***/ }),\n\n/***/ \"./assets/icons/blockquote.svg\":\n/*!*************************************!*\\\n  !*** ./assets/icons/blockquote.svg ***!\n  \\*************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\neval(\"module.exports = \\\"<svg viewbox=\\\\\\\"0 0 18 18\\\\\\\"> <rect class=\\\\\\\"ql-fill ql-stroke\\\\\\\" height=3 width=3 x=4 y=5></rect> <rect class=\\\\\\\"ql-fill ql-stroke\\\\\\\" height=3 width=3 x=11 y=5></rect> <path class=\\\\\\\"ql-even ql-fill ql-stroke\\\\\\\" d=M7,8c0,4.031-3,5-3,5></path> <path class=\\\\\\\"ql-even ql-fill ql-stroke\\\\\\\" d=M14,8c0,4.031-3,5-3,5></path> </svg>\\\";\\n\\n//# sourceURL=webpack://Quill/./assets/icons/blockquote.svg?\");\n\n/***/ }),\n\n/***/ \"./assets/icons/bold.svg\":\n/*!*******************************!*\\\n  !*** ./assets/icons/bold.svg ***!\n  \\*******************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\neval(\"module.exports = \\\"<svg viewbox=\\\\\\\"0 0 18 18\\\\\\\"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>\\\";\\n\\n//# sourceURL=webpack://Quill/./assets/icons/bold.svg?\");\n\n/***/ }),\n\n/***/ \"./assets/icons/clean.svg\":\n/*!********************************!*\\\n  !*** ./assets/icons/clean.svg ***!\n  \\********************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\neval(\"module.exports = \\\"<svg class=\\\\\\\"\\\\\\\" viewbox=\\\\\\\"0 0 18 18\\\\\\\"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>\\\";\\n\\n//# sourceURL=webpack://Quill/./assets/icons/clean.svg?\");\n\n/***/ }),\n\n/***/ \"./assets/icons/code.svg\":\n/*!*******************************!*\\\n  !*** ./assets/icons/code.svg ***!\n  \\*******************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\neval(\"module.exports = \\\"<svg viewbox=\\\\\\\"0 0 18 18\\\\\\\"> <polyline class=\\\\\\\"ql-even ql-stroke\\\\\\\" points=\\\\\\\"5 7 3 9 5 11\\\\\\\"></polyline> <polyline class=\\\\\\\"ql-even ql-stroke\\\\\\\" points=\\\\\\\"13 7 15 9 13 11\\\\\\\"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>\\\";\\n\\n//# sourceURL=webpack://Quill/./assets/icons/code.svg?\");\n\n/***/ }),\n\n/***/ \"./assets/icons/color.svg\":\n/*!********************************!*\\\n  !*** ./assets/icons/color.svg ***!\n  \\********************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\neval(\"module.exports = \\\"<svg viewbox=\\\\\\\"0 0 18 18\\\\\\\"> <line class=\\\\\\\"ql-color-label ql-stroke ql-transparent\\\\\\\" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points=\\\\\\\"5.5 11 9 3 12.5 11\\\\\\\"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>\\\";\\n\\n//# sourceURL=webpack://Quill/./assets/icons/color.svg?\");\n\n/***/ }),\n\n/***/ \"./assets/icons/direction-ltr.svg\":\n/*!****************************************!*\\\n  !*** ./assets/icons/direction-ltr.svg ***!\n  \\****************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\neval(\"module.exports = \\\"<svg viewbox=\\\\\\\"0 0 18 18\\\\\\\"> <polygon class=\\\\\\\"ql-stroke ql-fill\\\\\\\" points=\\\\\\\"3 11 5 9 3 7 3 11\\\\\\\"></polygon> <line class=\\\\\\\"ql-stroke ql-fill\\\\\\\" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>\\\";\\n\\n//# sourceURL=webpack://Quill/./assets/icons/direction-ltr.svg?\");\n\n/***/ }),\n\n/***/ \"./assets/icons/direction-rtl.svg\":\n/*!****************************************!*\\\n  !*** ./assets/icons/direction-rtl.svg ***!\n  \\****************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\neval(\"module.exports = \\\"<svg viewbox=\\\\\\\"0 0 18 18\\\\\\\"> <polygon class=\\\\\\\"ql-stroke ql-fill\\\\\\\" points=\\\\\\\"15 12 13 10 15 8 15 12\\\\\\\"></polygon> <line class=\\\\\\\"ql-stroke ql-fill\\\\\\\" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>\\\";\\n\\n//# sourceURL=webpack://Quill/./assets/icons/direction-rtl.svg?\");\n\n/***/ }),\n\n/***/ \"./assets/icons/dropdown.svg\":\n/*!***********************************!*\\\n  !*** ./assets/icons/dropdown.svg ***!\n  \\***********************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\neval(\"module.exports = \\\"<svg viewbox=\\\\\\\"0 0 18 18\\\\\\\"> <polygon class=ql-stroke points=\\\\\\\"7 11 9 13 11 11 7 11\\\\\\\"></polygon> <polygon class=ql-stroke points=\\\\\\\"7 7 9 5 11 7 7 7\\\\\\\"></polygon> </svg>\\\";\\n\\n//# sourceURL=webpack://Quill/./assets/icons/dropdown.svg?\");\n\n/***/ }),\n\n/***/ \"./assets/icons/formula.svg\":\n/*!**********************************!*\\\n  !*** ./assets/icons/formula.svg ***!\n  \\**********************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\neval(\"module.exports = \\\"<svg viewbox=\\\\\\\"0 0 18 18\\\\\\\"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>\\\";\\n\\n//# sourceURL=webpack://Quill/./assets/icons/formula.svg?\");\n\n/***/ }),\n\n/***/ \"./assets/icons/header-2.svg\":\n/*!***********************************!*\\\n  !*** ./assets/icons/header-2.svg ***!\n  \\***********************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\neval(\"module.exports = \\\"<svg viewBox=\\\\\\\"0 0 18 18\\\\\\\"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>\\\";\\n\\n//# sourceURL=webpack://Quill/./assets/icons/header-2.svg?\");\n\n/***/ }),\n\n/***/ \"./assets/icons/header.svg\":\n/*!*********************************!*\\\n  !*** ./assets/icons/header.svg ***!\n  \\*********************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\neval(\"module.exports = \\\"<svg viewBox=\\\\\\\"0 0 18 18\\\\\\\"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>\\\";\\n\\n//# sourceURL=webpack://Quill/./assets/icons/header.svg?\");\n\n/***/ }),\n\n/***/ \"./assets/icons/image.svg\":\n/*!********************************!*\\\n  !*** ./assets/icons/image.svg ***!\n  \\********************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\neval(\"module.exports = \\\"<svg viewbox=\\\\\\\"0 0 18 18\\\\\\\"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class=\\\\\\\"ql-even ql-fill\\\\\\\" points=\\\\\\\"5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12\\\\\\\"></polyline> </svg>\\\";\\n\\n//# sourceURL=webpack://Quill/./assets/icons/image.svg?\");\n\n/***/ }),\n\n/***/ \"./assets/icons/indent.svg\":\n/*!*********************************!*\\\n  !*** ./assets/icons/indent.svg ***!\n  \\*********************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\neval(\"module.exports = \\\"<svg viewbox=\\\\\\\"0 0 18 18\\\\\\\"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=\\\\\\\"ql-fill ql-stroke\\\\\\\" points=\\\\\\\"3 7 3 11 5 9 3 7\\\\\\\"></polyline> </svg>\\\";\\n\\n//# sourceURL=webpack://Quill/./assets/icons/indent.svg?\");\n\n/***/ }),\n\n/***/ \"./assets/icons/italic.svg\":\n/*!*********************************!*\\\n  !*** ./assets/icons/italic.svg ***!\n  \\*********************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\neval(\"module.exports = \\\"<svg viewbox=\\\\\\\"0 0 18 18\\\\\\\"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>\\\";\\n\\n//# sourceURL=webpack://Quill/./assets/icons/italic.svg?\");\n\n/***/ }),\n\n/***/ \"./assets/icons/link.svg\":\n/*!*******************************!*\\\n  !*** ./assets/icons/link.svg ***!\n  \\*******************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\neval(\"module.exports = \\\"<svg viewbox=\\\\\\\"0 0 18 18\\\\\\\"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class=\\\\\\\"ql-even ql-stroke\\\\\\\" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class=\\\\\\\"ql-even ql-stroke\\\\\\\" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>\\\";\\n\\n//# sourceURL=webpack://Quill/./assets/icons/link.svg?\");\n\n/***/ }),\n\n/***/ \"./assets/icons/list-bullet.svg\":\n/*!**************************************!*\\\n  !*** ./assets/icons/list-bullet.svg ***!\n  \\**************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\neval(\"module.exports = \\\"<svg viewbox=\\\\\\\"0 0 18 18\\\\\\\"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>\\\";\\n\\n//# sourceURL=webpack://Quill/./assets/icons/list-bullet.svg?\");\n\n/***/ }),\n\n/***/ \"./assets/icons/list-check.svg\":\n/*!*************************************!*\\\n  !*** ./assets/icons/list-check.svg ***!\n  \\*************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\neval(\"module.exports = \\\"<svg class=\\\\\\\"\\\\\\\" viewbox=\\\\\\\"0 0 18 18\\\\\\\"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points=\\\\\\\"3 4 4 5 6 3\\\\\\\"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points=\\\\\\\"3 14 4 15 6 13\\\\\\\"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points=\\\\\\\"3 9 4 10 6 8\\\\\\\"></polyline> </svg>\\\";\\n\\n//# sourceURL=webpack://Quill/./assets/icons/list-check.svg?\");\n\n/***/ }),\n\n/***/ \"./assets/icons/list-ordered.svg\":\n/*!***************************************!*\\\n  !*** ./assets/icons/list-ordered.svg ***!\n  \\***************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\neval(\"module.exports = \\\"<svg viewbox=\\\\\\\"0 0 18 18\\\\\\\"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class=\\\\\\\"ql-stroke ql-thin\\\\\\\" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class=\\\\\\\"ql-stroke ql-thin\\\\\\\" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class=\\\\\\\"ql-stroke ql-thin\\\\\\\" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>\\\";\\n\\n//# sourceURL=webpack://Quill/./assets/icons/list-ordered.svg?\");\n\n/***/ }),\n\n/***/ \"./assets/icons/outdent.svg\":\n/*!**********************************!*\\\n  !*** ./assets/icons/outdent.svg ***!\n  \\**********************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\neval(\"module.exports = \\\"<svg viewbox=\\\\\\\"0 0 18 18\\\\\\\"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points=\\\\\\\"5 7 5 11 3 9 5 7\\\\\\\"></polyline> </svg>\\\";\\n\\n//# sourceURL=webpack://Quill/./assets/icons/outdent.svg?\");\n\n/***/ }),\n\n/***/ \"./assets/icons/strike.svg\":\n/*!*********************************!*\\\n  !*** ./assets/icons/strike.svg ***!\n  \\*********************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\neval(\"module.exports = \\\"<svg viewbox=\\\\\\\"0 0 18 18\\\\\\\"> <line class=\\\\\\\"ql-stroke ql-thin\\\\\\\" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>\\\";\\n\\n//# sourceURL=webpack://Quill/./assets/icons/strike.svg?\");\n\n/***/ }),\n\n/***/ \"./assets/icons/subscript.svg\":\n/*!************************************!*\\\n  !*** ./assets/icons/subscript.svg ***!\n  \\************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\neval(\"module.exports = \\\"<svg viewbox=\\\\\\\"0 0 18 18\\\\\\\"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>\\\";\\n\\n//# sourceURL=webpack://Quill/./assets/icons/subscript.svg?\");\n\n/***/ }),\n\n/***/ \"./assets/icons/superscript.svg\":\n/*!**************************************!*\\\n  !*** ./assets/icons/superscript.svg ***!\n  \\**************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\neval(\"module.exports = \\\"<svg viewbox=\\\\\\\"0 0 18 18\\\\\\\"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>\\\";\\n\\n//# sourceURL=webpack://Quill/./assets/icons/superscript.svg?\");\n\n/***/ }),\n\n/***/ \"./assets/icons/table.svg\":\n/*!********************************!*\\\n  !*** ./assets/icons/table.svg ***!\n  \\********************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\neval(\"module.exports = \\\"<svg viewbox=\\\\\\\"0 0 18 18\\\\\\\"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=2 width=3 x=5 y=5></rect> <rect class=ql-fill height=2 width=4 x=9 y=5></rect> <g class=\\\\\\\"ql-fill ql-transparent\\\\\\\"> <rect height=2 width=3 x=5 y=8></rect> <rect height=2 width=4 x=9 y=8></rect> <rect height=2 width=3 x=5 y=11></rect> <rect height=2 width=4 x=9 y=11></rect> </g> </svg>\\\";\\n\\n//# sourceURL=webpack://Quill/./assets/icons/table.svg?\");\n\n/***/ }),\n\n/***/ \"./assets/icons/underline.svg\":\n/*!************************************!*\\\n  !*** ./assets/icons/underline.svg ***!\n  \\************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\neval(\"module.exports = \\\"<svg viewbox=\\\\\\\"0 0 18 18\\\\\\\"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>\\\";\\n\\n//# sourceURL=webpack://Quill/./assets/icons/underline.svg?\");\n\n/***/ }),\n\n/***/ \"./assets/icons/video.svg\":\n/*!********************************!*\\\n  !*** ./assets/icons/video.svg ***!\n  \\********************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\neval(\"module.exports = \\\"<svg viewbox=\\\\\\\"0 0 18 18\\\\\\\"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>\\\";\\n\\n//# sourceURL=webpack://Quill/./assets/icons/video.svg?\");\n\n/***/ }),\n\n/***/ \"./blots/block.js\":\n/*!************************!*\\\n  !*** ./blots/block.js ***!\n  \\************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.default = exports.BlockEmbed = exports.bubbleFormats = exports.blockDelta = undefined;\\n\\nvar _extend = __webpack_require__(/*! extend */ \\\"./node_modules/extend/index.js\\\");\\n\\nvar _extend2 = _interopRequireDefault(_extend);\\n\\nvar _quillDelta = __webpack_require__(/*! quill-delta */ \\\"./node_modules/quill-delta/lib/delta.js\\\");\\n\\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\\n\\nvar _parchment = __webpack_require__(/*! parchment */ \\\"./node_modules/parchment/src/parchment.ts\\\");\\n\\nvar _break = __webpack_require__(/*! ./break */ \\\"./blots/break.js\\\");\\n\\nvar _break2 = _interopRequireDefault(_break);\\n\\nvar _inline = __webpack_require__(/*! ./inline */ \\\"./blots/inline.js\\\");\\n\\nvar _inline2 = _interopRequireDefault(_inline);\\n\\nvar _text = __webpack_require__(/*! ./text */ \\\"./blots/text.js\\\");\\n\\nvar _text2 = _interopRequireDefault(_text);\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\\n\\nconst NEWLINE_LENGTH = 1;\\n\\nclass Block extends _parchment.BlockBlot {\\n  constructor(scroll, domNode) {\\n    super(scroll, domNode);\\n    this.cache = {};\\n  }\\n\\n  delta() {\\n    if (this.cache.delta == null) {\\n      this.cache.delta = blockDelta(this);\\n    }\\n    return this.cache.delta;\\n  }\\n\\n  deleteAt(index, length) {\\n    super.deleteAt(index, length);\\n    this.cache = {};\\n  }\\n\\n  formatAt(index, length, name, value) {\\n    if (length <= 0) return;\\n    if (this.scroll.query(name, _parchment.Scope.BLOCK)) {\\n      if (index + length === this.length()) {\\n        this.format(name, value);\\n      }\\n    } else {\\n      super.formatAt(index, Math.min(length, this.length() - index - 1), name, value);\\n    }\\n    this.cache = {};\\n  }\\n\\n  insertAt(index, value, def) {\\n    if (def != null) {\\n      super.insertAt(index, value, def);\\n      return;\\n    }\\n    if (value.length === 0) return;\\n    const lines = value.split('\\\\n');\\n    const text = lines.shift();\\n    if (text.length > 0) {\\n      if (index < this.length() - 1 || this.children.tail == null) {\\n        super.insertAt(Math.min(index, this.length() - 1), text);\\n      } else {\\n        this.children.tail.insertAt(this.children.tail.length(), text);\\n      }\\n      this.cache = {};\\n    }\\n    let block = this;\\n    lines.reduce((lineIndex, line) => {\\n      block = block.split(lineIndex, true);\\n      block.insertAt(0, line);\\n      return line.length;\\n    }, index + text.length);\\n  }\\n\\n  insertBefore(blot, ref) {\\n    const head = this.children.head;\\n\\n    super.insertBefore(blot, ref);\\n    if (head instanceof _break2.default) {\\n      head.remove();\\n    }\\n    this.cache = {};\\n  }\\n\\n  length() {\\n    if (this.cache.length == null) {\\n      this.cache.length = super.length() + NEWLINE_LENGTH;\\n    }\\n    return this.cache.length;\\n  }\\n\\n  moveChildren(target, ref) {\\n    super.moveChildren(target, ref);\\n    this.cache = {};\\n  }\\n\\n  optimize(context) {\\n    super.optimize(context);\\n    this.cache = {};\\n  }\\n\\n  path(index) {\\n    return super.path(index, true);\\n  }\\n\\n  removeChild(child) {\\n    super.removeChild(child);\\n    this.cache = {};\\n  }\\n\\n  split(index, force = false) {\\n    if (force && (index === 0 || index >= this.length() - NEWLINE_LENGTH)) {\\n      const clone = this.clone();\\n      if (index === 0) {\\n        this.parent.insertBefore(clone, this);\\n        return this;\\n      }\\n      this.parent.insertBefore(clone, this.next);\\n      return clone;\\n    }\\n    const next = super.split(index, force);\\n    this.cache = {};\\n    return next;\\n  }\\n}\\nBlock.blotName = 'block';\\nBlock.tagName = 'P';\\nBlock.defaultChild = _break2.default;\\nBlock.allowedChildren = [_break2.default, _inline2.default, _parchment.EmbedBlot, _text2.default];\\n\\nclass BlockEmbed extends _parchment.EmbedBlot {\\n  attach() {\\n    super.attach();\\n    this.attributes = new _parchment.AttributorStore(this.domNode);\\n  }\\n\\n  delta() {\\n    return new _quillDelta2.default().insert(this.value(), (0, _extend2.default)(this.formats(), this.attributes.values()));\\n  }\\n\\n  format(name, value) {\\n    const attribute = this.scroll.query(name, _parchment.Scope.BLOCK_ATTRIBUTE);\\n    if (attribute != null) {\\n      this.attributes.attribute(attribute, value);\\n    }\\n  }\\n\\n  formatAt(index, length, name, value) {\\n    this.format(name, value);\\n  }\\n\\n  insertAt(index, value, def) {\\n    if (typeof value === 'string' && value.endsWith('\\\\n')) {\\n      const block = this.scroll.create(Block.blotName);\\n      this.parent.insertBefore(block, index === 0 ? this : this.next);\\n      block.insertAt(0, value.slice(0, -1));\\n    } else {\\n      super.insertAt(index, value, def);\\n    }\\n  }\\n}\\nBlockEmbed.scope = _parchment.Scope.BLOCK_BLOT;\\n// It is important for cursor behavior BlockEmbeds use tags that are block level elements\\n\\nfunction blockDelta(blot) {\\n  return blot.descendants(_parchment.LeafBlot).reduce((delta, leaf) => {\\n    if (leaf.length() === 0) {\\n      return delta;\\n    }\\n    return delta.insert(leaf.value(), bubbleFormats(leaf));\\n  }, new _quillDelta2.default()).insert('\\\\n', bubbleFormats(blot));\\n}\\n\\nfunction bubbleFormats(blot, formats = {}) {\\n  if (blot == null) return formats;\\n  if (typeof blot.formats === 'function') {\\n    formats = (0, _extend2.default)(formats, blot.formats());\\n  }\\n  if (blot.parent == null || blot.parent.blotName === 'scroll' || blot.parent.statics.scope !== blot.statics.scope) {\\n    return formats;\\n  }\\n  return bubbleFormats(blot.parent, formats);\\n}\\n\\nexports.blockDelta = blockDelta;\\nexports.bubbleFormats = bubbleFormats;\\nexports.BlockEmbed = BlockEmbed;\\nexports.default = Block;\\n\\n//# sourceURL=webpack://Quill/./blots/block.js?\");\n\n/***/ }),\n\n/***/ \"./blots/break.js\":\n/*!************************!*\\\n  !*** ./blots/break.js ***!\n  \\************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\n\\nvar _parchment = __webpack_require__(/*! parchment */ \\\"./node_modules/parchment/src/parchment.ts\\\");\\n\\nclass Break extends _parchment.EmbedBlot {\\n  static value() {\\n    return undefined;\\n  }\\n\\n  optimize() {\\n    if (this.prev || this.next) {\\n      this.remove();\\n    }\\n  }\\n\\n  length() {\\n    return 0;\\n  }\\n\\n  value() {\\n    return '';\\n  }\\n}\\nBreak.blotName = 'break';\\nBreak.tagName = 'BR';\\n\\nexports.default = Break;\\n\\n//# sourceURL=webpack://Quill/./blots/break.js?\");\n\n/***/ }),\n\n/***/ \"./blots/container.js\":\n/*!****************************!*\\\n  !*** ./blots/container.js ***!\n  \\****************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\n\\nvar _parchment = __webpack_require__(/*! parchment */ \\\"./node_modules/parchment/src/parchment.ts\\\");\\n\\nclass Container extends _parchment.ContainerBlot {}\\n\\nexports.default = Container;\\n\\n//# sourceURL=webpack://Quill/./blots/container.js?\");\n\n/***/ }),\n\n/***/ \"./blots/cursor.js\":\n/*!*************************!*\\\n  !*** ./blots/cursor.js ***!\n  \\*************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\n\\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\\\"return\\\"]) _i[\\\"return\\\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\\\"Invalid attempt to destructure non-iterable instance\\\"); } }; }();\\n\\nvar _parchment = __webpack_require__(/*! parchment */ \\\"./node_modules/parchment/src/parchment.ts\\\");\\n\\nvar _text = __webpack_require__(/*! ./text */ \\\"./blots/text.js\\\");\\n\\nvar _text2 = _interopRequireDefault(_text);\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\\n\\nclass Cursor extends _parchment.EmbedBlot {\\n  static value() {\\n    return undefined;\\n  }\\n\\n  constructor(scroll, domNode, selection) {\\n    super(scroll, domNode);\\n    this.selection = selection;\\n    this.textNode = document.createTextNode(Cursor.CONTENTS);\\n    this.domNode.appendChild(this.textNode);\\n    this.savedLength = 0;\\n  }\\n\\n  detach() {\\n    // super.detach() will also clear domNode.__blot\\n    if (this.parent != null) this.parent.removeChild(this);\\n  }\\n\\n  format(name, value) {\\n    if (this.savedLength !== 0) {\\n      super.format(name, value);\\n      return;\\n    }\\n    let target = this;\\n    let index = 0;\\n    while (target != null && target.statics.scope !== _parchment.Scope.BLOCK_BLOT) {\\n      index += target.offset(target.parent);\\n      target = target.parent;\\n    }\\n    if (target != null) {\\n      this.savedLength = Cursor.CONTENTS.length;\\n      target.optimize();\\n      target.formatAt(index, Cursor.CONTENTS.length, name, value);\\n      this.savedLength = 0;\\n    }\\n  }\\n\\n  index(node, offset) {\\n    if (node === this.textNode) return 0;\\n    return super.index(node, offset);\\n  }\\n\\n  length() {\\n    return this.savedLength;\\n  }\\n\\n  position() {\\n    return [this.textNode, this.textNode.data.length];\\n  }\\n\\n  remove() {\\n    super.remove();\\n    this.parent = null;\\n  }\\n\\n  restore() {\\n    if (this.selection.composing || this.parent == null) return null;\\n    const range = this.selection.getNativeRange();\\n    let restoreText;\\n    let start;\\n    let end;\\n    if (range != null && range.start.node === this.textNode && range.end.node === this.textNode) {\\n      var _ref = [this.textNode, range.start.offset, range.end.offset];\\n      restoreText = _ref[0];\\n      start = _ref[1];\\n      end = _ref[2];\\n    }\\n    // Link format will insert text outside of anchor tag\\n    while (this.domNode.lastChild != null && this.domNode.lastChild !== this.textNode) {\\n      this.domNode.parentNode.insertBefore(this.domNode.lastChild, this.domNode);\\n    }\\n    if (this.textNode.data !== Cursor.CONTENTS) {\\n      const text = this.textNode.data.split(Cursor.CONTENTS).join('');\\n      if (this.next instanceof _text2.default) {\\n        restoreText = this.next.domNode;\\n        this.next.insertAt(0, text);\\n        this.textNode.data = Cursor.CONTENTS;\\n      } else {\\n        this.textNode.data = text;\\n        this.parent.insertBefore(this.scroll.create(this.textNode), this);\\n        this.textNode = document.createTextNode(Cursor.CONTENTS);\\n        this.domNode.appendChild(this.textNode);\\n      }\\n    }\\n    this.remove();\\n    if (start != null) {\\n      var _map = [start, end].map(offset => {\\n        return Math.max(0, Math.min(restoreText.data.length, offset - 1));\\n      });\\n\\n      var _map2 = _slicedToArray(_map, 2);\\n\\n      start = _map2[0];\\n      end = _map2[1];\\n\\n      return {\\n        startNode: restoreText,\\n        startOffset: start,\\n        endNode: restoreText,\\n        endOffset: end\\n      };\\n    }\\n    return null;\\n  }\\n\\n  update(mutations, context) {\\n    if (mutations.some(mutation => {\\n      return mutation.type === 'characterData' && mutation.target === this.textNode;\\n    })) {\\n      const range = this.restore();\\n      if (range) context.range = range;\\n    }\\n  }\\n\\n  value() {\\n    return '';\\n  }\\n}\\nCursor.blotName = 'cursor';\\nCursor.className = 'ql-cursor';\\nCursor.tagName = 'span';\\nCursor.CONTENTS = '\\\\uFEFF'; // Zero width no break space\\n\\nexports.default = Cursor;\\n\\n//# sourceURL=webpack://Quill/./blots/cursor.js?\");\n\n/***/ }),\n\n/***/ \"./blots/embed.js\":\n/*!************************!*\\\n  !*** ./blots/embed.js ***!\n  \\************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\n\\nvar _parchment = __webpack_require__(/*! parchment */ \\\"./node_modules/parchment/src/parchment.ts\\\");\\n\\nvar _text = __webpack_require__(/*! ./text */ \\\"./blots/text.js\\\");\\n\\nvar _text2 = _interopRequireDefault(_text);\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\\n\\nconst GUARD_TEXT = '\\\\uFEFF';\\n\\nclass Embed extends _parchment.EmbedBlot {\\n  constructor(scroll, node) {\\n    super(scroll, node);\\n    this.contentNode = document.createElement('span');\\n    this.contentNode.setAttribute('contenteditable', false);\\n    Array.from(this.domNode.childNodes).forEach(childNode => {\\n      this.contentNode.appendChild(childNode);\\n    });\\n    this.leftGuard = document.createTextNode(GUARD_TEXT);\\n    this.rightGuard = document.createTextNode(GUARD_TEXT);\\n    this.domNode.appendChild(this.leftGuard);\\n    this.domNode.appendChild(this.contentNode);\\n    this.domNode.appendChild(this.rightGuard);\\n  }\\n\\n  index(node, offset) {\\n    if (node === this.leftGuard) return 0;\\n    if (node === this.rightGuard) return 1;\\n    return super.index(node, offset);\\n  }\\n\\n  restore(node) {\\n    let range;\\n    let textNode;\\n    const text = node.data.split(GUARD_TEXT).join('');\\n    if (node === this.leftGuard) {\\n      if (this.prev instanceof _text2.default) {\\n        const prevLength = this.prev.length();\\n        this.prev.insertAt(prevLength, text);\\n        range = {\\n          startNode: this.prev.domNode,\\n          startOffset: prevLength + text.length\\n        };\\n      } else {\\n        textNode = document.createTextNode(text);\\n        this.parent.insertBefore(this.scroll.create(textNode), this);\\n        range = {\\n          startNode: textNode,\\n          startOffset: text.length\\n        };\\n      }\\n    } else if (node === this.rightGuard) {\\n      if (this.next instanceof _text2.default) {\\n        this.next.insertAt(0, text);\\n        range = {\\n          startNode: this.next.domNode,\\n          startOffset: text.length\\n        };\\n      } else {\\n        textNode = document.createTextNode(text);\\n        this.parent.insertBefore(this.scroll.create(textNode), this.next);\\n        range = {\\n          startNode: textNode,\\n          startOffset: text.length\\n        };\\n      }\\n    }\\n    node.data = GUARD_TEXT;\\n    return range;\\n  }\\n\\n  update(mutations, context) {\\n    mutations.forEach(mutation => {\\n      if (mutation.type === 'characterData' && (mutation.target === this.leftGuard || mutation.target === this.rightGuard)) {\\n        const range = this.restore(mutation.target);\\n        if (range) context.range = range;\\n      }\\n    });\\n  }\\n}\\n\\nexports.default = Embed;\\n\\n//# sourceURL=webpack://Quill/./blots/embed.js?\");\n\n/***/ }),\n\n/***/ \"./blots/inline.js\":\n/*!*************************!*\\\n  !*** ./blots/inline.js ***!\n  \\*************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\n\\nvar _parchment = __webpack_require__(/*! parchment */ \\\"./node_modules/parchment/src/parchment.ts\\\");\\n\\nvar _break = __webpack_require__(/*! ./break */ \\\"./blots/break.js\\\");\\n\\nvar _break2 = _interopRequireDefault(_break);\\n\\nvar _text = __webpack_require__(/*! ./text */ \\\"./blots/text.js\\\");\\n\\nvar _text2 = _interopRequireDefault(_text);\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\\n\\nclass Inline extends _parchment.InlineBlot {\\n  static compare(self, other) {\\n    const selfIndex = Inline.order.indexOf(self);\\n    const otherIndex = Inline.order.indexOf(other);\\n    if (selfIndex >= 0 || otherIndex >= 0) {\\n      return selfIndex - otherIndex;\\n    } else if (self === other) {\\n      return 0;\\n    } else if (self < other) {\\n      return -1;\\n    }\\n    return 1;\\n  }\\n\\n  formatAt(index, length, name, value) {\\n    if (Inline.compare(this.statics.blotName, name) < 0 && this.scroll.query(name, _parchment.Scope.BLOT)) {\\n      const blot = this.isolate(index, length);\\n      if (value) {\\n        blot.wrap(name, value);\\n      }\\n    } else {\\n      super.formatAt(index, length, name, value);\\n    }\\n  }\\n\\n  optimize(context) {\\n    super.optimize(context);\\n    if (this.parent instanceof Inline && Inline.compare(this.statics.blotName, this.parent.statics.blotName) > 0) {\\n      const parent = this.parent.isolate(this.offset(), this.length());\\n      this.moveChildren(parent);\\n      parent.wrap(this);\\n    }\\n  }\\n}\\nInline.allowedChildren = [Inline, _break2.default, _parchment.EmbedBlot, _text2.default];\\n// Lower index means deeper in the DOM tree, since not found (-1) is for embeds\\nInline.order = ['cursor', 'inline', // Must be lower\\n'underline', 'strike', 'italic', 'bold', 'script', 'link', 'code'];\\n\\nexports.default = Inline;\\n\\n//# sourceURL=webpack://Quill/./blots/inline.js?\");\n\n/***/ }),\n\n/***/ \"./blots/scroll.js\":\n/*!*************************!*\\\n  !*** ./blots/scroll.js ***!\n  \\*************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\n\\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\\\"return\\\"]) _i[\\\"return\\\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\\\"Invalid attempt to destructure non-iterable instance\\\"); } }; }();\\n\\nvar _parchment = __webpack_require__(/*! parchment */ \\\"./node_modules/parchment/src/parchment.ts\\\");\\n\\nvar _emitter = __webpack_require__(/*! ../core/emitter */ \\\"./core/emitter.js\\\");\\n\\nvar _emitter2 = _interopRequireDefault(_emitter);\\n\\nvar _block = __webpack_require__(/*! ./block */ \\\"./blots/block.js\\\");\\n\\nvar _block2 = _interopRequireDefault(_block);\\n\\nvar _break = __webpack_require__(/*! ./break */ \\\"./blots/break.js\\\");\\n\\nvar _break2 = _interopRequireDefault(_break);\\n\\nvar _container = __webpack_require__(/*! ./container */ \\\"./blots/container.js\\\");\\n\\nvar _container2 = _interopRequireDefault(_container);\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\\n\\nfunction isLine(blot) {\\n  return blot instanceof _block2.default || blot instanceof _block.BlockEmbed;\\n}\\n\\nclass Scroll extends _parchment.ScrollBlot {\\n  constructor(registry, domNode, { emitter }) {\\n    super(registry, domNode);\\n    this.emitter = emitter;\\n    // Some reason fixes composition issues with character languages in Windows/Chrome, Safari\\n    this.domNode.addEventListener('DOMNodeInserted', () => {});\\n    this.optimize();\\n    this.enable();\\n  }\\n\\n  batchStart() {\\n    this.batch = true;\\n  }\\n\\n  batchEnd() {\\n    this.batch = false;\\n    this.optimize();\\n  }\\n\\n  emitMount(blot) {\\n    this.emitter.emit(_emitter2.default.events.SCROLL_BLOT_MOUNT, blot);\\n  }\\n\\n  emitUnmount(blot) {\\n    this.emitter.emit(_emitter2.default.events.SCROLL_BLOT_UNMOUNT, blot);\\n  }\\n\\n  deleteAt(index, length) {\\n    var _line = this.line(index),\\n        _line2 = _slicedToArray(_line, 2);\\n\\n    const first = _line2[0],\\n          offset = _line2[1];\\n\\n    var _line3 = this.line(index + length),\\n        _line4 = _slicedToArray(_line3, 1);\\n\\n    const last = _line4[0];\\n\\n    super.deleteAt(index, length);\\n    if (last != null && first !== last && offset > 0) {\\n      if (first instanceof _block.BlockEmbed || last instanceof _block.BlockEmbed) {\\n        this.optimize();\\n        return;\\n      }\\n      const ref = last.children.head instanceof _break2.default ? null : last.children.head;\\n      first.moveChildren(last, ref);\\n      first.remove();\\n    }\\n    this.optimize();\\n  }\\n\\n  enable(enabled = true) {\\n    this.domNode.setAttribute('contenteditable', enabled);\\n  }\\n\\n  formatAt(index, length, format, value) {\\n    super.formatAt(index, length, format, value);\\n    this.optimize();\\n  }\\n\\n  insertAt(index, value, def) {\\n    if (index >= this.length()) {\\n      if (def == null || this.scroll.query(value, _parchment.Scope.BLOCK) == null) {\\n        const blot = this.scroll.create(this.statics.defaultChild.blotName);\\n        this.appendChild(blot);\\n        if (def == null && value.endsWith('\\\\n')) {\\n          blot.insertAt(0, value.slice(0, -1), def);\\n        } else {\\n          blot.insertAt(0, value, def);\\n        }\\n      } else {\\n        const embed = this.scroll.create(value, def);\\n        this.appendChild(embed);\\n      }\\n    } else {\\n      super.insertAt(index, value, def);\\n    }\\n    this.optimize();\\n  }\\n\\n  insertBefore(blot, ref) {\\n    if (blot.statics.scope === _parchment.Scope.INLINE_BLOT) {\\n      const wrapper = this.scroll.create(this.statics.defaultChild.blotName);\\n      wrapper.appendChild(blot);\\n      super.insertBefore(wrapper, ref);\\n    } else {\\n      super.insertBefore(blot, ref);\\n    }\\n  }\\n\\n  leaf(index) {\\n    return this.path(index).pop() || [null, -1];\\n  }\\n\\n  line(index) {\\n    if (index === this.length()) {\\n      return this.line(index - 1);\\n    }\\n    return this.descendant(isLine, index);\\n  }\\n\\n  lines(index = 0, length = Number.MAX_VALUE) {\\n    const getLines = (blot, blotIndex, blotLength) => {\\n      let lines = [];\\n      let lengthLeft = blotLength;\\n      blot.children.forEachAt(blotIndex, blotLength, (child, childIndex, childLength) => {\\n        if (isLine(child)) {\\n          lines.push(child);\\n        } else if (child instanceof _parchment.ContainerBlot) {\\n          lines = lines.concat(getLines(child, childIndex, lengthLeft));\\n        }\\n        lengthLeft -= childLength;\\n      });\\n      return lines;\\n    };\\n    return getLines(this, index, length);\\n  }\\n\\n  optimize(mutations = [], context = {}) {\\n    if (this.batch === true) return;\\n    super.optimize(mutations, context);\\n    if (mutations.length > 0) {\\n      this.emitter.emit(_emitter2.default.events.SCROLL_OPTIMIZE, mutations, context);\\n    }\\n  }\\n\\n  path(index) {\\n    return super.path(index).slice(1); // Exclude self\\n  }\\n\\n  remove() {\\n    // Never remove self\\n  }\\n\\n  update(mutations) {\\n    if (this.batch === true) return;\\n    let source = _emitter2.default.sources.USER;\\n    if (typeof mutations === 'string') {\\n      source = mutations;\\n    }\\n    if (!Array.isArray(mutations)) {\\n      mutations = this.observer.takeRecords();\\n    }\\n    if (mutations.length > 0) {\\n      this.emitter.emit(_emitter2.default.events.SCROLL_BEFORE_UPDATE, source, mutations);\\n    }\\n    super.update(mutations.concat([])); // pass copy\\n    if (mutations.length > 0) {\\n      this.emitter.emit(_emitter2.default.events.SCROLL_UPDATE, source, mutations);\\n    }\\n  }\\n}\\nScroll.blotName = 'scroll';\\nScroll.className = 'ql-editor';\\nScroll.tagName = 'DIV';\\nScroll.defaultChild = _block2.default;\\nScroll.allowedChildren = [_block2.default, _block.BlockEmbed, _container2.default];\\n\\nexports.default = Scroll;\\n\\n//# sourceURL=webpack://Quill/./blots/scroll.js?\");\n\n/***/ }),\n\n/***/ \"./blots/text.js\":\n/*!***********************!*\\\n  !*** ./blots/text.js ***!\n  \\***********************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\n\\nvar _parchment = __webpack_require__(/*! parchment */ \\\"./node_modules/parchment/src/parchment.ts\\\");\\n\\nclass Text extends _parchment.TextBlot {}\\n\\nexports.default = Text;\\n\\n//# sourceURL=webpack://Quill/./blots/text.js?\");\n\n/***/ }),\n\n/***/ \"./core.js\":\n/*!*****************!*\\\n  !*** ./core.js ***!\n  \\*****************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\n\\nvar _quill = __webpack_require__(/*! ./core/quill */ \\\"./core/quill.js\\\");\\n\\nvar _quill2 = _interopRequireDefault(_quill);\\n\\nvar _block = __webpack_require__(/*! ./blots/block */ \\\"./blots/block.js\\\");\\n\\nvar _block2 = _interopRequireDefault(_block);\\n\\nvar _break = __webpack_require__(/*! ./blots/break */ \\\"./blots/break.js\\\");\\n\\nvar _break2 = _interopRequireDefault(_break);\\n\\nvar _container = __webpack_require__(/*! ./blots/container */ \\\"./blots/container.js\\\");\\n\\nvar _container2 = _interopRequireDefault(_container);\\n\\nvar _cursor = __webpack_require__(/*! ./blots/cursor */ \\\"./blots/cursor.js\\\");\\n\\nvar _cursor2 = _interopRequireDefault(_cursor);\\n\\nvar _embed = __webpack_require__(/*! ./blots/embed */ \\\"./blots/embed.js\\\");\\n\\nvar _embed2 = _interopRequireDefault(_embed);\\n\\nvar _inline = __webpack_require__(/*! ./blots/inline */ \\\"./blots/inline.js\\\");\\n\\nvar _inline2 = _interopRequireDefault(_inline);\\n\\nvar _scroll = __webpack_require__(/*! ./blots/scroll */ \\\"./blots/scroll.js\\\");\\n\\nvar _scroll2 = _interopRequireDefault(_scroll);\\n\\nvar _text = __webpack_require__(/*! ./blots/text */ \\\"./blots/text.js\\\");\\n\\nvar _text2 = _interopRequireDefault(_text);\\n\\nvar _clipboard = __webpack_require__(/*! ./modules/clipboard */ \\\"./modules/clipboard.js\\\");\\n\\nvar _clipboard2 = _interopRequireDefault(_clipboard);\\n\\nvar _history = __webpack_require__(/*! ./modules/history */ \\\"./modules/history.js\\\");\\n\\nvar _history2 = _interopRequireDefault(_history);\\n\\nvar _keyboard = __webpack_require__(/*! ./modules/keyboard */ \\\"./modules/keyboard.js\\\");\\n\\nvar _keyboard2 = _interopRequireDefault(_keyboard);\\n\\nvar _uploader = __webpack_require__(/*! ./modules/uploader */ \\\"./modules/uploader.js\\\");\\n\\nvar _uploader2 = _interopRequireDefault(_uploader);\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\\n\\n_quill2.default.register({\\n  'blots/block': _block2.default,\\n  'blots/block/embed': _block.BlockEmbed,\\n  'blots/break': _break2.default,\\n  'blots/container': _container2.default,\\n  'blots/cursor': _cursor2.default,\\n  'blots/embed': _embed2.default,\\n  'blots/inline': _inline2.default,\\n  'blots/scroll': _scroll2.default,\\n  'blots/text': _text2.default,\\n\\n  'modules/clipboard': _clipboard2.default,\\n  'modules/history': _history2.default,\\n  'modules/keyboard': _keyboard2.default,\\n  'modules/uploader': _uploader2.default\\n});\\n\\nexports.default = _quill2.default;\\n\\n//# sourceURL=webpack://Quill/./core.js?\");\n\n/***/ }),\n\n/***/ \"./core/editor.js\":\n/*!************************!*\\\n  !*** ./core/editor.js ***!\n  \\************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\n\\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\\\"return\\\"]) _i[\\\"return\\\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\\\"Invalid attempt to destructure non-iterable instance\\\"); } }; }();\\n\\nvar _clone = __webpack_require__(/*! clone */ \\\"./node_modules/clone/clone.js\\\");\\n\\nvar _clone2 = _interopRequireDefault(_clone);\\n\\nvar _deepEqual = __webpack_require__(/*! deep-equal */ \\\"./node_modules/deep-equal/index.js\\\");\\n\\nvar _deepEqual2 = _interopRequireDefault(_deepEqual);\\n\\nvar _extend = __webpack_require__(/*! extend */ \\\"./node_modules/extend/index.js\\\");\\n\\nvar _extend2 = _interopRequireDefault(_extend);\\n\\nvar _quillDelta = __webpack_require__(/*! quill-delta */ \\\"./node_modules/quill-delta/lib/delta.js\\\");\\n\\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\\n\\nvar _op = __webpack_require__(/*! quill-delta/lib/op */ \\\"./node_modules/quill-delta/lib/op.js\\\");\\n\\nvar _op2 = _interopRequireDefault(_op);\\n\\nvar _parchment = __webpack_require__(/*! parchment */ \\\"./node_modules/parchment/src/parchment.ts\\\");\\n\\nvar _cursor = __webpack_require__(/*! ../blots/cursor */ \\\"./blots/cursor.js\\\");\\n\\nvar _cursor2 = _interopRequireDefault(_cursor);\\n\\nvar _block = __webpack_require__(/*! ../blots/block */ \\\"./blots/block.js\\\");\\n\\nvar _block2 = _interopRequireDefault(_block);\\n\\nvar _break = __webpack_require__(/*! ../blots/break */ \\\"./blots/break.js\\\");\\n\\nvar _break2 = _interopRequireDefault(_break);\\n\\nvar _text = __webpack_require__(/*! ../blots/text */ \\\"./blots/text.js\\\");\\n\\nvar _text2 = _interopRequireDefault(_text);\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\\n\\nfunction _toArray(arr) { return Array.isArray(arr) ? arr : Array.from(arr); }\\n\\nconst ASCII = /^[ -~]*$/;\\n\\nclass Editor {\\n  constructor(scroll) {\\n    this.scroll = scroll;\\n    this.delta = this.getDelta();\\n  }\\n\\n  applyDelta(delta) {\\n    let consumeNextNewline = false;\\n    this.scroll.update();\\n    let scrollLength = this.scroll.length();\\n    this.scroll.batchStart();\\n    const normalizedDelta = normalizeDelta(delta);\\n    normalizedDelta.reduce((index, op) => {\\n      const length = op.retain || op.delete || op.insert.length || 1;\\n      let attributes = op.attributes || {};\\n      if (op.insert != null) {\\n        if (typeof op.insert === 'string') {\\n          let text = op.insert;\\n          if (text.endsWith('\\\\n') && consumeNextNewline) {\\n            consumeNextNewline = false;\\n            text = text.slice(0, -1);\\n          }\\n          if (index >= scrollLength && !text.endsWith('\\\\n')) {\\n            consumeNextNewline = true;\\n          }\\n          this.scroll.insertAt(index, text);\\n\\n          var _scroll$line = this.scroll.line(index),\\n              _scroll$line2 = _slicedToArray(_scroll$line, 2);\\n\\n          const line = _scroll$line2[0],\\n                offset = _scroll$line2[1];\\n\\n          let formats = (0, _extend2.default)({}, (0, _block.bubbleFormats)(line));\\n          if (line instanceof _block2.default) {\\n            var _line$descendant = line.descendant(_parchment.LeafBlot, offset),\\n                _line$descendant2 = _slicedToArray(_line$descendant, 1);\\n\\n            const leaf = _line$descendant2[0];\\n\\n            formats = (0, _extend2.default)(formats, (0, _block.bubbleFormats)(leaf));\\n          }\\n          attributes = _op2.default.attributes.diff(formats, attributes) || {};\\n        } else if (typeof op.insert === 'object') {\\n          const key = Object.keys(op.insert)[0]; // There should only be one key\\n          if (key == null) return index;\\n          this.scroll.insertAt(index, key, op.insert[key]);\\n        }\\n        scrollLength += length;\\n      }\\n      Object.keys(attributes).forEach(name => {\\n        this.scroll.formatAt(index, length, name, attributes[name]);\\n      });\\n      return index + length;\\n    }, 0);\\n    normalizedDelta.reduce((index, op) => {\\n      if (typeof op.delete === 'number') {\\n        this.scroll.deleteAt(index, op.delete);\\n        return index;\\n      }\\n      return index + (op.retain || op.insert.length || 1);\\n    }, 0);\\n    this.scroll.batchEnd();\\n    this.scroll.optimize();\\n    return this.update(normalizedDelta);\\n  }\\n\\n  deleteText(index, length) {\\n    this.scroll.deleteAt(index, length);\\n    return this.update(new _quillDelta2.default().retain(index).delete(length));\\n  }\\n\\n  formatLine(index, length, formats = {}) {\\n    this.scroll.update();\\n    Object.keys(formats).forEach(format => {\\n      this.scroll.lines(index, Math.max(length, 1)).forEach(line => {\\n        line.format(format, formats[format]);\\n      });\\n    });\\n    this.scroll.optimize();\\n    const delta = new _quillDelta2.default().retain(index).retain(length, (0, _clone2.default)(formats));\\n    return this.update(delta);\\n  }\\n\\n  formatText(index, length, formats = {}) {\\n    Object.keys(formats).forEach(format => {\\n      this.scroll.formatAt(index, length, format, formats[format]);\\n    });\\n    const delta = new _quillDelta2.default().retain(index).retain(length, (0, _clone2.default)(formats));\\n    return this.update(delta);\\n  }\\n\\n  getContents(index, length) {\\n    return this.delta.slice(index, index + length);\\n  }\\n\\n  getDelta() {\\n    return this.scroll.lines().reduce((delta, line) => {\\n      return delta.concat(line.delta());\\n    }, new _quillDelta2.default());\\n  }\\n\\n  getFormat(index, length = 0) {\\n    let lines = [];\\n    let leaves = [];\\n    if (length === 0) {\\n      this.scroll.path(index).forEach(path => {\\n        var _path = _slicedToArray(path, 1);\\n\\n        const blot = _path[0];\\n\\n        if (blot instanceof _block2.default) {\\n          lines.push(blot);\\n        } else if (blot instanceof _parchment.LeafBlot) {\\n          leaves.push(blot);\\n        }\\n      });\\n    } else {\\n      lines = this.scroll.lines(index, length);\\n      leaves = this.scroll.descendants(_parchment.LeafBlot, index, length);\\n    }\\n    const formatsArr = [lines, leaves].map(blots => {\\n      if (blots.length === 0) return {};\\n      let formats = (0, _block.bubbleFormats)(blots.shift());\\n      while (Object.keys(formats).length > 0) {\\n        const blot = blots.shift();\\n        if (blot == null) return formats;\\n        formats = combineFormats((0, _block.bubbleFormats)(blot), formats);\\n      }\\n      return formats;\\n    });\\n    return _extend2.default.apply(_extend2.default, formatsArr);\\n  }\\n\\n  getHTML(index, length) {\\n    var _scroll$line3 = this.scroll.line(index),\\n        _scroll$line4 = _slicedToArray(_scroll$line3, 2);\\n\\n    const line = _scroll$line4[0],\\n          lineOffset = _scroll$line4[1];\\n\\n    if (line.length() >= lineOffset + length) {\\n      return convertHTML(line, lineOffset, length, true);\\n    }\\n    return convertHTML(this.scroll, index, length, true);\\n  }\\n\\n  getText(index, length) {\\n    return this.getContents(index, length).filter(op => typeof op.insert === 'string').map(op => op.insert).join('');\\n  }\\n\\n  insertEmbed(index, embed, value) {\\n    this.scroll.insertAt(index, embed, value);\\n    return this.update(new _quillDelta2.default().retain(index).insert({ [embed]: value }));\\n  }\\n\\n  insertText(index, text, formats = {}) {\\n    text = text.replace(/\\\\r\\\\n/g, '\\\\n').replace(/\\\\r/g, '\\\\n');\\n    this.scroll.insertAt(index, text);\\n    Object.keys(formats).forEach(format => {\\n      this.scroll.formatAt(index, text.length, format, formats[format]);\\n    });\\n    return this.update(new _quillDelta2.default().retain(index).insert(text, (0, _clone2.default)(formats)));\\n  }\\n\\n  isBlank() {\\n    if (this.scroll.children.length === 0) return true;\\n    if (this.scroll.children.length > 1) return false;\\n    const block = this.scroll.children.head;\\n    if (block.statics.blotName !== _block2.default.blotName) return false;\\n    if (block.children.length > 1) return false;\\n    return block.children.head instanceof _break2.default;\\n  }\\n\\n  removeFormat(index, length) {\\n    const text = this.getText(index, length);\\n\\n    var _scroll$line5 = this.scroll.line(index + length),\\n        _scroll$line6 = _slicedToArray(_scroll$line5, 2);\\n\\n    const line = _scroll$line6[0],\\n          offset = _scroll$line6[1];\\n\\n    let suffixLength = 0;\\n    let suffix = new _quillDelta2.default();\\n    if (line != null) {\\n      suffixLength = line.length() - offset;\\n      suffix = line.delta().slice(offset, offset + suffixLength - 1).insert('\\\\n');\\n    }\\n    const contents = this.getContents(index, length + suffixLength);\\n    const diff = contents.diff(new _quillDelta2.default().insert(text).concat(suffix));\\n    const delta = new _quillDelta2.default().retain(index).concat(diff);\\n    return this.applyDelta(delta);\\n  }\\n\\n  update(change, mutations = [], cursorIndex = undefined) {\\n    const oldDelta = this.delta;\\n    if (mutations.length === 1 && mutations[0].type === 'characterData' && mutations[0].target.data.match(ASCII) && this.scroll.find(mutations[0].target)) {\\n      // Optimization for character changes\\n      const textBlot = this.scroll.find(mutations[0].target);\\n      const formats = (0, _block.bubbleFormats)(textBlot);\\n      const index = textBlot.offset(this.scroll);\\n      const oldValue = mutations[0].oldValue.replace(_cursor2.default.CONTENTS, '');\\n      const oldText = new _quillDelta2.default().insert(oldValue);\\n      const newText = new _quillDelta2.default().insert(textBlot.value());\\n      const diffDelta = new _quillDelta2.default().retain(index).concat(oldText.diff(newText, cursorIndex));\\n      change = diffDelta.reduce((delta, op) => {\\n        if (op.insert) {\\n          return delta.insert(op.insert, formats);\\n        }\\n        return delta.push(op);\\n      }, new _quillDelta2.default());\\n      this.delta = oldDelta.compose(change);\\n    } else {\\n      this.delta = this.getDelta();\\n      if (!change || !(0, _deepEqual2.default)(oldDelta.compose(change), this.delta)) {\\n        change = oldDelta.diff(this.delta, cursorIndex);\\n      }\\n    }\\n    return change;\\n  }\\n}\\n\\nfunction convertListHTML(items, lastIndent, types) {\\n  if (items.length === 0) {\\n    var _getListType = getListType(types.pop()),\\n        _getListType2 = _slicedToArray(_getListType, 1);\\n\\n    const endTag = _getListType2[0];\\n\\n    if (lastIndent <= 0) {\\n      return `</li></${endTag}>`;\\n    }\\n    return `</li></${endTag}>${convertListHTML([], lastIndent - 1, types)}`;\\n  }\\n\\n  var _items = _toArray(items),\\n      _items$ = _items[0];\\n\\n  const child = _items$.child,\\n        offset = _items$.offset,\\n        length = _items$.length,\\n        indent = _items$.indent,\\n        type = _items$.type,\\n        rest = _items.slice(1);\\n\\n  var _getListType3 = getListType(type),\\n      _getListType4 = _slicedToArray(_getListType3, 2);\\n\\n  const tag = _getListType4[0],\\n        attribute = _getListType4[1];\\n\\n  if (indent > lastIndent) {\\n    types.push(tag);\\n    return `<${tag}><li${attribute}>${convertHTML(child, offset, length)}${convertListHTML(rest, indent, types)}`;\\n  } else if (indent === lastIndent) {\\n    return `</li><li${attribute}>${convertHTML(child, offset, length)}${convertListHTML(rest, indent, types)}`;\\n  } else if (indent === lastIndent - 1) {\\n    var _getListType5 = getListType(types.pop()),\\n        _getListType6 = _slicedToArray(_getListType5, 1);\\n\\n    const endTag = _getListType6[0];\\n\\n    return `</li></${endTag}></li><li${attribute}>${convertHTML(child, offset, length)}${convertListHTML(rest, indent, types)}`;\\n  }\\n\\n  var _getListType7 = getListType(types.pop()),\\n      _getListType8 = _slicedToArray(_getListType7, 1);\\n\\n  const endTag = _getListType8[0];\\n\\n  return `</li></${endTag}>${convertListHTML(items, lastIndent - 1, types)}`;\\n}\\n\\nfunction convertHTML(blot, index, length, isRoot = false) {\\n  if (typeof blot.html === 'function') {\\n    return blot.html(index, length);\\n  } else if (blot instanceof _text2.default) {\\n    return blot.value().slice(index, index + length);\\n  } else if (blot.children) {\\n    // TODO fix API\\n    if (blot.statics.blotName === 'list-container') {\\n      const items = [];\\n      blot.children.forEachAt(index, length, (child, offset, childLength) => {\\n        const formats = child.formats();\\n        items.push({\\n          child,\\n          offset,\\n          length: childLength,\\n          indent: formats.indent || 0,\\n          type: formats.list\\n        });\\n      });\\n      return convertListHTML(items, -1, []);\\n    }\\n    const parts = [];\\n    blot.children.forEachAt(index, length, (child, offset, childLength) => {\\n      parts.push(convertHTML(child, offset, childLength));\\n    });\\n    if (isRoot || blot.statics.blotName === 'list') {\\n      return parts.join('');\\n    }\\n    var _blot$domNode = blot.domNode;\\n    const outerHTML = _blot$domNode.outerHTML,\\n          innerHTML = _blot$domNode.innerHTML;\\n\\n    var _outerHTML$split = outerHTML.split(`>${innerHTML}<`),\\n        _outerHTML$split2 = _slicedToArray(_outerHTML$split, 2);\\n\\n    const start = _outerHTML$split2[0],\\n          end = _outerHTML$split2[1];\\n\\n    return `${start}>${parts.join('')}<${end}`;\\n  }\\n  return blot.domNode.outerHTML;\\n}\\n\\nfunction combineFormats(formats, combined) {\\n  return Object.keys(combined).reduce((merged, name) => {\\n    if (formats[name] == null) return merged;\\n    if (combined[name] === formats[name]) {\\n      merged[name] = combined[name];\\n    } else if (Array.isArray(combined[name])) {\\n      if (combined[name].indexOf(formats[name]) < 0) {\\n        merged[name] = combined[name].concat([formats[name]]);\\n      }\\n    } else {\\n      merged[name] = [combined[name], formats[name]];\\n    }\\n    return merged;\\n  }, {});\\n}\\n\\nfunction getListType(type) {\\n  const tag = type === 'ordered' ? 'ol' : 'ul';\\n  switch (type) {\\n    case 'checked':\\n      return [tag, ' data-list=\\\"checked\\\"'];\\n    case 'unchecked':\\n      return [tag, ' data-list=\\\"unchecked\\\"'];\\n    default:\\n      return [tag, ''];\\n  }\\n}\\n\\nfunction normalizeDelta(delta) {\\n  return delta.reduce((normalizedDelta, op) => {\\n    if (typeof op.insert === 'string') {\\n      const text = op.insert.replace(/\\\\r\\\\n/g, '\\\\n').replace(/\\\\r/g, '\\\\n');\\n      return normalizedDelta.insert(text, op.attributes);\\n    }\\n    return normalizedDelta.push(op);\\n  }, new _quillDelta2.default());\\n}\\n\\nexports.default = Editor;\\n\\n//# sourceURL=webpack://Quill/./core/editor.js?\");\n\n/***/ }),\n\n/***/ \"./core/emitter.js\":\n/*!*************************!*\\\n  !*** ./core/emitter.js ***!\n  \\*************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\n\\nvar _eventemitter = __webpack_require__(/*! eventemitter3 */ \\\"./node_modules/eventemitter3/index.js\\\");\\n\\nvar _eventemitter2 = _interopRequireDefault(_eventemitter);\\n\\nvar _instances = __webpack_require__(/*! ./instances */ \\\"./core/instances.js\\\");\\n\\nvar _instances2 = _interopRequireDefault(_instances);\\n\\nvar _logger = __webpack_require__(/*! ./logger */ \\\"./core/logger.js\\\");\\n\\nvar _logger2 = _interopRequireDefault(_logger);\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\\n\\nconst debug = (0, _logger2.default)('quill:events');\\nconst EVENTS = ['selectionchange', 'mousedown', 'mouseup', 'click'];\\n\\nEVENTS.forEach(eventName => {\\n  document.addEventListener(eventName, (...args) => {\\n    Array.from(document.querySelectorAll('.ql-container')).forEach(node => {\\n      const quill = _instances2.default.get(node);\\n      if (quill && quill.emitter) {\\n        quill.emitter.handleDOM(...args);\\n      }\\n    });\\n  });\\n});\\n\\nclass Emitter extends _eventemitter2.default {\\n  constructor() {\\n    super();\\n    this.listeners = {};\\n    this.on('error', debug.error);\\n  }\\n\\n  emit(...args) {\\n    debug.log.call(debug, ...args);\\n    super.emit(...args);\\n  }\\n\\n  handleDOM(event, ...args) {\\n    (this.listeners[event.type] || []).forEach(({ node, handler }) => {\\n      if (event.target === node || node.contains(event.target)) {\\n        handler(event, ...args);\\n      }\\n    });\\n  }\\n\\n  listenDOM(eventName, node, handler) {\\n    if (!this.listeners[eventName]) {\\n      this.listeners[eventName] = [];\\n    }\\n    this.listeners[eventName].push({ node, handler });\\n  }\\n}\\n\\nEmitter.events = {\\n  EDITOR_CHANGE: 'editor-change',\\n  SCROLL_BEFORE_UPDATE: 'scroll-before-update',\\n  SCROLL_BLOT_MOUNT: 'scroll-blot-mount',\\n  SCROLL_BLOT_UNMOUNT: 'scroll-blot-unmount',\\n  SCROLL_OPTIMIZE: 'scroll-optimize',\\n  SCROLL_UPDATE: 'scroll-update',\\n  SELECTION_CHANGE: 'selection-change',\\n  TEXT_CHANGE: 'text-change'\\n};\\nEmitter.sources = {\\n  API: 'api',\\n  SILENT: 'silent',\\n  USER: 'user'\\n};\\n\\nexports.default = Emitter;\\n\\n//# sourceURL=webpack://Quill/./core/emitter.js?\");\n\n/***/ }),\n\n/***/ \"./core/instances.js\":\n/*!***************************!*\\\n  !*** ./core/instances.js ***!\n  \\***************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.default = new WeakMap();\\n\\n//# sourceURL=webpack://Quill/./core/instances.js?\");\n\n/***/ }),\n\n/***/ \"./core/logger.js\":\n/*!************************!*\\\n  !*** ./core/logger.js ***!\n  \\************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nconst levels = ['error', 'warn', 'log', 'info'];\\nlet level = 'warn';\\n\\nfunction debug(method, ...args) {\\n  if (levels.indexOf(method) <= levels.indexOf(level)) {\\n    console[method](...args); // eslint-disable-line no-console\\n  }\\n}\\n\\nfunction namespace(ns) {\\n  return levels.reduce((logger, method) => {\\n    logger[method] = debug.bind(console, method, ns);\\n    return logger;\\n  }, {});\\n}\\n\\nnamespace.level = newLevel => {\\n  level = newLevel;\\n};\\ndebug.level = namespace.level;\\n\\nexports.default = namespace;\\n\\n//# sourceURL=webpack://Quill/./core/logger.js?\");\n\n/***/ }),\n\n/***/ \"./core/module.js\":\n/*!************************!*\\\n  !*** ./core/module.js ***!\n  \\************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nclass Module {\\n  constructor(quill, options = {}) {\\n    this.quill = quill;\\n    this.options = options;\\n  }\\n}\\nModule.DEFAULTS = {};\\n\\nexports.default = Module;\\n\\n//# sourceURL=webpack://Quill/./core/module.js?\");\n\n/***/ }),\n\n/***/ \"./core/quill.js\":\n/*!***********************!*\\\n  !*** ./core/quill.js ***!\n  \\***********************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.default = exports.overload = exports.expandConfig = exports.globalRegistry = undefined;\\n\\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\\\"return\\\"]) _i[\\\"return\\\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\\\"Invalid attempt to destructure non-iterable instance\\\"); } }; }();\\n\\nvar _quillDelta = __webpack_require__(/*! quill-delta */ \\\"./node_modules/quill-delta/lib/delta.js\\\");\\n\\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\\n\\nvar _parchment = __webpack_require__(/*! parchment */ \\\"./node_modules/parchment/src/parchment.ts\\\");\\n\\nvar Parchment = _interopRequireWildcard(_parchment);\\n\\nvar _extend = __webpack_require__(/*! extend */ \\\"./node_modules/extend/index.js\\\");\\n\\nvar _extend2 = _interopRequireDefault(_extend);\\n\\nvar _editor = __webpack_require__(/*! ./editor */ \\\"./core/editor.js\\\");\\n\\nvar _editor2 = _interopRequireDefault(_editor);\\n\\nvar _emitter = __webpack_require__(/*! ./emitter */ \\\"./core/emitter.js\\\");\\n\\nvar _emitter2 = _interopRequireDefault(_emitter);\\n\\nvar _module = __webpack_require__(/*! ./module */ \\\"./core/module.js\\\");\\n\\nvar _module2 = _interopRequireDefault(_module);\\n\\nvar _selection = __webpack_require__(/*! ./selection */ \\\"./core/selection.js\\\");\\n\\nvar _selection2 = _interopRequireDefault(_selection);\\n\\nvar _instances = __webpack_require__(/*! ./instances */ \\\"./core/instances.js\\\");\\n\\nvar _instances2 = _interopRequireDefault(_instances);\\n\\nvar _logger = __webpack_require__(/*! ./logger */ \\\"./core/logger.js\\\");\\n\\nvar _logger2 = _interopRequireDefault(_logger);\\n\\nvar _theme = __webpack_require__(/*! ./theme */ \\\"./core/theme.js\\\");\\n\\nvar _theme2 = _interopRequireDefault(_theme);\\n\\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\\n\\nconst debug = (0, _logger2.default)('quill');\\n\\nconst globalRegistry = new Parchment.Registry();\\n\\nclass Quill {\\n  static debug(limit) {\\n    if (limit === true) {\\n      limit = 'log';\\n    }\\n    _logger2.default.level(limit);\\n  }\\n\\n  static find(node) {\\n    return _instances2.default.get(node) || globalRegistry.find(node);\\n  }\\n\\n  static import(name) {\\n    if (this.imports[name] == null) {\\n      debug.error(`Cannot import ${name}. Are you sure it was registered?`);\\n    }\\n    return this.imports[name];\\n  }\\n\\n  static register(path, target, overwrite = false) {\\n    if (typeof path !== 'string') {\\n      const name = path.attrName || path.blotName;\\n      if (typeof name === 'string') {\\n        // register(Blot | Attributor, overwrite)\\n        this.register(`formats/${name}`, path, target);\\n      } else {\\n        Object.keys(path).forEach(key => {\\n          this.register(key, path[key], target);\\n        });\\n      }\\n    } else {\\n      if (this.imports[path] != null && !overwrite) {\\n        debug.warn(`Overwriting ${path} with`, target);\\n      }\\n      this.imports[path] = target;\\n      if ((path.startsWith('blots/') || path.startsWith('formats/')) && target.blotName !== 'abstract') {\\n        globalRegistry.register(target);\\n      }\\n      if (typeof target.register === 'function') {\\n        target.register(globalRegistry);\\n      }\\n    }\\n  }\\n\\n  constructor(container, options = {}) {\\n    this.options = expandConfig(container, options);\\n    this.container = this.options.container;\\n    if (this.container == null) {\\n      return debug.error('Invalid Quill container', container);\\n    }\\n    if (this.options.debug) {\\n      Quill.debug(this.options.debug);\\n    }\\n    const html = this.container.innerHTML.trim();\\n    this.container.classList.add('ql-container');\\n    this.container.innerHTML = '';\\n    _instances2.default.set(this.container, this);\\n    this.root = this.addContainer('ql-editor');\\n    this.root.addEventListener('dragstart', e => {\\n      e.preventDefault();\\n    });\\n    this.root.classList.add('ql-blank');\\n    this.root.setAttribute('data-gramm', false);\\n    this.scrollingContainer = this.options.scrollingContainer || this.root;\\n    this.emitter = new _emitter2.default();\\n    const ScrollBlot = this.options.registry.query(Parchment.ScrollBlot.blotName);\\n    this.scroll = new ScrollBlot(this.options.registry, this.root, {\\n      emitter: this.emitter\\n    });\\n    this.editor = new _editor2.default(this.scroll);\\n    this.selection = new _selection2.default(this.scroll, this.emitter);\\n    this.theme = new this.options.theme(this, this.options); // eslint-disable-line new-cap\\n    this.keyboard = this.theme.addModule('keyboard');\\n    this.clipboard = this.theme.addModule('clipboard');\\n    this.history = this.theme.addModule('history');\\n    this.uploader = this.theme.addModule('uploader');\\n    this.theme.init();\\n    this.emitter.on(_emitter2.default.events.EDITOR_CHANGE, type => {\\n      if (type === _emitter2.default.events.TEXT_CHANGE) {\\n        this.root.classList.toggle('ql-blank', this.editor.isBlank());\\n      }\\n    });\\n    this.emitter.on(_emitter2.default.events.SCROLL_UPDATE, (source, mutations) => {\\n      const range = this.selection.lastRange;\\n      const index = range && range.length === 0 ? range.index : undefined;\\n      modify.call(this, () => this.editor.update(null, mutations, index), source);\\n    });\\n    const contents = this.clipboard.convert({\\n      html: `${html}<p><br></p>`,\\n      text: '\\\\n'\\n    });\\n    this.setContents(contents);\\n    this.history.clear();\\n    if (this.options.placeholder) {\\n      this.root.setAttribute('data-placeholder', this.options.placeholder);\\n    }\\n    if (this.options.readOnly) {\\n      this.disable();\\n    }\\n  }\\n\\n  addContainer(container, refNode = null) {\\n    if (typeof container === 'string') {\\n      const className = container;\\n      container = document.createElement('div');\\n      container.classList.add(className);\\n    }\\n    this.container.insertBefore(container, refNode);\\n    return container;\\n  }\\n\\n  blur() {\\n    this.selection.setRange(null);\\n  }\\n\\n  deleteText(index, length, source) {\\n    var _overload = overload(index, length, source);\\n\\n    var _overload2 = _slicedToArray(_overload, 4);\\n\\n    index = _overload2[0];\\n    length = _overload2[1];\\n    source = _overload2[3];\\n\\n    return modify.call(this, () => {\\n      return this.editor.deleteText(index, length);\\n    }, source, index, -1 * length);\\n  }\\n\\n  disable() {\\n    this.enable(false);\\n  }\\n\\n  enable(enabled = true) {\\n    this.scroll.enable(enabled);\\n    this.container.classList.toggle('ql-disabled', !enabled);\\n  }\\n\\n  focus() {\\n    const scrollTop = this.scrollingContainer.scrollTop;\\n\\n    this.selection.focus();\\n    this.scrollingContainer.scrollTop = scrollTop;\\n    this.scrollIntoView();\\n  }\\n\\n  format(name, value, source = _emitter2.default.sources.API) {\\n    return modify.call(this, () => {\\n      const range = this.getSelection(true);\\n      let change = new _quillDelta2.default();\\n      if (range == null) {\\n        return change;\\n      } else if (this.scroll.query(name, Parchment.Scope.BLOCK)) {\\n        change = this.editor.formatLine(range.index, range.length, {\\n          [name]: value\\n        });\\n      } else if (range.length === 0) {\\n        this.selection.format(name, value);\\n        return change;\\n      } else {\\n        change = this.editor.formatText(range.index, range.length, {\\n          [name]: value\\n        });\\n      }\\n      this.setSelection(range, _emitter2.default.sources.SILENT);\\n      return change;\\n    }, source);\\n  }\\n\\n  formatLine(index, length, name, value, source) {\\n    let formats;\\n    // eslint-disable-next-line prefer-const\\n\\n    var _overload3 = overload(index, length, name, value, source);\\n\\n    var _overload4 = _slicedToArray(_overload3, 4);\\n\\n    index = _overload4[0];\\n    length = _overload4[1];\\n    formats = _overload4[2];\\n    source = _overload4[3];\\n\\n    return modify.call(this, () => {\\n      return this.editor.formatLine(index, length, formats);\\n    }, source, index, 0);\\n  }\\n\\n  formatText(index, length, name, value, source) {\\n    let formats;\\n    // eslint-disable-next-line prefer-const\\n\\n    var _overload5 = overload(index, length, name, value, source);\\n\\n    var _overload6 = _slicedToArray(_overload5, 4);\\n\\n    index = _overload6[0];\\n    length = _overload6[1];\\n    formats = _overload6[2];\\n    source = _overload6[3];\\n\\n    return modify.call(this, () => {\\n      return this.editor.formatText(index, length, formats);\\n    }, source, index, 0);\\n  }\\n\\n  getBounds(index, length = 0) {\\n    let bounds;\\n    if (typeof index === 'number') {\\n      bounds = this.selection.getBounds(index, length);\\n    } else {\\n      bounds = this.selection.getBounds(index.index, index.length);\\n    }\\n    const containerBounds = this.container.getBoundingClientRect();\\n    return {\\n      bottom: bounds.bottom - containerBounds.top,\\n      height: bounds.height,\\n      left: bounds.left - containerBounds.left,\\n      right: bounds.right - containerBounds.left,\\n      top: bounds.top - containerBounds.top,\\n      width: bounds.width\\n    };\\n  }\\n\\n  getContents(index = 0, length = this.getLength() - index) {\\n    var _overload7 = overload(index, length);\\n\\n    var _overload8 = _slicedToArray(_overload7, 2);\\n\\n    index = _overload8[0];\\n    length = _overload8[1];\\n\\n    return this.editor.getContents(index, length);\\n  }\\n\\n  getFormat(index = this.getSelection(true), length = 0) {\\n    if (typeof index === 'number') {\\n      return this.editor.getFormat(index, length);\\n    }\\n    return this.editor.getFormat(index.index, index.length);\\n  }\\n\\n  getIndex(blot) {\\n    return blot.offset(this.scroll);\\n  }\\n\\n  getLength() {\\n    return this.scroll.length();\\n  }\\n\\n  getLeaf(index) {\\n    return this.scroll.leaf(index);\\n  }\\n\\n  getLine(index) {\\n    return this.scroll.line(index);\\n  }\\n\\n  getLines(index = 0, length = Number.MAX_VALUE) {\\n    if (typeof index !== 'number') {\\n      return this.scroll.lines(index.index, index.length);\\n    }\\n    return this.scroll.lines(index, length);\\n  }\\n\\n  getModule(name) {\\n    return this.theme.modules[name];\\n  }\\n\\n  getSelection(focus = false) {\\n    if (focus) this.focus();\\n    this.update(); // Make sure we access getRange with editor in consistent state\\n    return this.selection.getRange()[0];\\n  }\\n\\n  getSemanticHTML(index = 0, length = this.getLength() - index) {\\n    var _overload9 = overload(index, length);\\n\\n    var _overload10 = _slicedToArray(_overload9, 2);\\n\\n    index = _overload10[0];\\n    length = _overload10[1];\\n\\n    return this.editor.getHTML(index, length);\\n  }\\n\\n  getText(index = 0, length = this.getLength() - index) {\\n    var _overload11 = overload(index, length);\\n\\n    var _overload12 = _slicedToArray(_overload11, 2);\\n\\n    index = _overload12[0];\\n    length = _overload12[1];\\n\\n    return this.editor.getText(index, length);\\n  }\\n\\n  hasFocus() {\\n    return this.selection.hasFocus();\\n  }\\n\\n  insertEmbed(index, embed, value, source = Quill.sources.API) {\\n    return modify.call(this, () => {\\n      return this.editor.insertEmbed(index, embed, value);\\n    }, source, index);\\n  }\\n\\n  insertText(index, text, name, value, source) {\\n    let formats;\\n    // eslint-disable-next-line prefer-const\\n\\n    var _overload13 = overload(index, 0, name, value, source);\\n\\n    var _overload14 = _slicedToArray(_overload13, 4);\\n\\n    index = _overload14[0];\\n    formats = _overload14[2];\\n    source = _overload14[3];\\n\\n    return modify.call(this, () => {\\n      return this.editor.insertText(index, text, formats);\\n    }, source, index, text.length);\\n  }\\n\\n  isEnabled() {\\n    return !this.container.classList.contains('ql-disabled');\\n  }\\n\\n  off(...args) {\\n    return this.emitter.off(...args);\\n  }\\n\\n  on(...args) {\\n    return this.emitter.on(...args);\\n  }\\n\\n  once(...args) {\\n    return this.emitter.once(...args);\\n  }\\n\\n  removeFormat(index, length, source) {\\n    var _overload15 = overload(index, length, source);\\n\\n    var _overload16 = _slicedToArray(_overload15, 4);\\n\\n    index = _overload16[0];\\n    length = _overload16[1];\\n    source = _overload16[3];\\n\\n    return modify.call(this, () => {\\n      return this.editor.removeFormat(index, length);\\n    }, source, index);\\n  }\\n\\n  scrollIntoView() {\\n    this.selection.scrollIntoView(this.scrollingContainer);\\n  }\\n\\n  setContents(delta, source = _emitter2.default.sources.API) {\\n    return modify.call(this, () => {\\n      delta = new _quillDelta2.default(delta);\\n      const length = this.getLength();\\n      const deleted = this.editor.deleteText(0, length);\\n      const applied = this.editor.applyDelta(delta);\\n      const lastOp = applied.ops[applied.ops.length - 1];\\n      if (lastOp != null && typeof lastOp.insert === 'string' && lastOp.insert[lastOp.insert.length - 1] === '\\\\n') {\\n        this.editor.deleteText(this.getLength() - 1, 1);\\n        applied.delete(1);\\n      }\\n      return deleted.compose(applied);\\n    }, source);\\n  }\\n\\n  setSelection(index, length, source) {\\n    if (index == null) {\\n      this.selection.setRange(null, length || Quill.sources.API);\\n    } else {\\n      var _overload17 = overload(index, length, source);\\n\\n      var _overload18 = _slicedToArray(_overload17, 4);\\n\\n      index = _overload18[0];\\n      length = _overload18[1];\\n      source = _overload18[3];\\n\\n      this.selection.setRange(new _selection.Range(Math.max(0, index), length), source);\\n      if (source !== _emitter2.default.sources.SILENT) {\\n        this.selection.scrollIntoView(this.scrollingContainer);\\n      }\\n    }\\n  }\\n\\n  setText(text, source = _emitter2.default.sources.API) {\\n    const delta = new _quillDelta2.default().insert(text);\\n    return this.setContents(delta, source);\\n  }\\n\\n  update(source = _emitter2.default.sources.USER) {\\n    const change = this.scroll.update(source); // Will update selection before selection.update() does if text changes\\n    this.selection.update(source);\\n    // TODO this is usually undefined\\n    return change;\\n  }\\n\\n  updateContents(delta, source = _emitter2.default.sources.API) {\\n    return modify.call(this, () => {\\n      delta = new _quillDelta2.default(delta);\\n      return this.editor.applyDelta(delta, source);\\n    }, source, true);\\n  }\\n}\\nQuill.DEFAULTS = {\\n  bounds: null,\\n  modules: {},\\n  placeholder: '',\\n  readOnly: false,\\n  registry: globalRegistry,\\n  scrollingContainer: null,\\n  theme: 'default'\\n};\\nQuill.events = _emitter2.default.events;\\nQuill.sources = _emitter2.default.sources;\\n// eslint-disable-next-line no-undef\\nQuill.version =  false ? undefined : \\\"2.0.0-dev.2\\\";\\n\\nQuill.imports = {\\n  delta: _quillDelta2.default,\\n  parchment: Parchment,\\n  'core/module': _module2.default,\\n  'core/theme': _theme2.default\\n};\\n\\nfunction expandConfig(container, userConfig) {\\n  userConfig = (0, _extend2.default)(true, {\\n    container,\\n    modules: {\\n      clipboard: true,\\n      keyboard: true,\\n      history: true,\\n      uploader: true\\n    }\\n  }, userConfig);\\n  if (!userConfig.theme || userConfig.theme === Quill.DEFAULTS.theme) {\\n    userConfig.theme = _theme2.default;\\n  } else {\\n    userConfig.theme = Quill.import(`themes/${userConfig.theme}`);\\n    if (userConfig.theme == null) {\\n      throw new Error(`Invalid theme ${userConfig.theme}. Did you register it?`);\\n    }\\n  }\\n  const themeConfig = (0, _extend2.default)(true, {}, userConfig.theme.DEFAULTS);\\n  [themeConfig, userConfig].forEach(config => {\\n    config.modules = config.modules || {};\\n    Object.keys(config.modules).forEach(module => {\\n      if (config.modules[module] === true) {\\n        config.modules[module] = {};\\n      }\\n    });\\n  });\\n  const moduleNames = Object.keys(themeConfig.modules).concat(Object.keys(userConfig.modules));\\n  const moduleConfig = moduleNames.reduce((config, name) => {\\n    const moduleClass = Quill.import(`modules/${name}`);\\n    if (moduleClass == null) {\\n      debug.error(`Cannot load ${name} module. Are you sure you registered it?`);\\n    } else {\\n      config[name] = moduleClass.DEFAULTS || {};\\n    }\\n    return config;\\n  }, {});\\n  // Special case toolbar shorthand\\n  if (userConfig.modules != null && userConfig.modules.toolbar && userConfig.modules.toolbar.constructor !== Object) {\\n    userConfig.modules.toolbar = {\\n      container: userConfig.modules.toolbar\\n    };\\n  }\\n  userConfig = (0, _extend2.default)(true, {}, Quill.DEFAULTS, { modules: moduleConfig }, themeConfig, userConfig);\\n  ['bounds', 'container', 'scrollingContainer'].forEach(key => {\\n    if (typeof userConfig[key] === 'string') {\\n      userConfig[key] = document.querySelector(userConfig[key]);\\n    }\\n  });\\n  userConfig.modules = Object.keys(userConfig.modules).reduce((config, name) => {\\n    if (userConfig.modules[name]) {\\n      config[name] = userConfig.modules[name];\\n    }\\n    return config;\\n  }, {});\\n  return userConfig;\\n}\\n\\n// Handle selection preservation and TEXT_CHANGE emission\\n// common to modification APIs\\nfunction modify(modifier, source, index, shift) {\\n  if (!this.isEnabled() && source === _emitter2.default.sources.USER) {\\n    return new _quillDelta2.default();\\n  }\\n  let range = index == null ? null : this.getSelection();\\n  const oldDelta = this.editor.delta;\\n  const change = modifier();\\n  if (range != null) {\\n    if (index === true) {\\n      index = range.index; // eslint-disable-line prefer-destructuring\\n    }\\n    if (shift == null) {\\n      range = shiftRange(range, change, source);\\n    } else if (shift !== 0) {\\n      range = shiftRange(range, index, shift, source);\\n    }\\n    this.setSelection(range, _emitter2.default.sources.SILENT);\\n  }\\n  if (change.length() > 0) {\\n    const args = [_emitter2.default.events.TEXT_CHANGE, change, oldDelta, source];\\n    this.emitter.emit(_emitter2.default.events.EDITOR_CHANGE, ...args);\\n    if (source !== _emitter2.default.sources.SILENT) {\\n      this.emitter.emit(...args);\\n    }\\n  }\\n  return change;\\n}\\n\\nfunction overload(index, length, name, value, source) {\\n  let formats = {};\\n  if (typeof index.index === 'number' && typeof index.length === 'number') {\\n    // Allow for throwaway end (used by insertText/insertEmbed)\\n    if (typeof length !== 'number') {\\n      source = value;\\n      value = name;\\n      name = length;\\n      length = index.length; // eslint-disable-line prefer-destructuring\\n      index = index.index; // eslint-disable-line prefer-destructuring\\n    } else {\\n      length = index.length; // eslint-disable-line prefer-destructuring\\n      index = index.index; // eslint-disable-line prefer-destructuring\\n    }\\n  } else if (typeof length !== 'number') {\\n    source = value;\\n    value = name;\\n    name = length;\\n    length = 0;\\n  }\\n  // Handle format being object, two format name/value strings or excluded\\n  if (typeof name === 'object') {\\n    formats = name;\\n    source = value;\\n  } else if (typeof name === 'string') {\\n    if (value != null) {\\n      formats[name] = value;\\n    } else {\\n      source = name;\\n    }\\n  }\\n  // Handle optional source\\n  source = source || _emitter2.default.sources.API;\\n  return [index, length, formats, source];\\n}\\n\\nfunction shiftRange(range, index, length, source) {\\n  if (range == null) return null;\\n  let start;\\n  let end;\\n  if (index instanceof _quillDelta2.default) {\\n    var _map = [range.index, range.index + range.length].map(pos => index.transformPosition(pos, source !== _emitter2.default.sources.USER));\\n\\n    var _map2 = _slicedToArray(_map, 2);\\n\\n    start = _map2[0];\\n    end = _map2[1];\\n  } else {\\n    var _map3 = [range.index, range.index + range.length].map(pos => {\\n      if (pos < index || pos === index && source === _emitter2.default.sources.USER) return pos;\\n      if (length >= 0) {\\n        return pos + length;\\n      }\\n      return Math.max(index, pos + length);\\n    });\\n\\n    var _map4 = _slicedToArray(_map3, 2);\\n\\n    start = _map4[0];\\n    end = _map4[1];\\n  }\\n  return new _selection.Range(start, end - start);\\n}\\n\\nexports.globalRegistry = globalRegistry;\\nexports.expandConfig = expandConfig;\\nexports.overload = overload;\\nexports.default = Quill;\\n\\n//# sourceURL=webpack://Quill/./core/quill.js?\");\n\n/***/ }),\n\n/***/ \"./core/selection.js\":\n/*!***************************!*\\\n  !*** ./core/selection.js ***!\n  \\***************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.default = exports.Range = undefined;\\n\\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\\\"return\\\"]) _i[\\\"return\\\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\\\"Invalid attempt to destructure non-iterable instance\\\"); } }; }();\\n\\nvar _parchment = __webpack_require__(/*! parchment */ \\\"./node_modules/parchment/src/parchment.ts\\\");\\n\\nvar _clone = __webpack_require__(/*! clone */ \\\"./node_modules/clone/clone.js\\\");\\n\\nvar _clone2 = _interopRequireDefault(_clone);\\n\\nvar _deepEqual = __webpack_require__(/*! deep-equal */ \\\"./node_modules/deep-equal/index.js\\\");\\n\\nvar _deepEqual2 = _interopRequireDefault(_deepEqual);\\n\\nvar _emitter = __webpack_require__(/*! ./emitter */ \\\"./core/emitter.js\\\");\\n\\nvar _emitter2 = _interopRequireDefault(_emitter);\\n\\nvar _logger = __webpack_require__(/*! ./logger */ \\\"./core/logger.js\\\");\\n\\nvar _logger2 = _interopRequireDefault(_logger);\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\\n\\nconst debug = (0, _logger2.default)('quill:selection');\\n\\nclass Range {\\n  constructor(index, length = 0) {\\n    this.index = index;\\n    this.length = length;\\n  }\\n}\\n\\nclass Selection {\\n  constructor(scroll, emitter) {\\n    this.emitter = emitter;\\n    this.scroll = scroll;\\n    this.composing = false;\\n    this.mouseDown = false;\\n    this.root = this.scroll.domNode;\\n    this.cursor = this.scroll.create('cursor', this);\\n    // savedRange is last non-null range\\n    this.savedRange = new Range(0, 0);\\n    this.lastRange = this.savedRange;\\n    this.handleComposition();\\n    this.handleDragging();\\n    this.emitter.listenDOM('selectionchange', document, () => {\\n      if (!this.mouseDown) {\\n        setTimeout(this.update.bind(this, _emitter2.default.sources.USER), 1);\\n      }\\n    });\\n    this.emitter.on(_emitter2.default.events.SCROLL_BEFORE_UPDATE, () => {\\n      if (!this.hasFocus()) return;\\n      const native = this.getNativeRange();\\n      if (native == null) return;\\n      if (native.start.node === this.cursor.textNode) return; // cursor.restore() will handle\\n      this.emitter.once(_emitter2.default.events.SCROLL_UPDATE, () => {\\n        try {\\n          this.setNativeRange(native.start.node, native.start.offset, native.end.node, native.end.offset);\\n          this.update(_emitter2.default.sources.SILENT);\\n        } catch (ignored) {\\n          // ignore\\n        }\\n      });\\n    });\\n    this.emitter.on(_emitter2.default.events.SCROLL_OPTIMIZE, (mutations, context) => {\\n      if (context.range) {\\n        var _context$range = context.range;\\n        const startNode = _context$range.startNode,\\n              startOffset = _context$range.startOffset,\\n              endNode = _context$range.endNode,\\n              endOffset = _context$range.endOffset;\\n\\n        this.setNativeRange(startNode, startOffset, endNode, endOffset);\\n        this.update(_emitter2.default.sources.SILENT);\\n      }\\n    });\\n    this.update(_emitter2.default.sources.SILENT);\\n  }\\n\\n  handleComposition() {\\n    this.root.addEventListener('compositionstart', () => {\\n      this.composing = true;\\n    });\\n    this.root.addEventListener('compositionend', () => {\\n      this.composing = false;\\n      if (this.cursor.parent) {\\n        const range = this.cursor.restore();\\n        if (!range) return;\\n        setTimeout(() => {\\n          this.setNativeRange(range.startNode, range.startOffset, range.endNode, range.endOffset);\\n        }, 1);\\n      }\\n    });\\n  }\\n\\n  handleDragging() {\\n    this.emitter.listenDOM('mousedown', document.body, () => {\\n      this.mouseDown = true;\\n    });\\n    this.emitter.listenDOM('mouseup', document.body, () => {\\n      this.mouseDown = false;\\n      this.update(_emitter2.default.sources.USER);\\n    });\\n  }\\n\\n  focus() {\\n    if (this.hasFocus()) return;\\n    this.root.focus();\\n    this.setRange(this.savedRange);\\n  }\\n\\n  format(format, value) {\\n    this.scroll.update();\\n    const nativeRange = this.getNativeRange();\\n    if (nativeRange == null || !nativeRange.native.collapsed || this.scroll.query(format, _parchment.Scope.BLOCK)) return;\\n    if (nativeRange.start.node !== this.cursor.textNode) {\\n      const blot = this.scroll.find(nativeRange.start.node, false);\\n      if (blot == null) return;\\n      // TODO Give blot ability to not split\\n      if (blot instanceof _parchment.LeafBlot) {\\n        const after = blot.split(nativeRange.start.offset);\\n        blot.parent.insertBefore(this.cursor, after);\\n      } else {\\n        blot.insertBefore(this.cursor, nativeRange.start.node); // Should never happen\\n      }\\n      this.cursor.attach();\\n    }\\n    this.cursor.format(format, value);\\n    this.scroll.optimize();\\n    this.setNativeRange(this.cursor.textNode, this.cursor.textNode.data.length);\\n    this.update();\\n  }\\n\\n  getBounds(index, length = 0) {\\n    const scrollLength = this.scroll.length();\\n    index = Math.min(index, scrollLength - 1);\\n    length = Math.min(index + length, scrollLength - 1) - index;\\n    let node;\\n\\n    var _scroll$leaf = this.scroll.leaf(index),\\n        _scroll$leaf2 = _slicedToArray(_scroll$leaf, 2);\\n\\n    let leaf = _scroll$leaf2[0],\\n        offset = _scroll$leaf2[1];\\n\\n    if (leaf == null) return null;\\n\\n    var _leaf$position = leaf.position(offset, true);\\n\\n    var _leaf$position2 = _slicedToArray(_leaf$position, 2);\\n\\n    node = _leaf$position2[0];\\n    offset = _leaf$position2[1];\\n\\n    const range = document.createRange();\\n    if (length > 0) {\\n      range.setStart(node, offset);\\n\\n      var _scroll$leaf3 = this.scroll.leaf(index + length);\\n\\n      var _scroll$leaf4 = _slicedToArray(_scroll$leaf3, 2);\\n\\n      leaf = _scroll$leaf4[0];\\n      offset = _scroll$leaf4[1];\\n\\n      if (leaf == null) return null;\\n\\n      var _leaf$position3 = leaf.position(offset, true);\\n\\n      var _leaf$position4 = _slicedToArray(_leaf$position3, 2);\\n\\n      node = _leaf$position4[0];\\n      offset = _leaf$position4[1];\\n\\n      range.setEnd(node, offset);\\n      return range.getBoundingClientRect();\\n    }\\n    let side = 'left';\\n    let rect;\\n    if (node instanceof Text) {\\n      if (offset < node.data.length) {\\n        range.setStart(node, offset);\\n        range.setEnd(node, offset + 1);\\n      } else {\\n        range.setStart(node, offset - 1);\\n        range.setEnd(node, offset);\\n        side = 'right';\\n      }\\n      rect = range.getBoundingClientRect();\\n    } else {\\n      rect = leaf.domNode.getBoundingClientRect();\\n      if (offset > 0) side = 'right';\\n    }\\n    return {\\n      bottom: rect.top + rect.height,\\n      height: rect.height,\\n      left: rect[side],\\n      right: rect[side],\\n      top: rect.top,\\n      width: 0\\n    };\\n  }\\n\\n  getNativeRange() {\\n    const selection = document.getSelection();\\n    if (selection == null || selection.rangeCount <= 0) return null;\\n    const nativeRange = selection.getRangeAt(0);\\n    if (nativeRange == null) return null;\\n    const range = this.normalizeNative(nativeRange);\\n    debug.info('getNativeRange', range);\\n    return range;\\n  }\\n\\n  getRange() {\\n    const normalized = this.getNativeRange();\\n    if (normalized == null) return [null, null];\\n    const range = this.normalizedToRange(normalized);\\n    return [range, normalized];\\n  }\\n\\n  hasFocus() {\\n    return document.activeElement === this.root || contains(this.root, document.activeElement);\\n  }\\n\\n  normalizedToRange(range) {\\n    const positions = [[range.start.node, range.start.offset]];\\n    if (!range.native.collapsed) {\\n      positions.push([range.end.node, range.end.offset]);\\n    }\\n    const indexes = positions.map(position => {\\n      var _position = _slicedToArray(position, 2);\\n\\n      const node = _position[0],\\n            offset = _position[1];\\n\\n      const blot = this.scroll.find(node, true);\\n      const index = blot.offset(this.scroll);\\n      if (offset === 0) {\\n        return index;\\n      } else if (blot instanceof _parchment.ContainerBlot) {\\n        return index + blot.length();\\n      }\\n      return index + blot.index(node, offset);\\n    });\\n    const end = Math.min(Math.max(...indexes), this.scroll.length() - 1);\\n    const start = Math.min(end, ...indexes);\\n    return new Range(start, end - start);\\n  }\\n\\n  normalizeNative(nativeRange) {\\n    if (!contains(this.root, nativeRange.startContainer) || !nativeRange.collapsed && !contains(this.root, nativeRange.endContainer)) {\\n      return null;\\n    }\\n    const range = {\\n      start: {\\n        node: nativeRange.startContainer,\\n        offset: nativeRange.startOffset\\n      },\\n      end: { node: nativeRange.endContainer, offset: nativeRange.endOffset },\\n      native: nativeRange\\n    };\\n    [range.start, range.end].forEach(position => {\\n      let node = position.node,\\n          offset = position.offset;\\n\\n      while (!(node instanceof Text) && node.childNodes.length > 0) {\\n        if (node.childNodes.length > offset) {\\n          node = node.childNodes[offset];\\n          offset = 0;\\n        } else if (node.childNodes.length === offset) {\\n          node = node.lastChild;\\n          if (node instanceof Text) {\\n            offset = node.data.length;\\n          } else if (node.childNodes.length > 0) {\\n            // Container case\\n            offset = node.childNodes.length;\\n          } else {\\n            // Embed case\\n            offset = node.childNodes.length + 1;\\n          }\\n        } else {\\n          break;\\n        }\\n      }\\n      position.node = node;\\n      position.offset = offset;\\n    });\\n    return range;\\n  }\\n\\n  rangeToNative(range) {\\n    const indexes = range.collapsed ? [range.index] : [range.index, range.index + range.length];\\n    const args = [];\\n    const scrollLength = this.scroll.length();\\n    indexes.forEach((index, i) => {\\n      index = Math.min(scrollLength - 1, index);\\n\\n      var _scroll$leaf5 = this.scroll.leaf(index),\\n          _scroll$leaf6 = _slicedToArray(_scroll$leaf5, 2);\\n\\n      const leaf = _scroll$leaf6[0],\\n            leafOffset = _scroll$leaf6[1];\\n\\n      var _leaf$position5 = leaf.position(leafOffset, i !== 0),\\n          _leaf$position6 = _slicedToArray(_leaf$position5, 2);\\n\\n      const node = _leaf$position6[0],\\n            offset = _leaf$position6[1];\\n\\n      args.push(node, offset);\\n    });\\n    if (args.length < 2) {\\n      return args.concat(args);\\n    }\\n    return args;\\n  }\\n\\n  scrollIntoView(scrollingContainer) {\\n    const range = this.lastRange;\\n    if (range == null) return;\\n    const bounds = this.getBounds(range.index, range.length);\\n    if (bounds == null) return;\\n    const limit = this.scroll.length() - 1;\\n\\n    var _scroll$line = this.scroll.line(Math.min(range.index, limit)),\\n        _scroll$line2 = _slicedToArray(_scroll$line, 1);\\n\\n    const first = _scroll$line2[0];\\n\\n    let last = first;\\n    if (range.length > 0) {\\n      var _scroll$line3 = this.scroll.line(Math.min(range.index + range.length, limit));\\n\\n      var _scroll$line4 = _slicedToArray(_scroll$line3, 1);\\n\\n      last = _scroll$line4[0];\\n    }\\n    if (first == null || last == null) return;\\n    const scrollBounds = scrollingContainer.getBoundingClientRect();\\n    if (bounds.top < scrollBounds.top) {\\n      scrollingContainer.scrollTop -= scrollBounds.top - bounds.top;\\n    } else if (bounds.bottom > scrollBounds.bottom) {\\n      scrollingContainer.scrollTop += bounds.bottom - scrollBounds.bottom;\\n    }\\n  }\\n\\n  setNativeRange(startNode, startOffset, endNode = startNode, endOffset = startOffset, force = false) {\\n    debug.info('setNativeRange', startNode, startOffset, endNode, endOffset);\\n    if (startNode != null && (this.root.parentNode == null || startNode.parentNode == null || endNode.parentNode == null)) {\\n      return;\\n    }\\n    const selection = document.getSelection();\\n    if (selection == null) return;\\n    if (startNode != null) {\\n      if (!this.hasFocus()) this.root.focus();\\n\\n      var _ref = this.getNativeRange() || {};\\n\\n      const native = _ref.native;\\n\\n      if (native == null || force || startNode !== native.startContainer || startOffset !== native.startOffset || endNode !== native.endContainer || endOffset !== native.endOffset) {\\n        if (startNode.tagName === 'BR') {\\n          startOffset = Array.from(startNode.parentNode.childNodes).indexOf(startNode);\\n          startNode = startNode.parentNode;\\n        }\\n        if (endNode.tagName === 'BR') {\\n          endOffset = Array.from(endNode.parentNode.childNodes).indexOf(endNode);\\n          endNode = endNode.parentNode;\\n        }\\n        const range = document.createRange();\\n        range.setStart(startNode, startOffset);\\n        range.setEnd(endNode, endOffset);\\n        selection.removeAllRanges();\\n        selection.addRange(range);\\n      }\\n    } else {\\n      selection.removeAllRanges();\\n      this.root.blur();\\n    }\\n  }\\n\\n  setRange(range, force = false, source = _emitter2.default.sources.API) {\\n    if (typeof force === 'string') {\\n      source = force;\\n      force = false;\\n    }\\n    debug.info('setRange', range);\\n    if (range != null) {\\n      const args = this.rangeToNative(range);\\n      this.setNativeRange(...args, force);\\n    } else {\\n      this.setNativeRange(null);\\n    }\\n    this.update(source);\\n  }\\n\\n  update(source = _emitter2.default.sources.USER) {\\n    const oldRange = this.lastRange;\\n\\n    var _getRange = this.getRange(),\\n        _getRange2 = _slicedToArray(_getRange, 2);\\n\\n    const lastRange = _getRange2[0],\\n          nativeRange = _getRange2[1];\\n\\n    this.lastRange = lastRange;\\n    if (this.lastRange != null) {\\n      this.savedRange = this.lastRange;\\n    }\\n    if (!(0, _deepEqual2.default)(oldRange, this.lastRange)) {\\n      if (!this.composing && nativeRange != null && nativeRange.native.collapsed && nativeRange.start.node !== this.cursor.textNode) {\\n        this.cursor.restore();\\n      }\\n      const args = [_emitter2.default.events.SELECTION_CHANGE, (0, _clone2.default)(this.lastRange), (0, _clone2.default)(oldRange), source];\\n      this.emitter.emit(_emitter2.default.events.EDITOR_CHANGE, ...args);\\n      if (source !== _emitter2.default.sources.SILENT) {\\n        this.emitter.emit(...args);\\n      }\\n    }\\n  }\\n}\\n\\nfunction contains(parent, descendant) {\\n  try {\\n    // Firefox inserts inaccessible nodes around video elements\\n    descendant.parentNode; // eslint-disable-line no-unused-expressions\\n  } catch (e) {\\n    return false;\\n  }\\n  return parent.contains(descendant);\\n}\\n\\nexports.Range = Range;\\nexports.default = Selection;\\n\\n//# sourceURL=webpack://Quill/./core/selection.js?\");\n\n/***/ }),\n\n/***/ \"./core/theme.js\":\n/*!***********************!*\\\n  !*** ./core/theme.js ***!\n  \\***********************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nclass Theme {\\n  constructor(quill, options) {\\n    this.quill = quill;\\n    this.options = options;\\n    this.modules = {};\\n  }\\n\\n  init() {\\n    Object.keys(this.options.modules).forEach(name => {\\n      if (this.modules[name] == null) {\\n        this.addModule(name);\\n      }\\n    });\\n  }\\n\\n  addModule(name) {\\n    const ModuleClass = this.quill.constructor.import(`modules/${name}`);\\n    this.modules[name] = new ModuleClass(this.quill, this.options.modules[name] || {});\\n    return this.modules[name];\\n  }\\n}\\nTheme.DEFAULTS = {\\n  modules: {}\\n};\\nTheme.themes = {\\n  default: Theme\\n};\\n\\nexports.default = Theme;\\n\\n//# sourceURL=webpack://Quill/./core/theme.js?\");\n\n/***/ }),\n\n/***/ \"./formats/align.js\":\n/*!**************************!*\\\n  !*** ./formats/align.js ***!\n  \\**************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.AlignStyle = exports.AlignClass = exports.AlignAttribute = undefined;\\n\\nvar _parchment = __webpack_require__(/*! parchment */ \\\"./node_modules/parchment/src/parchment.ts\\\");\\n\\nconst config = {\\n  scope: _parchment.Scope.BLOCK,\\n  whitelist: ['right', 'center', 'justify']\\n};\\n\\nconst AlignAttribute = new _parchment.Attributor('align', 'align', config);\\nconst AlignClass = new _parchment.ClassAttributor('align', 'ql-align', config);\\nconst AlignStyle = new _parchment.StyleAttributor('align', 'text-align', config);\\n\\nexports.AlignAttribute = AlignAttribute;\\nexports.AlignClass = AlignClass;\\nexports.AlignStyle = AlignStyle;\\n\\n//# sourceURL=webpack://Quill/./formats/align.js?\");\n\n/***/ }),\n\n/***/ \"./formats/background.js\":\n/*!*******************************!*\\\n  !*** ./formats/background.js ***!\n  \\*******************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.BackgroundStyle = exports.BackgroundClass = undefined;\\n\\nvar _parchment = __webpack_require__(/*! parchment */ \\\"./node_modules/parchment/src/parchment.ts\\\");\\n\\nvar _color = __webpack_require__(/*! ./color */ \\\"./formats/color.js\\\");\\n\\nconst BackgroundClass = new _parchment.ClassAttributor('background', 'ql-bg', {\\n  scope: _parchment.Scope.INLINE\\n});\\nconst BackgroundStyle = new _color.ColorAttributor('background', 'background-color', {\\n  scope: _parchment.Scope.INLINE\\n});\\n\\nexports.BackgroundClass = BackgroundClass;\\nexports.BackgroundStyle = BackgroundStyle;\\n\\n//# sourceURL=webpack://Quill/./formats/background.js?\");\n\n/***/ }),\n\n/***/ \"./formats/blockquote.js\":\n/*!*******************************!*\\\n  !*** ./formats/blockquote.js ***!\n  \\*******************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\n\\nvar _block = __webpack_require__(/*! ../blots/block */ \\\"./blots/block.js\\\");\\n\\nvar _block2 = _interopRequireDefault(_block);\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\\n\\nclass Blockquote extends _block2.default {}\\nBlockquote.blotName = 'blockquote';\\nBlockquote.tagName = 'blockquote';\\n\\nexports.default = Blockquote;\\n\\n//# sourceURL=webpack://Quill/./formats/blockquote.js?\");\n\n/***/ }),\n\n/***/ \"./formats/bold.js\":\n/*!*************************!*\\\n  !*** ./formats/bold.js ***!\n  \\*************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\n\\nvar _inline = __webpack_require__(/*! ../blots/inline */ \\\"./blots/inline.js\\\");\\n\\nvar _inline2 = _interopRequireDefault(_inline);\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\\n\\nclass Bold extends _inline2.default {\\n  static create() {\\n    return super.create();\\n  }\\n\\n  static formats() {\\n    return true;\\n  }\\n\\n  optimize(context) {\\n    super.optimize(context);\\n    if (this.domNode.tagName !== this.statics.tagName[0]) {\\n      this.replaceWith(this.statics.blotName);\\n    }\\n  }\\n}\\nBold.blotName = 'bold';\\nBold.tagName = ['STRONG', 'B'];\\n\\nexports.default = Bold;\\n\\n//# sourceURL=webpack://Quill/./formats/bold.js?\");\n\n/***/ }),\n\n/***/ \"./formats/code.js\":\n/*!*************************!*\\\n  !*** ./formats/code.js ***!\n  \\*************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.default = exports.CodeBlockContainer = exports.Code = undefined;\\n\\nvar _block = __webpack_require__(/*! ../blots/block */ \\\"./blots/block.js\\\");\\n\\nvar _block2 = _interopRequireDefault(_block);\\n\\nvar _break = __webpack_require__(/*! ../blots/break */ \\\"./blots/break.js\\\");\\n\\nvar _break2 = _interopRequireDefault(_break);\\n\\nvar _cursor = __webpack_require__(/*! ../blots/cursor */ \\\"./blots/cursor.js\\\");\\n\\nvar _cursor2 = _interopRequireDefault(_cursor);\\n\\nvar _inline = __webpack_require__(/*! ../blots/inline */ \\\"./blots/inline.js\\\");\\n\\nvar _inline2 = _interopRequireDefault(_inline);\\n\\nvar _text = __webpack_require__(/*! ../blots/text */ \\\"./blots/text.js\\\");\\n\\nvar _text2 = _interopRequireDefault(_text);\\n\\nvar _container = __webpack_require__(/*! ../blots/container */ \\\"./blots/container.js\\\");\\n\\nvar _container2 = _interopRequireDefault(_container);\\n\\nvar _quill = __webpack_require__(/*! ../core/quill */ \\\"./core/quill.js\\\");\\n\\nvar _quill2 = _interopRequireDefault(_quill);\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\\n\\nclass CodeBlockContainer extends _container2.default {\\n  static create(value) {\\n    const domNode = super.create(value);\\n    domNode.setAttribute('spellcheck', false);\\n    return domNode;\\n  }\\n\\n  html(index, length) {\\n    const html = this.domNode.innerText.slice(index, index + length);\\n    return `<pre>${html}</pre>`;\\n  }\\n}\\n\\nclass CodeBlock extends _block2.default {\\n  static register() {\\n    _quill2.default.register(CodeBlockContainer);\\n  }\\n}\\n\\nclass Code extends _inline2.default {}\\nCode.blotName = 'code';\\nCode.tagName = 'CODE';\\n\\nCodeBlock.blotName = 'code-block';\\nCodeBlock.className = 'ql-code-block';\\nCodeBlock.tagName = 'DIV';\\nCodeBlockContainer.blotName = 'code-block-container';\\nCodeBlockContainer.className = 'ql-code-block-container';\\nCodeBlockContainer.tagName = 'DIV';\\n\\nCodeBlockContainer.allowedChildren = [CodeBlock];\\n\\nCodeBlock.allowedChildren = [_text2.default, _break2.default, _cursor2.default];\\nCodeBlock.requiredContainer = CodeBlockContainer;\\nCodeBlock.TAB = '  ';\\n\\nexports.Code = Code;\\nexports.CodeBlockContainer = CodeBlockContainer;\\nexports.default = CodeBlock;\\n\\n//# sourceURL=webpack://Quill/./formats/code.js?\");\n\n/***/ }),\n\n/***/ \"./formats/color.js\":\n/*!**************************!*\\\n  !*** ./formats/color.js ***!\n  \\**************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.ColorStyle = exports.ColorClass = exports.ColorAttributor = undefined;\\n\\nvar _parchment = __webpack_require__(/*! parchment */ \\\"./node_modules/parchment/src/parchment.ts\\\");\\n\\nclass ColorAttributor extends _parchment.StyleAttributor {\\n  value(domNode) {\\n    let value = super.value(domNode);\\n    if (!value.startsWith('rgb(')) return value;\\n    value = value.replace(/^[^\\\\d]+/, '').replace(/[^\\\\d]+$/, '');\\n    const hex = value.split(',').map(component => `00${parseInt(component, 10).toString(16)}`.slice(-2)).join('');\\n    return `#${hex}`;\\n  }\\n}\\n\\nconst ColorClass = new _parchment.ClassAttributor('color', 'ql-color', {\\n  scope: _parchment.Scope.INLINE\\n});\\nconst ColorStyle = new ColorAttributor('color', 'color', {\\n  scope: _parchment.Scope.INLINE\\n});\\n\\nexports.ColorAttributor = ColorAttributor;\\nexports.ColorClass = ColorClass;\\nexports.ColorStyle = ColorStyle;\\n\\n//# sourceURL=webpack://Quill/./formats/color.js?\");\n\n/***/ }),\n\n/***/ \"./formats/direction.js\":\n/*!******************************!*\\\n  !*** ./formats/direction.js ***!\n  \\******************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.DirectionStyle = exports.DirectionClass = exports.DirectionAttribute = undefined;\\n\\nvar _parchment = __webpack_require__(/*! parchment */ \\\"./node_modules/parchment/src/parchment.ts\\\");\\n\\nconst config = {\\n  scope: _parchment.Scope.BLOCK,\\n  whitelist: ['rtl']\\n};\\n\\nconst DirectionAttribute = new _parchment.Attributor('direction', 'dir', config);\\nconst DirectionClass = new _parchment.ClassAttributor('direction', 'ql-direction', config);\\nconst DirectionStyle = new _parchment.StyleAttributor('direction', 'direction', config);\\n\\nexports.DirectionAttribute = DirectionAttribute;\\nexports.DirectionClass = DirectionClass;\\nexports.DirectionStyle = DirectionStyle;\\n\\n//# sourceURL=webpack://Quill/./formats/direction.js?\");\n\n/***/ }),\n\n/***/ \"./formats/font.js\":\n/*!*************************!*\\\n  !*** ./formats/font.js ***!\n  \\*************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.FontClass = exports.FontStyle = undefined;\\n\\nvar _parchment = __webpack_require__(/*! parchment */ \\\"./node_modules/parchment/src/parchment.ts\\\");\\n\\nconst config = {\\n  scope: _parchment.Scope.INLINE,\\n  whitelist: ['serif', 'monospace']\\n};\\n\\nconst FontClass = new _parchment.ClassAttributor('font', 'ql-font', config);\\n\\nclass FontStyleAttributor extends _parchment.StyleAttributor {\\n  value(node) {\\n    return super.value(node).replace(/[\\\"']/g, '');\\n  }\\n}\\n\\nconst FontStyle = new FontStyleAttributor('font', 'font-family', config);\\n\\nexports.FontStyle = FontStyle;\\nexports.FontClass = FontClass;\\n\\n//# sourceURL=webpack://Quill/./formats/font.js?\");\n\n/***/ }),\n\n/***/ \"./formats/formula.js\":\n/*!****************************!*\\\n  !*** ./formats/formula.js ***!\n  \\****************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\n\\nvar _embed = __webpack_require__(/*! ../blots/embed */ \\\"./blots/embed.js\\\");\\n\\nvar _embed2 = _interopRequireDefault(_embed);\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\\n\\nclass Formula extends _embed2.default {\\n  static create(value) {\\n    if (window.katex == null) {\\n      throw new Error('Formula module requires KaTeX.');\\n    }\\n    const node = super.create(value);\\n    if (typeof value === 'string') {\\n      window.katex.render(value, node, {\\n        throwOnError: false,\\n        errorColor: '#f00'\\n      });\\n      node.setAttribute('data-value', value);\\n    }\\n    return node;\\n  }\\n\\n  static value(domNode) {\\n    return domNode.getAttribute('data-value');\\n  }\\n\\n  html() {\\n    var _value = this.value();\\n\\n    const formula = _value.formula;\\n\\n    return `<span>${formula}</span>`;\\n  }\\n}\\nFormula.blotName = 'formula';\\nFormula.className = 'ql-formula';\\nFormula.tagName = 'SPAN';\\n\\nexports.default = Formula;\\n\\n//# sourceURL=webpack://Quill/./formats/formula.js?\");\n\n/***/ }),\n\n/***/ \"./formats/header.js\":\n/*!***************************!*\\\n  !*** ./formats/header.js ***!\n  \\***************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\n\\nvar _block = __webpack_require__(/*! ../blots/block */ \\\"./blots/block.js\\\");\\n\\nvar _block2 = _interopRequireDefault(_block);\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\\n\\nclass Header extends _block2.default {\\n  static formats(domNode) {\\n    return this.tagName.indexOf(domNode.tagName) + 1;\\n  }\\n}\\nHeader.blotName = 'header';\\nHeader.tagName = ['H1', 'H2', 'H3', 'H4', 'H5', 'H6'];\\n\\nexports.default = Header;\\n\\n//# sourceURL=webpack://Quill/./formats/header.js?\");\n\n/***/ }),\n\n/***/ \"./formats/image.js\":\n/*!**************************!*\\\n  !*** ./formats/image.js ***!\n  \\**************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\n\\nvar _parchment = __webpack_require__(/*! parchment */ \\\"./node_modules/parchment/src/parchment.ts\\\");\\n\\nvar _link = __webpack_require__(/*! ../formats/link */ \\\"./formats/link.js\\\");\\n\\nconst ATTRIBUTES = ['alt', 'height', 'width'];\\n\\nclass Image extends _parchment.EmbedBlot {\\n  static create(value) {\\n    const node = super.create(value);\\n    if (typeof value === 'string') {\\n      node.setAttribute('src', this.sanitize(value));\\n    }\\n    return node;\\n  }\\n\\n  static formats(domNode) {\\n    return ATTRIBUTES.reduce((formats, attribute) => {\\n      if (domNode.hasAttribute(attribute)) {\\n        formats[attribute] = domNode.getAttribute(attribute);\\n      }\\n      return formats;\\n    }, {});\\n  }\\n\\n  static match(url) {\\n    return (/\\\\.(jpe?g|gif|png)$/.test(url) || /^data:image\\\\/.+;base64/.test(url)\\n    );\\n  }\\n\\n  static register() {\\n    if (/Firefox/i.test(navigator.userAgent)) {\\n      setTimeout(() => {\\n        // Disable image resizing in Firefox\\n        document.execCommand('enableObjectResizing', false, false);\\n      }, 1);\\n    }\\n  }\\n\\n  static sanitize(url) {\\n    return (0, _link.sanitize)(url, ['http', 'https', 'data']) ? url : '//:0';\\n  }\\n\\n  static value(domNode) {\\n    return domNode.getAttribute('src');\\n  }\\n\\n  format(name, value) {\\n    if (ATTRIBUTES.indexOf(name) > -1) {\\n      if (value) {\\n        this.domNode.setAttribute(name, value);\\n      } else {\\n        this.domNode.removeAttribute(name);\\n      }\\n    } else {\\n      super.format(name, value);\\n    }\\n  }\\n}\\nImage.blotName = 'image';\\nImage.tagName = 'IMG';\\n\\nexports.default = Image;\\n\\n//# sourceURL=webpack://Quill/./formats/image.js?\");\n\n/***/ }),\n\n/***/ \"./formats/indent.js\":\n/*!***************************!*\\\n  !*** ./formats/indent.js ***!\n  \\***************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\n\\nvar _parchment = __webpack_require__(/*! parchment */ \\\"./node_modules/parchment/src/parchment.ts\\\");\\n\\nclass IndentAttributor extends _parchment.ClassAttributor {\\n  add(node, value) {\\n    if (value === '+1' || value === '-1') {\\n      const indent = this.value(node) || 0;\\n      value = value === '+1' ? indent + 1 : indent - 1;\\n    }\\n    if (value === 0) {\\n      this.remove(node);\\n      return true;\\n    }\\n    return super.add(node, value);\\n  }\\n\\n  canAdd(node, value) {\\n    return super.canAdd(node, value) || super.canAdd(node, parseInt(value, 10));\\n  }\\n\\n  value(node) {\\n    return parseInt(super.value(node), 10) || undefined; // Don't return NaN\\n  }\\n}\\n\\nconst IndentClass = new IndentAttributor('indent', 'ql-indent', {\\n  scope: _parchment.Scope.BLOCK,\\n  whitelist: [1, 2, 3, 4, 5, 6, 7, 8]\\n});\\n\\nexports.default = IndentClass;\\n\\n//# sourceURL=webpack://Quill/./formats/indent.js?\");\n\n/***/ }),\n\n/***/ \"./formats/italic.js\":\n/*!***************************!*\\\n  !*** ./formats/italic.js ***!\n  \\***************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\n\\nvar _bold = __webpack_require__(/*! ./bold */ \\\"./formats/bold.js\\\");\\n\\nvar _bold2 = _interopRequireDefault(_bold);\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\\n\\nclass Italic extends _bold2.default {}\\nItalic.blotName = 'italic';\\nItalic.tagName = ['EM', 'I'];\\n\\nexports.default = Italic;\\n\\n//# sourceURL=webpack://Quill/./formats/italic.js?\");\n\n/***/ }),\n\n/***/ \"./formats/link.js\":\n/*!*************************!*\\\n  !*** ./formats/link.js ***!\n  \\*************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.sanitize = exports.default = undefined;\\n\\nvar _inline = __webpack_require__(/*! ../blots/inline */ \\\"./blots/inline.js\\\");\\n\\nvar _inline2 = _interopRequireDefault(_inline);\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\\n\\nclass Link extends _inline2.default {\\n  static create(value) {\\n    const node = super.create(value);\\n    node.setAttribute('href', this.sanitize(value));\\n    node.setAttribute('target', '_blank');\\n    return node;\\n  }\\n\\n  static formats(domNode) {\\n    return domNode.getAttribute('href');\\n  }\\n\\n  static sanitize(url) {\\n    return sanitize(url, this.PROTOCOL_WHITELIST) ? url : this.SANITIZED_URL;\\n  }\\n\\n  format(name, value) {\\n    if (name !== this.statics.blotName || !value) {\\n      super.format(name, value);\\n    } else {\\n      this.domNode.setAttribute('href', this.constructor.sanitize(value));\\n    }\\n  }\\n}\\nLink.blotName = 'link';\\nLink.tagName = 'A';\\nLink.SANITIZED_URL = 'about:blank';\\nLink.PROTOCOL_WHITELIST = ['http', 'https', 'mailto', 'tel'];\\n\\nfunction sanitize(url, protocols) {\\n  const anchor = document.createElement('a');\\n  anchor.href = url;\\n  const protocol = anchor.href.slice(0, anchor.href.indexOf(':'));\\n  return protocols.indexOf(protocol) > -1;\\n}\\n\\nexports.default = Link;\\nexports.sanitize = sanitize;\\n\\n//# sourceURL=webpack://Quill/./formats/link.js?\");\n\n/***/ }),\n\n/***/ \"./formats/list.js\":\n/*!*************************!*\\\n  !*** ./formats/list.js ***!\n  \\*************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.default = exports.ListContainer = undefined;\\n\\nvar _block = __webpack_require__(/*! ../blots/block */ \\\"./blots/block.js\\\");\\n\\nvar _block2 = _interopRequireDefault(_block);\\n\\nvar _container = __webpack_require__(/*! ../blots/container */ \\\"./blots/container.js\\\");\\n\\nvar _container2 = _interopRequireDefault(_container);\\n\\nvar _quill = __webpack_require__(/*! ../core/quill */ \\\"./core/quill.js\\\");\\n\\nvar _quill2 = _interopRequireDefault(_quill);\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\\n\\nclass ListContainer extends _container2.default {}\\nListContainer.blotName = 'list-container';\\nListContainer.tagName = 'OL';\\n\\nclass ListItem extends _block2.default {\\n  static create(value) {\\n    const node = super.create();\\n    node.setAttribute('data-list', value);\\n    return node;\\n  }\\n\\n  static formats(domNode) {\\n    return domNode.getAttribute('data-list') || undefined;\\n  }\\n\\n  static register() {\\n    _quill2.default.register(ListContainer);\\n  }\\n\\n  constructor(scroll, domNode) {\\n    super(scroll, domNode);\\n    const listEventHandler = e => {\\n      if (e.target !== domNode) return;\\n      const format = this.statics.formats(domNode, scroll);\\n      if (format === 'checked') {\\n        this.format('list', 'unchecked');\\n      } else if (format === 'unchecked') {\\n        this.format('list', 'checked');\\n      }\\n    };\\n    domNode.addEventListener('touchstart', listEventHandler);\\n    domNode.addEventListener('mousedown', listEventHandler);\\n  }\\n\\n  format(name, value) {\\n    if (name === this.statics.blotName && value) {\\n      this.domNode.setAttribute('data-list', value);\\n    } else {\\n      super.format(name, value);\\n    }\\n  }\\n}\\nListItem.blotName = 'list';\\nListItem.tagName = 'LI';\\n\\nListContainer.allowedChildren = [ListItem];\\nListItem.requiredContainer = ListContainer;\\n\\nexports.ListContainer = ListContainer;\\nexports.default = ListItem;\\n\\n//# sourceURL=webpack://Quill/./formats/list.js?\");\n\n/***/ }),\n\n/***/ \"./formats/script.js\":\n/*!***************************!*\\\n  !*** ./formats/script.js ***!\n  \\***************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\n\\nvar _inline = __webpack_require__(/*! ../blots/inline */ \\\"./blots/inline.js\\\");\\n\\nvar _inline2 = _interopRequireDefault(_inline);\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\\n\\nclass Script extends _inline2.default {\\n  static create(value) {\\n    if (value === 'super') {\\n      return document.createElement('sup');\\n    } else if (value === 'sub') {\\n      return document.createElement('sub');\\n    }\\n    return super.create(value);\\n  }\\n\\n  static formats(domNode) {\\n    if (domNode.tagName === 'SUB') return 'sub';\\n    if (domNode.tagName === 'SUP') return 'super';\\n    return undefined;\\n  }\\n}\\nScript.blotName = 'script';\\nScript.tagName = ['SUB', 'SUP'];\\n\\nexports.default = Script;\\n\\n//# sourceURL=webpack://Quill/./formats/script.js?\");\n\n/***/ }),\n\n/***/ \"./formats/size.js\":\n/*!*************************!*\\\n  !*** ./formats/size.js ***!\n  \\*************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.SizeStyle = exports.SizeClass = undefined;\\n\\nvar _parchment = __webpack_require__(/*! parchment */ \\\"./node_modules/parchment/src/parchment.ts\\\");\\n\\nconst SizeClass = new _parchment.ClassAttributor('size', 'ql-size', {\\n  scope: _parchment.Scope.INLINE,\\n  whitelist: ['small', 'large', 'huge']\\n});\\nconst SizeStyle = new _parchment.StyleAttributor('size', 'font-size', {\\n  scope: _parchment.Scope.INLINE,\\n  whitelist: ['10px', '18px', '32px']\\n});\\n\\nexports.SizeClass = SizeClass;\\nexports.SizeStyle = SizeStyle;\\n\\n//# sourceURL=webpack://Quill/./formats/size.js?\");\n\n/***/ }),\n\n/***/ \"./formats/strike.js\":\n/*!***************************!*\\\n  !*** ./formats/strike.js ***!\n  \\***************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\n\\nvar _inline = __webpack_require__(/*! ../blots/inline */ \\\"./blots/inline.js\\\");\\n\\nvar _inline2 = _interopRequireDefault(_inline);\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\\n\\nclass Strike extends _inline2.default {}\\nStrike.blotName = 'strike';\\nStrike.tagName = 'S';\\n\\nexports.default = Strike;\\n\\n//# sourceURL=webpack://Quill/./formats/strike.js?\");\n\n/***/ }),\n\n/***/ \"./formats/table.js\":\n/*!**************************!*\\\n  !*** ./formats/table.js ***!\n  \\**************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.tableId = exports.TableContainer = exports.TableBody = exports.TableRow = exports.TableCell = undefined;\\n\\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\\\"return\\\"]) _i[\\\"return\\\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\\\"Invalid attempt to destructure non-iterable instance\\\"); } }; }();\\n\\nvar _block = __webpack_require__(/*! ../blots/block */ \\\"./blots/block.js\\\");\\n\\nvar _block2 = _interopRequireDefault(_block);\\n\\nvar _container = __webpack_require__(/*! ../blots/container */ \\\"./blots/container.js\\\");\\n\\nvar _container2 = _interopRequireDefault(_container);\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\\n\\nclass TableCell extends _block2.default {\\n  static create(value) {\\n    const node = super.create();\\n    if (value) {\\n      node.setAttribute('data-row', value);\\n    } else {\\n      node.setAttribute('data-row', tableId());\\n    }\\n    return node;\\n  }\\n\\n  static formats(domNode) {\\n    if (domNode.hasAttribute('data-row')) {\\n      return domNode.getAttribute('data-row');\\n    }\\n    return undefined;\\n  }\\n\\n  format(name, value) {\\n    if (name === TableCell.blotName && value) {\\n      this.domNode.setAttribute('data-row', value);\\n    } else {\\n      super.format(name, value);\\n    }\\n  }\\n\\n  table() {\\n    let cur = this.parent;\\n    while (cur != null && cur.statics.blotName !== 'table-container') {\\n      cur = cur.parent;\\n    }\\n    return cur;\\n  }\\n}\\nTableCell.blotName = 'table';\\nTableCell.tagName = 'TD';\\n\\nclass TableRow extends _container2.default {\\n  checkMerge() {\\n    if (super.checkMerge() && this.next.children.head != null) {\\n      const thisHead = this.children.head.formats();\\n      const thisTail = this.children.tail.formats();\\n      const nextHead = this.next.children.head.formats();\\n      const nextTail = this.next.children.tail.formats();\\n      return thisHead.table === thisTail.table && thisHead.table === nextHead.table && thisHead.table === nextTail.table;\\n    }\\n    return false;\\n  }\\n\\n  optimize(...args) {\\n    super.optimize(...args);\\n    this.children.forEach(child => {\\n      if (child.next == null) return;\\n      const childFormats = child.formats();\\n      const nextFormats = child.next.formats();\\n      if (childFormats.table !== nextFormats.table) {\\n        const next = this.splitAfter(child);\\n        if (next) {\\n          next.optimize();\\n        }\\n        // We might be able to merge with prev now\\n        if (this.prev) {\\n          this.prev.optimize();\\n        }\\n      }\\n    });\\n  }\\n}\\nTableRow.blotName = 'table-row';\\nTableRow.tagName = 'TR';\\n\\nclass TableBody extends _container2.default {}\\nTableBody.blotName = 'table-body';\\nTableBody.tagName = 'TBODY';\\n\\nclass TableContainer extends _container2.default {\\n  balanceCells() {\\n    const rows = this.descendants(TableRow);\\n    const maxColumns = rows.reduce((max, row) => {\\n      return Math.max(row.children.length, max);\\n    }, 0);\\n    rows.forEach(row => {\\n      new Array(maxColumns - row.children.length).fill(0).forEach(() => {\\n        let value;\\n        if (row.children.head != null) {\\n          value = TableCell.formats(row.children.head.domNode);\\n        }\\n        const blot = this.scroll.create(TableCell.blotName, value);\\n        row.appendChild(blot);\\n        blot.optimize(); // Add break blot\\n      });\\n    });\\n  }\\n\\n  deleteColumn(index) {\\n    var _descendant = this.descendant(TableBody),\\n        _descendant2 = _slicedToArray(_descendant, 1);\\n\\n    const body = _descendant2[0];\\n\\n    if (body == null || body.children.head == null) return;\\n    body.children.forEach(row => {\\n      const cell = row.children.at(index);\\n      if (cell != null) {\\n        cell.remove();\\n      }\\n    });\\n  }\\n\\n  insertColumn(index) {\\n    var _descendant3 = this.descendant(TableBody),\\n        _descendant4 = _slicedToArray(_descendant3, 1);\\n\\n    const body = _descendant4[0];\\n\\n    if (body == null || body.children.head == null) return;\\n    body.children.forEach(row => {\\n      const ref = row.children.at(index);\\n      const value = TableCell.formats(row.children.head.domNode);\\n      const cell = this.scroll.create(TableCell.blotName, value);\\n      row.insertBefore(cell, ref);\\n    });\\n  }\\n\\n  insertRow(index) {\\n    var _descendant5 = this.descendant(TableBody),\\n        _descendant6 = _slicedToArray(_descendant5, 1);\\n\\n    const body = _descendant6[0];\\n\\n    if (body == null || body.children.head == null) return;\\n    const id = tableId();\\n    const row = this.scroll.create(TableRow.blotName);\\n    body.children.head.children.forEach(() => {\\n      const cell = this.scroll.create(TableCell.blotName, id);\\n      row.appendChild(cell);\\n    });\\n    const ref = body.children.at(index);\\n    body.insertBefore(row, ref);\\n  }\\n}\\nTableContainer.blotName = 'table-container';\\nTableContainer.tagName = 'TABLE';\\n\\nTableContainer.allowedChildren = [TableBody];\\nTableBody.requiredContainer = TableContainer;\\n\\nTableBody.allowedChildren = [TableRow];\\nTableRow.requiredContainer = TableBody;\\n\\nTableRow.allowedChildren = [TableCell];\\nTableCell.requiredContainer = TableRow;\\n\\nfunction tableId() {\\n  const id = Math.random().toString(36).slice(2, 6);\\n  return `row-${id}`;\\n}\\n\\nexports.TableCell = TableCell;\\nexports.TableRow = TableRow;\\nexports.TableBody = TableBody;\\nexports.TableContainer = TableContainer;\\nexports.tableId = tableId;\\n\\n//# sourceURL=webpack://Quill/./formats/table.js?\");\n\n/***/ }),\n\n/***/ \"./formats/underline.js\":\n/*!******************************!*\\\n  !*** ./formats/underline.js ***!\n  \\******************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\n\\nvar _inline = __webpack_require__(/*! ../blots/inline */ \\\"./blots/inline.js\\\");\\n\\nvar _inline2 = _interopRequireDefault(_inline);\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\\n\\nclass Underline extends _inline2.default {}\\nUnderline.blotName = 'underline';\\nUnderline.tagName = 'U';\\n\\nexports.default = Underline;\\n\\n//# sourceURL=webpack://Quill/./formats/underline.js?\");\n\n/***/ }),\n\n/***/ \"./formats/video.js\":\n/*!**************************!*\\\n  !*** ./formats/video.js ***!\n  \\**************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\n\\nvar _block = __webpack_require__(/*! ../blots/block */ \\\"./blots/block.js\\\");\\n\\nvar _link = __webpack_require__(/*! ../formats/link */ \\\"./formats/link.js\\\");\\n\\nvar _link2 = _interopRequireDefault(_link);\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\\n\\nconst ATTRIBUTES = ['height', 'width'];\\n\\nclass Video extends _block.BlockEmbed {\\n  static create(value) {\\n    const node = super.create(value);\\n    node.setAttribute('frameborder', '0');\\n    node.setAttribute('allowfullscreen', true);\\n    node.setAttribute('src', this.sanitize(value));\\n    return node;\\n  }\\n\\n  static formats(domNode) {\\n    return ATTRIBUTES.reduce((formats, attribute) => {\\n      if (domNode.hasAttribute(attribute)) {\\n        formats[attribute] = domNode.getAttribute(attribute);\\n      }\\n      return formats;\\n    }, {});\\n  }\\n\\n  static sanitize(url) {\\n    return _link2.default.sanitize(url); // eslint-disable-line import/no-named-as-default-member\\n  }\\n\\n  static value(domNode) {\\n    return domNode.getAttribute('src');\\n  }\\n\\n  format(name, value) {\\n    if (ATTRIBUTES.indexOf(name) > -1) {\\n      if (value) {\\n        this.domNode.setAttribute(name, value);\\n      } else {\\n        this.domNode.removeAttribute(name);\\n      }\\n    } else {\\n      super.format(name, value);\\n    }\\n  }\\n\\n  html() {\\n    var _value = this.value();\\n\\n    const video = _value.video;\\n\\n    return `<a href=\\\"${video}\\\">${video}</a>`;\\n  }\\n}\\nVideo.blotName = 'video';\\nVideo.className = 'ql-video';\\nVideo.tagName = 'IFRAME';\\n\\nexports.default = Video;\\n\\n//# sourceURL=webpack://Quill/./formats/video.js?\");\n\n/***/ }),\n\n/***/ \"./modules/clipboard.js\":\n/*!******************************!*\\\n  !*** ./modules/clipboard.js ***!\n  \\******************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.traverse = exports.matchText = exports.matchNewline = exports.matchBlot = exports.matchAttributor = exports.default = undefined;\\n\\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\\\"return\\\"]) _i[\\\"return\\\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\\\"Invalid attempt to destructure non-iterable instance\\\"); } }; }();\\n\\nvar _extend = __webpack_require__(/*! extend */ \\\"./node_modules/extend/index.js\\\");\\n\\nvar _extend2 = _interopRequireDefault(_extend);\\n\\nvar _quillDelta = __webpack_require__(/*! quill-delta */ \\\"./node_modules/quill-delta/lib/delta.js\\\");\\n\\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\\n\\nvar _parchment = __webpack_require__(/*! parchment */ \\\"./node_modules/parchment/src/parchment.ts\\\");\\n\\nvar _quill = __webpack_require__(/*! ../core/quill */ \\\"./core/quill.js\\\");\\n\\nvar _quill2 = _interopRequireDefault(_quill);\\n\\nvar _logger = __webpack_require__(/*! ../core/logger */ \\\"./core/logger.js\\\");\\n\\nvar _logger2 = _interopRequireDefault(_logger);\\n\\nvar _module = __webpack_require__(/*! ../core/module */ \\\"./core/module.js\\\");\\n\\nvar _module2 = _interopRequireDefault(_module);\\n\\nvar _align = __webpack_require__(/*! ../formats/align */ \\\"./formats/align.js\\\");\\n\\nvar _background = __webpack_require__(/*! ../formats/background */ \\\"./formats/background.js\\\");\\n\\nvar _code = __webpack_require__(/*! ../formats/code */ \\\"./formats/code.js\\\");\\n\\nvar _code2 = _interopRequireDefault(_code);\\n\\nvar _color = __webpack_require__(/*! ../formats/color */ \\\"./formats/color.js\\\");\\n\\nvar _direction = __webpack_require__(/*! ../formats/direction */ \\\"./formats/direction.js\\\");\\n\\nvar _font = __webpack_require__(/*! ../formats/font */ \\\"./formats/font.js\\\");\\n\\nvar _size = __webpack_require__(/*! ../formats/size */ \\\"./formats/size.js\\\");\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\\n\\nconst debug = (0, _logger2.default)('quill:clipboard');\\n\\nconst CLIPBOARD_CONFIG = [[Node.TEXT_NODE, matchText], [Node.TEXT_NODE, matchNewline], ['br', matchBreak], [Node.ELEMENT_NODE, matchNewline], [Node.ELEMENT_NODE, matchBlot], [Node.ELEMENT_NODE, matchAttributor], [Node.ELEMENT_NODE, matchStyles], ['li', matchIndent], ['ol, ul', matchList], ['pre', matchCodeBlock], ['tr', matchTable], ['b', matchAlias.bind(matchAlias, 'bold')], ['i', matchAlias.bind(matchAlias, 'italic')], ['style', matchIgnore]];\\n\\nconst ATTRIBUTE_ATTRIBUTORS = [_align.AlignAttribute, _direction.DirectionAttribute].reduce((memo, attr) => {\\n  memo[attr.keyName] = attr;\\n  return memo;\\n}, {});\\n\\nconst STYLE_ATTRIBUTORS = [_align.AlignStyle, _background.BackgroundStyle, _color.ColorStyle, _direction.DirectionStyle, _font.FontStyle, _size.SizeStyle].reduce((memo, attr) => {\\n  memo[attr.keyName] = attr;\\n  return memo;\\n}, {});\\n\\nclass Clipboard extends _module2.default {\\n  constructor(quill, options) {\\n    super(quill, options);\\n    this.quill.root.addEventListener('copy', this.onCaptureCopy.bind(this));\\n    this.quill.root.addEventListener('cut', this.onCaptureCut.bind(this));\\n    this.quill.root.addEventListener('paste', this.onCapturePaste.bind(this));\\n    this.matchers = [];\\n    CLIPBOARD_CONFIG.concat(this.options.matchers).forEach(([selector, matcher]) => {\\n      this.addMatcher(selector, matcher);\\n    });\\n  }\\n\\n  addMatcher(selector, matcher) {\\n    this.matchers.push([selector, matcher]);\\n  }\\n\\n  convert({ html, text }) {\\n    const formats = this.quill.getFormat(this.quill.selection.savedRange.index);\\n    if (formats[_code2.default.blotName]) {\\n      return new _quillDelta2.default().insert(text, {\\n        [_code2.default.blotName]: formats[_code2.default.blotName]\\n      });\\n    } else if (!html) {\\n      return new _quillDelta2.default().insert(text || '');\\n    }\\n    const container = this.quill.root.ownerDocument.createElement('div');\\n    container.innerHTML = html.replace(/>\\\\r?\\\\n +</g, '><'); // Remove spaces between tags\\n    const nodeMatches = new WeakMap();\\n\\n    var _prepareMatching = this.prepareMatching(container, nodeMatches),\\n        _prepareMatching2 = _slicedToArray(_prepareMatching, 2);\\n\\n    const elementMatchers = _prepareMatching2[0],\\n          textMatchers = _prepareMatching2[1];\\n\\n    const delta = traverse(this.quill.scroll, container, elementMatchers, textMatchers, nodeMatches);\\n    // Remove trailing newline\\n    if (deltaEndsWith(delta, '\\\\n') && delta.ops[delta.ops.length - 1].attributes == null) {\\n      return delta.compose(new _quillDelta2.default().retain(delta.length() - 1).delete(1));\\n    }\\n    return delta;\\n  }\\n\\n  dangerouslyPasteHTML(index, html, source = _quill2.default.sources.API) {\\n    if (typeof index === 'string') {\\n      const delta = this.convert({ html: index, text: '' });\\n      this.quill.setContents(delta, html);\\n      this.quill.setSelection(0, _quill2.default.sources.SILENT);\\n    } else {\\n      const paste = this.convert({ html, text: '' });\\n      this.quill.updateContents(new _quillDelta2.default().retain(index).concat(paste), source);\\n      this.quill.setSelection(index + paste.length(), _quill2.default.sources.SILENT);\\n    }\\n  }\\n\\n  onCaptureCopy(e) {\\n    if (e.defaultPrevented) return;\\n    this.quill.update();\\n\\n    var _quill$selection$getR = this.quill.selection.getRange(),\\n        _quill$selection$getR2 = _slicedToArray(_quill$selection$getR, 1);\\n\\n    const range = _quill$selection$getR2[0];\\n\\n    if (range) {\\n      this.onCopy(e, range);\\n      e.preventDefault();\\n    }\\n  }\\n\\n  onCaptureCut(e) {\\n    if (e.defaultPrevented) return;\\n    this.quill.update();\\n\\n    var _quill$selection$getR3 = this.quill.selection.getRange(),\\n        _quill$selection$getR4 = _slicedToArray(_quill$selection$getR3, 1);\\n\\n    const range = _quill$selection$getR4[0];\\n\\n    if (range) {\\n      this.onCopy(e, range);\\n      this.quill.deleteText(range, _quill2.default.sources.USER);\\n      e.preventDefault();\\n    }\\n  }\\n\\n  onCapturePaste(e) {\\n    if (e.defaultPrevented || !this.quill.isEnabled()) return;\\n    const range = this.quill.getSelection(true);\\n    const files = Array.from(e.clipboardData.files || []);\\n    if (files.length > 0) {\\n      this.quill.uploader.upload(range, files);\\n    } else {\\n      this.onPaste(e, range);\\n    }\\n    e.preventDefault();\\n  }\\n\\n  onCopy(e, range) {\\n    const text = this.quill.getText(range);\\n    const html = this.quill.getSemanticHTML(range);\\n    e.clipboardData.setData('text/plain', text);\\n    e.clipboardData.setData('text/html', html);\\n  }\\n\\n  onPaste(e, range) {\\n    const html = e.clipboardData.getData('text/html');\\n    const text = e.clipboardData.getData('text/plain');\\n    const pastedDelta = this.convert({ text, html });\\n    debug.log('onPaste', pastedDelta, { text, html });\\n    const delta = new _quillDelta2.default().retain(range.index).delete(range.length).concat(pastedDelta);\\n    this.quill.updateContents(delta, _quill2.default.sources.USER);\\n    // range.length contributes to delta.length()\\n    this.quill.setSelection(delta.length() - range.length, _quill2.default.sources.SILENT);\\n    this.quill.scrollIntoView();\\n  }\\n\\n  prepareMatching(container, nodeMatches) {\\n    const elementMatchers = [];\\n    const textMatchers = [];\\n    this.matchers.forEach(pair => {\\n      var _pair = _slicedToArray(pair, 2);\\n\\n      const selector = _pair[0],\\n            matcher = _pair[1];\\n\\n      switch (selector) {\\n        case Node.TEXT_NODE:\\n          textMatchers.push(matcher);\\n          break;\\n        case Node.ELEMENT_NODE:\\n          elementMatchers.push(matcher);\\n          break;\\n        default:\\n          Array.from(container.querySelectorAll(selector)).forEach(node => {\\n            if (nodeMatches.has(node)) {\\n              const matches = nodeMatches.get(node);\\n              matches.push(matcher);\\n            } else {\\n              nodeMatches.set(node, [matcher]);\\n            }\\n          });\\n          break;\\n      }\\n    });\\n    return [elementMatchers, textMatchers];\\n  }\\n}\\nClipboard.DEFAULTS = {\\n  matchers: []\\n};\\n\\nfunction applyFormat(delta, format, value) {\\n  if (typeof format === 'object') {\\n    return Object.keys(format).reduce((newDelta, key) => {\\n      return applyFormat(newDelta, key, format[key]);\\n    }, delta);\\n  }\\n  return delta.reduce((newDelta, op) => {\\n    if (op.attributes && op.attributes[format]) {\\n      return newDelta.push(op);\\n    }\\n    return newDelta.insert(op.insert, (0, _extend2.default)({}, { [format]: value }, op.attributes));\\n  }, new _quillDelta2.default());\\n}\\n\\nfunction deltaEndsWith(delta, text) {\\n  let endText = '';\\n  for (let i = delta.ops.length - 1; i >= 0 && endText.length < text.length; --i // eslint-disable-line no-plusplus\\n  ) {\\n    const op = delta.ops[i];\\n    if (typeof op.insert !== 'string') break;\\n    endText = op.insert + endText;\\n  }\\n  return endText.slice(-1 * text.length) === text;\\n}\\n\\nfunction isLine(node) {\\n  if (node.childNodes.length === 0) return false; // Exclude embed blocks\\n  return ['address', 'article', 'blockquote', 'canvas', 'dd', 'div', 'dl', 'dt', 'fieldset', 'figcaption', 'figure', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'header', 'iframe', 'li', 'main', 'nav', 'ol', 'output', 'p', 'pre', 'section', 'table', 'td', 'tr', 'ul', 'video'].includes(node.tagName.toLowerCase());\\n}\\n\\nconst preNodes = new WeakMap();\\nfunction isPre(node) {\\n  if (node == null) return false;\\n  if (!preNodes.has(node)) {\\n    if (node.tagName === 'PRE') {\\n      preNodes.set(node, true);\\n    } else {\\n      preNodes.set(node, isPre(node.parentNode));\\n    }\\n  }\\n  return preNodes.get(node);\\n}\\n\\nfunction traverse(scroll, node, elementMatchers, textMatchers, nodeMatches) {\\n  // Post-order\\n  if (node.nodeType === node.TEXT_NODE) {\\n    return textMatchers.reduce((delta, matcher) => {\\n      return matcher(node, delta, scroll);\\n    }, new _quillDelta2.default());\\n  } else if (node.nodeType === node.ELEMENT_NODE) {\\n    return Array.from(node.childNodes || []).reduce((delta, childNode) => {\\n      let childrenDelta = traverse(scroll, childNode, elementMatchers, textMatchers, nodeMatches);\\n      if (childNode.nodeType === node.ELEMENT_NODE) {\\n        childrenDelta = elementMatchers.reduce((reducedDelta, matcher) => {\\n          return matcher(childNode, reducedDelta, scroll);\\n        }, childrenDelta);\\n        childrenDelta = (nodeMatches.get(childNode) || []).reduce((reducedDelta, matcher) => {\\n          return matcher(childNode, reducedDelta, scroll);\\n        }, childrenDelta);\\n      }\\n      return delta.concat(childrenDelta);\\n    }, new _quillDelta2.default());\\n  }\\n  return new _quillDelta2.default();\\n}\\n\\nfunction matchAlias(format, node, delta) {\\n  return applyFormat(delta, format, true);\\n}\\n\\nfunction matchAttributor(node, delta, scroll) {\\n  const attributes = _parchment.Attributor.keys(node);\\n  const classes = _parchment.ClassAttributor.keys(node);\\n  const styles = _parchment.StyleAttributor.keys(node);\\n  const formats = {};\\n  attributes.concat(classes).concat(styles).forEach(name => {\\n    let attr = scroll.query(name, _parchment.Scope.ATTRIBUTE);\\n    if (attr != null) {\\n      formats[attr.attrName] = attr.value(node);\\n      if (formats[attr.attrName]) return;\\n    }\\n    attr = ATTRIBUTE_ATTRIBUTORS[name];\\n    if (attr != null && (attr.attrName === name || attr.keyName === name)) {\\n      formats[attr.attrName] = attr.value(node) || undefined;\\n    }\\n    attr = STYLE_ATTRIBUTORS[name];\\n    if (attr != null && (attr.attrName === name || attr.keyName === name)) {\\n      attr = STYLE_ATTRIBUTORS[name];\\n      formats[attr.attrName] = attr.value(node) || undefined;\\n    }\\n  });\\n  if (Object.keys(formats).length > 0) {\\n    return applyFormat(delta, formats);\\n  }\\n  return delta;\\n}\\n\\nfunction matchBlot(node, delta, scroll) {\\n  const match = scroll.query(node);\\n  if (match == null) return delta;\\n  if (match.prototype instanceof _parchment.EmbedBlot) {\\n    const embed = {};\\n    const value = match.value(node);\\n    if (value != null) {\\n      embed[match.blotName] = value;\\n      return new _quillDelta2.default().insert(embed, match.formats(node, scroll));\\n    }\\n  } else if (typeof match.formats === 'function') {\\n    return applyFormat(delta, match.blotName, match.formats(node, scroll));\\n  }\\n  return delta;\\n}\\n\\nfunction matchBreak(node, delta) {\\n  if (!deltaEndsWith(delta, '\\\\n')) {\\n    delta.insert('\\\\n');\\n  }\\n  return delta;\\n}\\n\\nfunction matchCodeBlock(node, delta, scroll) {\\n  const match = scroll.query('code-block');\\n  const language = match ? match.formats(node, scroll) : true;\\n  return applyFormat(delta, 'code-block', language);\\n}\\n\\nfunction matchIgnore() {\\n  return new _quillDelta2.default();\\n}\\n\\nfunction matchIndent(node, delta, scroll) {\\n  const match = scroll.query(node);\\n  if (match == null || match.blotName !== 'list' || !deltaEndsWith(delta, '\\\\n')) {\\n    return delta;\\n  }\\n  let indent = -1;\\n  let parent = node.parentNode;\\n  while (parent != null) {\\n    if (['OL', 'UL'].includes(parent.tagName)) {\\n      indent += 1;\\n    }\\n    parent = parent.parentNode;\\n  }\\n  if (indent <= 0) return delta;\\n  return delta.compose(new _quillDelta2.default().retain(delta.length() - 1).retain(1, { indent }));\\n}\\n\\nfunction matchList(node, delta) {\\n  const list = node.tagName === 'OL' ? 'ordered' : 'bullet';\\n  return applyFormat(delta, 'list', list);\\n}\\n\\nfunction matchNewline(node, delta) {\\n  if (!deltaEndsWith(delta, '\\\\n')) {\\n    if (isLine(node) || delta.length() > 0 && node.nextSibling && isLine(node.nextSibling)) {\\n      delta.insert('\\\\n');\\n    }\\n  }\\n  return delta;\\n}\\n\\nfunction matchStyles(node, delta) {\\n  const formats = {};\\n  const style = node.style || {};\\n  if (style.fontStyle === 'italic') {\\n    formats.italic = true;\\n  }\\n  if (style.fontWeight.startsWith('bold') || parseInt(style.fontWeight, 10) >= 700) {\\n    formats.bold = true;\\n  }\\n  if (Object.keys(formats).length > 0) {\\n    delta = applyFormat(delta, formats);\\n  }\\n  if (parseFloat(style.textIndent || 0) > 0) {\\n    // Could be 0.5in\\n    return new _quillDelta2.default().insert('\\\\t').concat(delta);\\n  }\\n  return delta;\\n}\\n\\nfunction matchTable(node, delta) {\\n  const table = node.parentNode.tagName === 'TABLE' ? node.parentNode : node.parentNode.parentNode;\\n  const rows = Array.from(table.querySelectorAll('tr'));\\n  const row = rows.indexOf(node) + 1;\\n  return applyFormat(delta, 'table', row);\\n}\\n\\nfunction matchText(node, delta) {\\n  let text = node.data;\\n  // Word represents empty line with <o:p>&nbsp;</o:p>\\n  if (node.parentNode.tagName === 'O:P') {\\n    return delta.insert(text.trim());\\n  }\\n  if (text.trim().length === 0 && node.parentNode == null) {\\n    return delta;\\n  }\\n  if (!isPre(node)) {\\n    const replacer = (collapse, match) => {\\n      const replaced = match.replace(/[^\\\\u00a0]/g, ''); // \\\\u00a0 is nbsp;\\n      return replaced.length < 1 && collapse ? ' ' : replaced;\\n    };\\n    text = text.replace(/\\\\r\\\\n/g, ' ').replace(/\\\\n/g, ' ');\\n    text = text.replace(/\\\\s\\\\s+/g, replacer.bind(replacer, true)); // collapse whitespace\\n    if (node.previousSibling == null && isLine(node.parentNode) || node.previousSibling != null && isLine(node.previousSibling)) {\\n      text = text.replace(/^\\\\s+/, replacer.bind(replacer, false));\\n    }\\n    if (node.nextSibling == null && isLine(node.parentNode) || node.nextSibling != null && isLine(node.nextSibling)) {\\n      text = text.replace(/\\\\s+$/, replacer.bind(replacer, false));\\n    }\\n  }\\n  return delta.insert(text);\\n}\\n\\nexports.default = Clipboard;\\nexports.matchAttributor = matchAttributor;\\nexports.matchBlot = matchBlot;\\nexports.matchNewline = matchNewline;\\nexports.matchText = matchText;\\nexports.traverse = traverse;\\n\\n//# sourceURL=webpack://Quill/./modules/clipboard.js?\");\n\n/***/ }),\n\n/***/ \"./modules/history.js\":\n/*!****************************!*\\\n  !*** ./modules/history.js ***!\n  \\****************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.getLastChangeIndex = exports.default = undefined;\\n\\nvar _parchment = __webpack_require__(/*! parchment */ \\\"./node_modules/parchment/src/parchment.ts\\\");\\n\\nvar _quill = __webpack_require__(/*! ../core/quill */ \\\"./core/quill.js\\\");\\n\\nvar _quill2 = _interopRequireDefault(_quill);\\n\\nvar _module = __webpack_require__(/*! ../core/module */ \\\"./core/module.js\\\");\\n\\nvar _module2 = _interopRequireDefault(_module);\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\\n\\nclass History extends _module2.default {\\n  constructor(quill, options) {\\n    super(quill, options);\\n    this.lastRecorded = 0;\\n    this.ignoreChange = false;\\n    this.clear();\\n    this.quill.on(_quill2.default.events.EDITOR_CHANGE, (eventName, delta, oldDelta, source) => {\\n      if (eventName !== _quill2.default.events.TEXT_CHANGE || this.ignoreChange) return;\\n      if (!this.options.userOnly || source === _quill2.default.sources.USER) {\\n        this.record(delta, oldDelta);\\n      } else {\\n        this.transform(delta);\\n      }\\n    });\\n    this.quill.keyboard.addBinding({ key: 'z', shortKey: true }, this.undo.bind(this));\\n    this.quill.keyboard.addBinding({ key: 'z', shortKey: true, shiftKey: true }, this.redo.bind(this));\\n    if (/Win/i.test(navigator.platform)) {\\n      this.quill.keyboard.addBinding({ key: 'y', shortKey: true }, this.redo.bind(this));\\n    }\\n  }\\n\\n  change(source, dest) {\\n    if (this.stack[source].length === 0) return;\\n    const delta = this.stack[source].pop();\\n    this.stack[dest].push(delta);\\n    this.lastRecorded = 0;\\n    this.ignoreChange = true;\\n    this.quill.updateContents(delta[source], _quill2.default.sources.USER);\\n    this.ignoreChange = false;\\n    const index = getLastChangeIndex(this.quill.scroll, delta[source]);\\n    this.quill.setSelection(index);\\n  }\\n\\n  clear() {\\n    this.stack = { undo: [], redo: [] };\\n  }\\n\\n  cutoff() {\\n    this.lastRecorded = 0;\\n  }\\n\\n  record(changeDelta, oldDelta) {\\n    if (changeDelta.ops.length === 0) return;\\n    this.stack.redo = [];\\n    let undoDelta = this.quill.getContents().diff(oldDelta);\\n    const timestamp = Date.now();\\n    if (this.lastRecorded + this.options.delay > timestamp && this.stack.undo.length > 0) {\\n      const delta = this.stack.undo.pop();\\n      undoDelta = undoDelta.compose(delta.undo);\\n      changeDelta = delta.redo.compose(changeDelta);\\n    } else {\\n      this.lastRecorded = timestamp;\\n    }\\n    this.stack.undo.push({\\n      redo: changeDelta,\\n      undo: undoDelta\\n    });\\n    if (this.stack.undo.length > this.options.maxStack) {\\n      this.stack.undo.shift();\\n    }\\n  }\\n\\n  redo() {\\n    this.change('redo', 'undo');\\n  }\\n\\n  transform(delta) {\\n    this.stack.undo.forEach(change => {\\n      change.undo = delta.transform(change.undo, true);\\n      change.redo = delta.transform(change.redo, true);\\n    });\\n    this.stack.redo.forEach(change => {\\n      change.undo = delta.transform(change.undo, true);\\n      change.redo = delta.transform(change.redo, true);\\n    });\\n  }\\n\\n  undo() {\\n    this.change('undo', 'redo');\\n  }\\n}\\nHistory.DEFAULTS = {\\n  delay: 1000,\\n  maxStack: 100,\\n  userOnly: false\\n};\\n\\nfunction endsWithNewlineChange(scroll, delta) {\\n  const lastOp = delta.ops[delta.ops.length - 1];\\n  if (lastOp == null) return false;\\n  if (lastOp.insert != null) {\\n    return typeof lastOp.insert === 'string' && lastOp.insert.endsWith('\\\\n');\\n  }\\n  if (lastOp.attributes != null) {\\n    return Object.keys(lastOp.attributes).some(attr => {\\n      return scroll.query(attr, _parchment.Scope.BLOCK) != null;\\n    });\\n  }\\n  return false;\\n}\\n\\nfunction getLastChangeIndex(scroll, delta) {\\n  const deleteLength = delta.reduce((length, op) => {\\n    return length + (op.delete || 0);\\n  }, 0);\\n  let changeIndex = delta.length() - deleteLength;\\n  if (endsWithNewlineChange(scroll, delta)) {\\n    changeIndex -= 1;\\n  }\\n  return changeIndex;\\n}\\n\\nexports.default = History;\\nexports.getLastChangeIndex = getLastChangeIndex;\\n\\n//# sourceURL=webpack://Quill/./modules/history.js?\");\n\n/***/ }),\n\n/***/ \"./modules/keyboard.js\":\n/*!*****************************!*\\\n  !*** ./modules/keyboard.js ***!\n  \\*****************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.normalize = exports.SHORTKEY = exports.default = undefined;\\n\\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\\\"return\\\"]) _i[\\\"return\\\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\\\"Invalid attempt to destructure non-iterable instance\\\"); } }; }();\\n\\nvar _clone = __webpack_require__(/*! clone */ \\\"./node_modules/clone/clone.js\\\");\\n\\nvar _clone2 = _interopRequireDefault(_clone);\\n\\nvar _deepEqual = __webpack_require__(/*! deep-equal */ \\\"./node_modules/deep-equal/index.js\\\");\\n\\nvar _deepEqual2 = _interopRequireDefault(_deepEqual);\\n\\nvar _extend = __webpack_require__(/*! extend */ \\\"./node_modules/extend/index.js\\\");\\n\\nvar _extend2 = _interopRequireDefault(_extend);\\n\\nvar _quillDelta = __webpack_require__(/*! quill-delta */ \\\"./node_modules/quill-delta/lib/delta.js\\\");\\n\\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\\n\\nvar _op = __webpack_require__(/*! quill-delta/lib/op */ \\\"./node_modules/quill-delta/lib/op.js\\\");\\n\\nvar _op2 = _interopRequireDefault(_op);\\n\\nvar _parchment = __webpack_require__(/*! parchment */ \\\"./node_modules/parchment/src/parchment.ts\\\");\\n\\nvar _quill = __webpack_require__(/*! ../core/quill */ \\\"./core/quill.js\\\");\\n\\nvar _quill2 = _interopRequireDefault(_quill);\\n\\nvar _logger = __webpack_require__(/*! ../core/logger */ \\\"./core/logger.js\\\");\\n\\nvar _logger2 = _interopRequireDefault(_logger);\\n\\nvar _module = __webpack_require__(/*! ../core/module */ \\\"./core/module.js\\\");\\n\\nvar _module2 = _interopRequireDefault(_module);\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\\n\\nconst debug = (0, _logger2.default)('quill:keyboard');\\n\\nconst SHORTKEY = /Mac/i.test(navigator.platform) ? 'metaKey' : 'ctrlKey';\\n\\nclass Keyboard extends _module2.default {\\n  static match(evt, binding) {\\n    if (['altKey', 'ctrlKey', 'metaKey', 'shiftKey'].some(key => {\\n      return !!binding[key] !== evt[key] && binding[key] !== null;\\n    })) {\\n      return false;\\n    }\\n    return binding.key === evt.key || binding.key === evt.which;\\n  }\\n\\n  constructor(quill, options) {\\n    super(quill, options);\\n    this.bindings = {};\\n    Object.keys(this.options.bindings).forEach(name => {\\n      if (this.options.bindings[name]) {\\n        this.addBinding(this.options.bindings[name]);\\n      }\\n    });\\n    this.addBinding({ key: 'Enter', shiftKey: null }, handleEnter);\\n    this.addBinding({ key: 'Enter', metaKey: null, ctrlKey: null, altKey: null }, () => {});\\n    if (/Firefox/i.test(navigator.userAgent)) {\\n      // Need to handle delete and backspace for Firefox in the general case #1171\\n      this.addBinding({ key: 'Backspace' }, { collapsed: true }, handleBackspace);\\n      this.addBinding({ key: 'Delete' }, { collapsed: true }, handleDelete);\\n    } else {\\n      this.addBinding({ key: 'Backspace' }, { collapsed: true, prefix: /^.?$/ }, handleBackspace);\\n      this.addBinding({ key: 'Delete' }, { collapsed: true, suffix: /^.?$/ }, handleDelete);\\n    }\\n    this.addBinding({ key: 'Backspace' }, { collapsed: false }, handleDeleteRange);\\n    this.addBinding({ key: 'Delete' }, { collapsed: false }, handleDeleteRange);\\n    this.addBinding({\\n      key: 'Backspace',\\n      altKey: null,\\n      ctrlKey: null,\\n      metaKey: null,\\n      shiftKey: null\\n    }, { collapsed: true, offset: 0 }, handleBackspace);\\n    this.listen();\\n  }\\n\\n  addBinding(keyBinding, context = {}, handler = {}) {\\n    const binding = normalize(keyBinding);\\n    if (binding == null) {\\n      debug.warn('Attempted to add invalid keyboard binding', binding);\\n      return;\\n    }\\n    if (typeof context === 'function') {\\n      context = { handler: context };\\n    }\\n    if (typeof handler === 'function') {\\n      handler = { handler };\\n    }\\n    const keys = Array.isArray(binding.key) ? binding.key : [binding.key];\\n    keys.forEach(key => {\\n      const singleBinding = (0, _extend2.default)({}, binding, { key }, context, handler);\\n      this.bindings[singleBinding.key] = this.bindings[singleBinding.key] || [];\\n      this.bindings[singleBinding.key].push(singleBinding);\\n    });\\n  }\\n\\n  listen() {\\n    this.quill.root.addEventListener('keydown', evt => {\\n      if (evt.defaultPrevented) return;\\n      const bindings = (this.bindings[evt.key] || []).concat(this.bindings[evt.which] || []);\\n      const matches = bindings.filter(binding => Keyboard.match(evt, binding));\\n      if (matches.length === 0) return;\\n      const range = this.quill.getSelection();\\n      if (range == null || !this.quill.hasFocus()) return;\\n\\n      var _quill$getLine = this.quill.getLine(range.index),\\n          _quill$getLine2 = _slicedToArray(_quill$getLine, 2);\\n\\n      const line = _quill$getLine2[0],\\n            offset = _quill$getLine2[1];\\n\\n      var _quill$getLeaf = this.quill.getLeaf(range.index),\\n          _quill$getLeaf2 = _slicedToArray(_quill$getLeaf, 2);\\n\\n      const leafStart = _quill$getLeaf2[0],\\n            offsetStart = _quill$getLeaf2[1];\\n\\n      var _ref = range.length === 0 ? [leafStart, offsetStart] : this.quill.getLeaf(range.index + range.length),\\n          _ref2 = _slicedToArray(_ref, 2);\\n\\n      const leafEnd = _ref2[0],\\n            offsetEnd = _ref2[1];\\n\\n      const prefixText = leafStart instanceof _parchment.TextBlot ? leafStart.value().slice(0, offsetStart) : '';\\n      const suffixText = leafEnd instanceof _parchment.TextBlot ? leafEnd.value().slice(offsetEnd) : '';\\n      const curContext = {\\n        collapsed: range.length === 0,\\n        empty: range.length === 0 && line.length() <= 1,\\n        format: this.quill.getFormat(range),\\n        line,\\n        offset,\\n        prefix: prefixText,\\n        suffix: suffixText,\\n        event: evt\\n      };\\n      const prevented = matches.some(binding => {\\n        if (binding.collapsed != null && binding.collapsed !== curContext.collapsed) {\\n          return false;\\n        }\\n        if (binding.empty != null && binding.empty !== curContext.empty) {\\n          return false;\\n        }\\n        if (binding.offset != null && binding.offset !== curContext.offset) {\\n          return false;\\n        }\\n        if (Array.isArray(binding.format)) {\\n          // any format is present\\n          if (binding.format.every(name => curContext.format[name] == null)) {\\n            return false;\\n          }\\n        } else if (typeof binding.format === 'object') {\\n          // all formats must match\\n          if (!Object.keys(binding.format).every(name => {\\n            if (binding.format[name] === true) return curContext.format[name] != null;\\n            if (binding.format[name] === false) return curContext.format[name] == null;\\n            return (0, _deepEqual2.default)(binding.format[name], curContext.format[name]);\\n          })) {\\n            return false;\\n          }\\n        }\\n        if (binding.prefix != null && !binding.prefix.test(curContext.prefix)) {\\n          return false;\\n        }\\n        if (binding.suffix != null && !binding.suffix.test(curContext.suffix)) {\\n          return false;\\n        }\\n        return binding.handler.call(this, range, curContext, binding) !== true;\\n      });\\n      if (prevented) {\\n        evt.preventDefault();\\n      }\\n    });\\n  }\\n}\\n\\nKeyboard.DEFAULTS = {\\n  bindings: {\\n    bold: makeFormatHandler('bold'),\\n    italic: makeFormatHandler('italic'),\\n    underline: makeFormatHandler('underline'),\\n    indent: {\\n      // highlight tab or tab at beginning of list, indent or blockquote\\n      key: 'Tab',\\n      format: ['blockquote', 'indent', 'list'],\\n      handler(range, context) {\\n        if (context.collapsed && context.offset !== 0) return true;\\n        this.quill.format('indent', '+1', _quill2.default.sources.USER);\\n        return false;\\n      }\\n    },\\n    outdent: {\\n      key: 'Tab',\\n      shiftKey: true,\\n      format: ['blockquote', 'indent', 'list'],\\n      // highlight tab or tab at beginning of list, indent or blockquote\\n      handler(range, context) {\\n        if (context.collapsed && context.offset !== 0) return true;\\n        this.quill.format('indent', '-1', _quill2.default.sources.USER);\\n        return false;\\n      }\\n    },\\n    'outdent backspace': {\\n      key: 'Backspace',\\n      collapsed: true,\\n      shiftKey: null,\\n      metaKey: null,\\n      ctrlKey: null,\\n      altKey: null,\\n      format: ['indent', 'list'],\\n      offset: 0,\\n      handler(range, context) {\\n        if (context.format.indent != null) {\\n          this.quill.format('indent', '-1', _quill2.default.sources.USER);\\n        } else if (context.format.list != null) {\\n          this.quill.format('list', false, _quill2.default.sources.USER);\\n        }\\n      }\\n    },\\n    'indent code-block': makeCodeBlockHandler(true),\\n    'outdent code-block': makeCodeBlockHandler(false),\\n    'remove tab': {\\n      key: 'Tab',\\n      shiftKey: true,\\n      collapsed: true,\\n      prefix: /\\\\t$/,\\n      handler(range) {\\n        this.quill.deleteText(range.index - 1, 1, _quill2.default.sources.USER);\\n      }\\n    },\\n    tab: {\\n      key: 'Tab',\\n      handler(range, context) {\\n        if (context.format.table) return true;\\n        this.quill.history.cutoff();\\n        const delta = new _quillDelta2.default().retain(range.index).delete(range.length).insert('\\\\t');\\n        this.quill.updateContents(delta, _quill2.default.sources.USER);\\n        this.quill.history.cutoff();\\n        this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);\\n        return false;\\n      }\\n    },\\n    'blockquote empty enter': {\\n      key: 'Enter',\\n      collapsed: true,\\n      format: ['blockquote'],\\n      empty: true,\\n      handler() {\\n        this.quill.format('blockquote', false, _quill2.default.sources.USER);\\n      }\\n    },\\n    'list empty enter': {\\n      key: 'Enter',\\n      collapsed: true,\\n      format: ['list'],\\n      empty: true,\\n      handler(range, context) {\\n        this.quill.format('list', false, _quill2.default.sources.USER);\\n        if (context.format.indent) {\\n          this.quill.format('indent', false, _quill2.default.sources.USER);\\n        }\\n      }\\n    },\\n    'checklist enter': {\\n      key: 'Enter',\\n      collapsed: true,\\n      format: { list: 'checked' },\\n      handler(range) {\\n        var _quill$getLine3 = this.quill.getLine(range.index),\\n            _quill$getLine4 = _slicedToArray(_quill$getLine3, 2);\\n\\n        const line = _quill$getLine4[0],\\n              offset = _quill$getLine4[1];\\n\\n        const formats = (0, _extend2.default)({}, line.formats(), { list: 'checked' });\\n        const delta = new _quillDelta2.default().retain(range.index).insert('\\\\n', formats).retain(line.length() - offset - 1).retain(1, { list: 'unchecked' });\\n        this.quill.updateContents(delta, _quill2.default.sources.USER);\\n        this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);\\n        this.quill.scrollIntoView();\\n      }\\n    },\\n    'header enter': {\\n      key: 'Enter',\\n      collapsed: true,\\n      format: ['header'],\\n      suffix: /^$/,\\n      handler(range, context) {\\n        var _quill$getLine5 = this.quill.getLine(range.index),\\n            _quill$getLine6 = _slicedToArray(_quill$getLine5, 2);\\n\\n        const line = _quill$getLine6[0],\\n              offset = _quill$getLine6[1];\\n\\n        const delta = new _quillDelta2.default().retain(range.index).insert('\\\\n', context.format).retain(line.length() - offset - 1).retain(1, { header: null });\\n        this.quill.updateContents(delta, _quill2.default.sources.USER);\\n        this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);\\n        this.quill.scrollIntoView();\\n      }\\n    },\\n    'table backspace': {\\n      key: 'Backspace',\\n      format: ['table'],\\n      collapsed: true,\\n      offset: 0,\\n      handler() {}\\n    },\\n    'table delete': {\\n      key: 'Delete',\\n      format: ['table'],\\n      collapsed: true,\\n      suffix: /^$/,\\n      handler() {}\\n    },\\n    'table enter': {\\n      key: 'Enter',\\n      shiftKey: null,\\n      format: ['table'],\\n      handler(range) {\\n        const module = this.quill.getModule('table');\\n        if (module) {\\n          var _module$getTable = module.getTable(range),\\n              _module$getTable2 = _slicedToArray(_module$getTable, 4);\\n\\n          const table = _module$getTable2[0],\\n                row = _module$getTable2[1],\\n                cell = _module$getTable2[2],\\n                offset = _module$getTable2[3];\\n\\n          const shift = tableSide(table, row, cell, offset);\\n          if (shift == null) return;\\n          let index = table.offset();\\n          if (shift < 0) {\\n            const delta = new _quillDelta2.default().retain(index).insert('\\\\n');\\n            this.quill.updateContents(delta, _quill2.default.sources.USER);\\n            this.quill.setSelection(range.index + 1, range.length, _quill2.default.sources.SILENT);\\n          } else if (shift > 0) {\\n            index += table.length();\\n            const delta = new _quillDelta2.default().retain(index).insert('\\\\n');\\n            this.quill.updateContents(delta, _quill2.default.sources.USER);\\n            this.quill.setSelection(index, _quill2.default.sources.USER);\\n          }\\n        }\\n      }\\n    },\\n    'table tab': {\\n      key: 'Tab',\\n      shiftKey: null,\\n      format: ['table'],\\n      handler(range, context) {\\n        const event = context.event,\\n              cell = context.line;\\n\\n        const offset = cell.offset(this.quill.scroll);\\n        if (event.shiftKey) {\\n          this.quill.setSelection(offset - 1, _quill2.default.sources.USER);\\n        } else {\\n          this.quill.setSelection(offset + cell.length(), _quill2.default.sources.USER);\\n        }\\n      }\\n    },\\n    'list autofill': {\\n      key: ' ',\\n      collapsed: true,\\n      format: {\\n        list: false,\\n        'code-block': false,\\n        blockquote: false,\\n        header: false,\\n        table: false\\n      },\\n      prefix: /^\\\\s*?(\\\\d+\\\\.|-|\\\\*|\\\\[ ?\\\\]|\\\\[x\\\\])$/,\\n      handler(range, context) {\\n        if (this.quill.scroll.query('list') == null) return true;\\n        const length = context.prefix.length;\\n\\n        var _quill$getLine7 = this.quill.getLine(range.index),\\n            _quill$getLine8 = _slicedToArray(_quill$getLine7, 2);\\n\\n        const line = _quill$getLine8[0],\\n              offset = _quill$getLine8[1];\\n\\n        if (offset > length) return true;\\n        let value;\\n        switch (context.prefix.trim()) {\\n          case '[]':\\n          case '[ ]':\\n            value = 'unchecked';\\n            break;\\n          case '[x]':\\n            value = 'checked';\\n            break;\\n          case '-':\\n          case '*':\\n            value = 'bullet';\\n            break;\\n          default:\\n            value = 'ordered';\\n        }\\n        this.quill.insertText(range.index, ' ', _quill2.default.sources.USER);\\n        this.quill.history.cutoff();\\n        const delta = new _quillDelta2.default().retain(range.index - offset).delete(length + 1).retain(line.length() - 2 - offset).retain(1, { list: value });\\n        this.quill.updateContents(delta, _quill2.default.sources.USER);\\n        this.quill.history.cutoff();\\n        this.quill.setSelection(range.index - length, _quill2.default.sources.SILENT);\\n        return false;\\n      }\\n    },\\n    'code exit': {\\n      key: 'Enter',\\n      collapsed: true,\\n      format: ['code-block'],\\n      prefix: /^$/,\\n      suffix: /^\\\\s*$/,\\n      handler(range) {\\n        var _quill$getLine9 = this.quill.getLine(range.index),\\n            _quill$getLine10 = _slicedToArray(_quill$getLine9, 2);\\n\\n        const line = _quill$getLine10[0],\\n              offset = _quill$getLine10[1];\\n\\n        let numLines = 2;\\n        let cur = line;\\n        while (cur != null && cur.length() <= 1 && cur.formats()['code-block']) {\\n          cur = cur.prev;\\n          numLines -= 1;\\n          // Requisite prev lines are empty\\n          if (numLines <= 0) {\\n            const delta = new _quillDelta2.default().retain(range.index + line.length() - offset - 2).retain(1, { 'code-block': null }).delete(1);\\n            this.quill.updateContents(delta, _quill2.default.sources.USER);\\n            this.quill.setSelection(range.index - 1, _quill2.default.sources.SILENT);\\n            return false;\\n          }\\n        }\\n        return true;\\n      }\\n    },\\n    'embed left': makeEmbedArrowHandler('ArrowLeft', false),\\n    'embed left shift': makeEmbedArrowHandler('ArrowLeft', true),\\n    'embed right': makeEmbedArrowHandler('ArrowRight', false),\\n    'embed right shift': makeEmbedArrowHandler('ArrowRight', true),\\n    'table down': makeTableArrowHandler(false),\\n    'table up': makeTableArrowHandler(true)\\n  }\\n};\\n\\nfunction handleBackspace(range, context) {\\n  if (range.index === 0 || this.quill.getLength() <= 1) return;\\n\\n  var _quill$getLine11 = this.quill.getLine(range.index),\\n      _quill$getLine12 = _slicedToArray(_quill$getLine11, 1);\\n\\n  const line = _quill$getLine12[0];\\n\\n  let formats = {};\\n  if (context.offset === 0) {\\n    var _quill$getLine13 = this.quill.getLine(range.index - 1),\\n        _quill$getLine14 = _slicedToArray(_quill$getLine13, 1);\\n\\n    const prev = _quill$getLine14[0];\\n\\n    if (prev != null) {\\n      if (prev.length() > 1 || prev.statics.blotName === 'table') {\\n        const curFormats = line.formats();\\n        const prevFormats = this.quill.getFormat(range.index - 1, 1);\\n        formats = _op2.default.attributes.diff(curFormats, prevFormats) || {};\\n      }\\n    }\\n  }\\n  // Check for astral symbols\\n  const length = /[\\\\uD800-\\\\uDBFF][\\\\uDC00-\\\\uDFFF]$/.test(context.prefix) ? 2 : 1;\\n  this.quill.deleteText(range.index - length, length, _quill2.default.sources.USER);\\n  if (Object.keys(formats).length > 0) {\\n    this.quill.formatLine(range.index - length, length, formats, _quill2.default.sources.USER);\\n  }\\n  this.quill.focus();\\n}\\n\\nfunction handleDelete(range, context) {\\n  // Check for astral symbols\\n  const length = /^[\\\\uD800-\\\\uDBFF][\\\\uDC00-\\\\uDFFF]/.test(context.suffix) ? 2 : 1;\\n  if (range.index >= this.quill.getLength() - length) return;\\n  let formats = {};\\n  let nextLength = 0;\\n\\n  var _quill$getLine15 = this.quill.getLine(range.index),\\n      _quill$getLine16 = _slicedToArray(_quill$getLine15, 1);\\n\\n  const line = _quill$getLine16[0];\\n\\n  if (context.offset >= line.length() - 1) {\\n    var _quill$getLine17 = this.quill.getLine(range.index + 1),\\n        _quill$getLine18 = _slicedToArray(_quill$getLine17, 1);\\n\\n    const next = _quill$getLine18[0];\\n\\n    if (next) {\\n      const curFormats = line.formats();\\n      const nextFormats = this.quill.getFormat(range.index, 1);\\n      formats = _op2.default.attributes.diff(curFormats, nextFormats) || {};\\n      nextLength = next.length();\\n    }\\n  }\\n  this.quill.deleteText(range.index, length, _quill2.default.sources.USER);\\n  if (Object.keys(formats).length > 0) {\\n    this.quill.formatLine(range.index + nextLength - 1, length, formats, _quill2.default.sources.USER);\\n  }\\n}\\n\\nfunction handleDeleteRange(range) {\\n  const lines = this.quill.getLines(range);\\n  let formats = {};\\n  if (lines.length > 1) {\\n    const firstFormats = lines[0].formats();\\n    const lastFormats = lines[lines.length - 1].formats();\\n    formats = _op2.default.attributes.diff(lastFormats, firstFormats) || {};\\n  }\\n  this.quill.deleteText(range, _quill2.default.sources.USER);\\n  if (Object.keys(formats).length > 0) {\\n    this.quill.formatLine(range.index, 1, formats, _quill2.default.sources.USER);\\n  }\\n  this.quill.setSelection(range.index, _quill2.default.sources.SILENT);\\n  this.quill.focus();\\n}\\n\\n// TODO use just updateContents()\\nfunction handleEnter(range, context) {\\n  if (range.length > 0) {\\n    this.quill.scroll.deleteAt(range.index, range.length); // So we do not trigger text-change\\n  }\\n  const lineFormats = Object.keys(context.format).reduce((formats, format) => {\\n    if (this.quill.scroll.query(format, _parchment.Scope.BLOCK) && !Array.isArray(context.format[format])) {\\n      formats[format] = context.format[format];\\n    }\\n    return formats;\\n  }, {});\\n  this.quill.insertText(range.index, '\\\\n', lineFormats, _quill2.default.sources.USER);\\n  // Earlier scroll.deleteAt might have messed up our selection,\\n  // so insertText's built in selection preservation is not reliable\\n  this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);\\n  this.quill.focus();\\n  Object.keys(context.format).forEach(name => {\\n    if (lineFormats[name] != null) return;\\n    if (Array.isArray(context.format[name])) return;\\n    if (name === 'link') return;\\n    this.quill.format(name, context.format[name], _quill2.default.sources.USER);\\n  });\\n}\\n\\nfunction makeCodeBlockHandler(indent) {\\n  return {\\n    key: 'Tab',\\n    shiftKey: !indent,\\n    format: { 'code-block': true },\\n    handler(range) {\\n      const CodeBlock = this.quill.scroll.query('code-block');\\n      const lines = range.length === 0 ? this.quill.getLines(range.index, 1) : this.quill.getLines(range);\\n      let index = range.index,\\n          length = range.length;\\n\\n      lines.forEach((line, i) => {\\n        if (indent) {\\n          line.insertAt(0, CodeBlock.TAB);\\n          if (i === 0) {\\n            index += CodeBlock.TAB.length;\\n          } else {\\n            length += CodeBlock.TAB.length;\\n          }\\n        } else if (line.domNode.textContent.startsWith(CodeBlock.TAB)) {\\n          line.deleteAt(0, CodeBlock.TAB.length);\\n          if (i === 0) {\\n            index -= CodeBlock.TAB.length;\\n          } else {\\n            length -= CodeBlock.TAB.length;\\n          }\\n        }\\n      });\\n      this.quill.update(_quill2.default.sources.USER);\\n      this.quill.setSelection(index, length, _quill2.default.sources.SILENT);\\n    }\\n  };\\n}\\n\\nfunction makeEmbedArrowHandler(key, shiftKey) {\\n  const where = key === 'ArrowLeft' ? 'prefix' : 'suffix';\\n  return {\\n    key,\\n    shiftKey,\\n    altKey: null,\\n    [where]: /^$/,\\n    handler(range) {\\n      let index = range.index;\\n\\n      if (key === 'ArrowRight') {\\n        index += range.length + 1;\\n      }\\n\\n      var _quill$getLeaf3 = this.quill.getLeaf(index),\\n          _quill$getLeaf4 = _slicedToArray(_quill$getLeaf3, 1);\\n\\n      const leaf = _quill$getLeaf4[0];\\n\\n      if (!(leaf instanceof _parchment.EmbedBlot)) return true;\\n      if (key === 'ArrowLeft') {\\n        if (shiftKey) {\\n          this.quill.setSelection(range.index - 1, range.length + 1, _quill2.default.sources.USER);\\n        } else {\\n          this.quill.setSelection(range.index - 1, _quill2.default.sources.USER);\\n        }\\n      } else if (shiftKey) {\\n        this.quill.setSelection(range.index, range.length + 1, _quill2.default.sources.USER);\\n      } else {\\n        this.quill.setSelection(range.index + range.length + 1, _quill2.default.sources.USER);\\n      }\\n      return false;\\n    }\\n  };\\n}\\n\\nfunction makeFormatHandler(format) {\\n  return {\\n    key: format[0],\\n    shortKey: true,\\n    handler(range, context) {\\n      this.quill.format(format, !context.format[format], _quill2.default.sources.USER);\\n    }\\n  };\\n}\\n\\nfunction makeTableArrowHandler(up) {\\n  return {\\n    key: up ? 'ArrowUp' : 'ArrowDown',\\n    collapsed: true,\\n    format: ['table'],\\n    handler(range, context) {\\n      // TODO move to table module\\n      const key = up ? 'prev' : 'next';\\n      const cell = context.line;\\n      const targetRow = cell.parent[key];\\n      if (targetRow != null) {\\n        if (targetRow.statics.blotName === 'table-row') {\\n          let targetCell = targetRow.children.head;\\n          let cur = cell;\\n          while (cur.prev != null) {\\n            cur = cur.prev;\\n            targetCell = targetCell.next;\\n          }\\n          const index = targetCell.offset(this.quill.scroll) + Math.min(context.offset, targetCell.length() - 1);\\n          this.quill.setSelection(index, 0, _quill2.default.sources.USER);\\n        }\\n      } else {\\n        const targetLine = cell.table()[key];\\n        if (targetLine != null) {\\n          if (up) {\\n            this.quill.setSelection(targetLine.offset(this.quill.scroll) + targetLine.length() - 1, 0, _quill2.default.sources.USER);\\n          } else {\\n            this.quill.setSelection(targetLine.offset(this.quill.scroll), 0, _quill2.default.sources.USER);\\n          }\\n        }\\n      }\\n      return false;\\n    }\\n  };\\n}\\n\\nfunction normalize(binding) {\\n  if (typeof binding === 'string' || typeof binding === 'number') {\\n    binding = { key: binding };\\n  } else if (typeof binding === 'object') {\\n    binding = (0, _clone2.default)(binding, false);\\n  } else {\\n    return null;\\n  }\\n  if (binding.shortKey) {\\n    binding[SHORTKEY] = binding.shortKey;\\n    delete binding.shortKey;\\n  }\\n  return binding;\\n}\\n\\nfunction tableSide(table, row, cell, offset) {\\n  if (row.prev == null && row.next == null) {\\n    if (cell.prev == null && cell.next == null) {\\n      return offset === 0 ? -1 : 1;\\n    }\\n    return cell.prev == null ? -1 : 1;\\n  } else if (row.prev == null) {\\n    return -1;\\n  } else if (row.next == null) {\\n    return 1;\\n  }\\n  return null;\\n}\\n\\nexports.default = Keyboard;\\nexports.SHORTKEY = SHORTKEY;\\nexports.normalize = normalize;\\n\\n//# sourceURL=webpack://Quill/./modules/keyboard.js?\");\n\n/***/ }),\n\n/***/ \"./modules/syntax.js\":\n/*!***************************!*\\\n  !*** ./modules/syntax.js ***!\n  \\***************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.default = exports.CodeToken = exports.CodeBlock = undefined;\\n\\nvar _quillDelta = __webpack_require__(/*! quill-delta */ \\\"./node_modules/quill-delta/lib/delta.js\\\");\\n\\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\\n\\nvar _parchment = __webpack_require__(/*! parchment */ \\\"./node_modules/parchment/src/parchment.ts\\\");\\n\\nvar _inline = __webpack_require__(/*! ../blots/inline */ \\\"./blots/inline.js\\\");\\n\\nvar _inline2 = _interopRequireDefault(_inline);\\n\\nvar _quill = __webpack_require__(/*! ../core/quill */ \\\"./core/quill.js\\\");\\n\\nvar _quill2 = _interopRequireDefault(_quill);\\n\\nvar _module = __webpack_require__(/*! ../core/module */ \\\"./core/module.js\\\");\\n\\nvar _module2 = _interopRequireDefault(_module);\\n\\nvar _block = __webpack_require__(/*! ../blots/block */ \\\"./blots/block.js\\\");\\n\\nvar _break = __webpack_require__(/*! ../blots/break */ \\\"./blots/break.js\\\");\\n\\nvar _break2 = _interopRequireDefault(_break);\\n\\nvar _cursor = __webpack_require__(/*! ../blots/cursor */ \\\"./blots/cursor.js\\\");\\n\\nvar _cursor2 = _interopRequireDefault(_cursor);\\n\\nvar _text = __webpack_require__(/*! ../blots/text */ \\\"./blots/text.js\\\");\\n\\nvar _text2 = _interopRequireDefault(_text);\\n\\nvar _code = __webpack_require__(/*! ../formats/code */ \\\"./formats/code.js\\\");\\n\\nvar _code2 = _interopRequireDefault(_code);\\n\\nvar _clipboard = __webpack_require__(/*! ../modules/clipboard */ \\\"./modules/clipboard.js\\\");\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\\n\\nconst TokenAttributor = new _parchment.ClassAttributor('code-token', 'hljs', {\\n  scope: _parchment.Scope.INLINE\\n});\\nclass CodeToken extends _inline2.default {\\n  static formats(node, scroll) {\\n    while (node != null && node !== scroll.domNode) {\\n      if (node.classList.contains(_code2.default.className)) {\\n        return super.formats(node, scroll);\\n      }\\n      node = node.parentNode;\\n    }\\n    return undefined;\\n  }\\n\\n  constructor(scroll, domNode, value) {\\n    super(scroll, domNode, value);\\n    TokenAttributor.add(this.domNode, value);\\n  }\\n\\n  format(format, value) {\\n    if (format !== CodeToken.blotName) {\\n      super.format(format, value);\\n    } else if (value) {\\n      TokenAttributor.add(this.domNode, value);\\n    } else {\\n      TokenAttributor.remove(this.domNode);\\n      this.domNode.classList.remove(this.statics.className);\\n    }\\n  }\\n\\n  optimize(...args) {\\n    super.optimize(...args);\\n    if (!TokenAttributor.value(this.domNode)) {\\n      this.unwrap();\\n    }\\n  }\\n}\\nCodeToken.blotName = 'code-token';\\nCodeToken.className = 'ql-token';\\n\\nclass SyntaxCodeBlock extends _code2.default {\\n  static create(value) {\\n    const domNode = super.create(value);\\n    if (typeof value === 'string') {\\n      domNode.setAttribute('data-language', value);\\n    }\\n    return domNode;\\n  }\\n\\n  static formats(domNode) {\\n    return domNode.getAttribute('data-language') || 'plain';\\n  }\\n\\n  static register() {} // Syntax module will register\\n\\n  delta() {\\n    if (this.cache.delta == null) {\\n      const delta = super.delta();\\n      this.cache.delta = delta.compose(new _quillDelta2.default().retain(delta.length(), {\\n        [CodeToken.blotName]: null\\n      }));\\n    }\\n    return this.cache.delta;\\n  }\\n\\n  format(name, value) {\\n    if (name === this.statics.blotName && value) {\\n      this.domNode.setAttribute('data-language', value);\\n    } else {\\n      super.format(name, value);\\n    }\\n  }\\n\\n  replaceWith(name, value) {\\n    this.formatAt(0, this.length(), CodeToken.blotName, false);\\n    return super.replaceWith(name, value);\\n  }\\n}\\n\\nclass SyntaxCodeBlockContainer extends _code.CodeBlockContainer {\\n  attach() {\\n    super.attach();\\n    this.forceNext = false;\\n    this.scroll.emitMount(this);\\n  }\\n\\n  format(name, value) {\\n    if (name === SyntaxCodeBlock.blotName) {\\n      this.forceNext = true;\\n      this.children.forEach(child => {\\n        child.format(name, value);\\n      });\\n    }\\n  }\\n\\n  formatAt(index, length, name, value) {\\n    if (name === SyntaxCodeBlock.blotName) {\\n      this.forceNext = true;\\n    }\\n    super.formatAt(index, length, name, value);\\n  }\\n\\n  highlight(highlight, forced = false) {\\n    if (this.children.head == null) return;\\n    const nodes = Array.from(this.domNode.childNodes).filter(node => node !== this.uiNode);\\n    const text = `${nodes.map(node => node.textContent).join('\\\\n')}\\\\n`;\\n    const language = SyntaxCodeBlock.formats(this.children.head.domNode);\\n    if (forced || this.forceNext || this.cachedText !== text) {\\n      if (text.trim().length > 0 || this.cachedText == null) {\\n        const oldDelta = this.children.reduce((delta, child) => {\\n          return delta.concat((0, _block.blockDelta)(child));\\n        }, new _quillDelta2.default());\\n        const delta = highlight(text, language);\\n        oldDelta.diff(delta).reduce((index, { retain, attributes }) => {\\n          // Should be all retains\\n          if (!retain) return index;\\n          if (attributes) {\\n            Object.keys(attributes).forEach(format => {\\n              if ([SyntaxCodeBlock.blotName, CodeToken.blotName].includes(format)) {\\n                this.formatAt(index, retain, format, attributes[format]);\\n              }\\n            });\\n          }\\n          return index + retain;\\n        }, 0);\\n      }\\n      this.cachedText = text;\\n      this.forceNext = false;\\n    }\\n  }\\n\\n  optimize(context) {\\n    super.optimize(context);\\n    if (this.parent != null && this.children.head != null && this.uiNode != null) {\\n      const language = SyntaxCodeBlock.formats(this.children.head.domNode);\\n      if (language !== this.uiNode.value) {\\n        this.uiNode.value = language;\\n      }\\n    }\\n  }\\n}\\nSyntaxCodeBlockContainer.allowedChildren = [SyntaxCodeBlock];\\nSyntaxCodeBlock.requiredContainer = SyntaxCodeBlockContainer;\\nSyntaxCodeBlock.allowedChildren = [CodeToken, _cursor2.default, _text2.default, _break2.default];\\n\\nclass Syntax extends _module2.default {\\n  static register() {\\n    _quill2.default.register(CodeToken, true);\\n    _quill2.default.register(SyntaxCodeBlock, true);\\n    _quill2.default.register(SyntaxCodeBlockContainer, true);\\n  }\\n\\n  constructor(quill, options) {\\n    super(quill, options);\\n    if (this.options.hljs == null) {\\n      throw new Error('Syntax module requires highlight.js. Please include the library on the page before Quill.');\\n    }\\n    this.highlightBlot = this.highlightBlot.bind(this);\\n    this.initListener();\\n    this.initTimer();\\n  }\\n\\n  initListener() {\\n    this.quill.on(_quill2.default.events.SCROLL_BLOT_MOUNT, blot => {\\n      if (!(blot instanceof SyntaxCodeBlockContainer)) return;\\n      const select = this.quill.root.ownerDocument.createElement('select');\\n      this.options.languages.forEach(({ key, label }) => {\\n        const option = select.ownerDocument.createElement('option');\\n        option.textContent = label;\\n        option.setAttribute('value', key);\\n        select.appendChild(option);\\n      });\\n      select.addEventListener('change', () => {\\n        blot.format(SyntaxCodeBlock.blotName, select.value);\\n        this.quill.root.focus(); // Prevent scrolling\\n        this.highlight(blot, true);\\n      });\\n      if (blot.uiNode == null) {\\n        blot.attachUI(select);\\n        if (blot.children.head) {\\n          select.value = SyntaxCodeBlock.formats(blot.children.head.domNode);\\n        }\\n      }\\n    });\\n  }\\n\\n  initTimer() {\\n    let timer = null;\\n    this.quill.on(_quill2.default.events.SCROLL_OPTIMIZE, () => {\\n      clearTimeout(timer);\\n      timer = setTimeout(() => {\\n        this.highlight();\\n        timer = null;\\n      }, this.options.interval);\\n    });\\n  }\\n\\n  highlight(blot = null, force = false) {\\n    if (this.quill.selection.composing) return;\\n    this.quill.update(_quill2.default.sources.USER);\\n    const range = this.quill.getSelection();\\n    const blots = blot == null ? this.quill.scroll.descendants(SyntaxCodeBlockContainer) : [blot];\\n    blots.forEach(container => {\\n      container.highlight(this.highlightBlot, force);\\n    });\\n    this.quill.update(_quill2.default.sources.SILENT);\\n    if (range != null) {\\n      this.quill.setSelection(range, _quill2.default.sources.SILENT);\\n    }\\n  }\\n\\n  highlightBlot(text, language = 'plain') {\\n    if (language === 'plain') {\\n      return text.replace(/[&<>\\\"']/g, s => {\\n        // https://lodash.com/docs#escape\\n        const entityMap = {\\n          '&': '&amp;',\\n          '<': '&lt;',\\n          '>': '&gt;',\\n          '\\\"': '&quot;',\\n          \\\"'\\\": '&#39;'\\n        };\\n        return entityMap[s];\\n      }).split('\\\\n').reduce((delta, line, i) => {\\n        if (i !== 0) {\\n          delta.insert('\\\\n', { [_code2.default.blotName]: language });\\n        }\\n        return delta.insert(line);\\n      }, new _quillDelta2.default());\\n    }\\n    const container = this.quill.root.ownerDocument.createElement('div');\\n    container.classList.add(_code2.default.className);\\n    container.innerHTML = this.options.hljs.highlight(language, text).value;\\n    return (0, _clipboard.traverse)(this.quill.scroll, container, [(node, delta) => {\\n      const value = TokenAttributor.value(node);\\n      if (value) {\\n        return delta.compose(new _quillDelta2.default().retain(delta.length(), {\\n          [CodeToken.blotName]: value\\n        }));\\n      }\\n      return delta;\\n    }], [(node, delta) => {\\n      return node.data.split('\\\\n').reduce((memo, nodeText, i) => {\\n        if (i !== 0) memo.insert('\\\\n', { [_code2.default.blotName]: language });\\n        return memo.insert(nodeText);\\n      }, delta);\\n    }], new WeakMap());\\n  }\\n}\\nSyntax.DEFAULTS = {\\n  hljs: (() => {\\n    return window.hljs;\\n  })(),\\n  interval: 1000,\\n  languages: [{ key: 'plain', label: 'Plain' }, { key: 'bash', label: 'Bash' }, { key: 'cpp', label: 'C++' }, { key: 'cs', label: 'C#' }, { key: 'css', label: 'CSS' }, { key: 'diff', label: 'Diff' }, { key: 'xml', label: 'HTML/XML' }, { key: 'java', label: 'Java' }, { key: 'javascript', label: 'Javascript' }, { key: 'markdown', label: 'Markdown' }, { key: 'php', label: 'PHP' }, { key: 'python', label: 'Python' }, { key: 'ruby', label: 'Ruby' }, { key: 'sql', label: 'SQL' }]\\n};\\n\\nexports.CodeBlock = SyntaxCodeBlock;\\nexports.CodeToken = CodeToken;\\nexports.default = Syntax;\\n\\n//# sourceURL=webpack://Quill/./modules/syntax.js?\");\n\n/***/ }),\n\n/***/ \"./modules/table.js\":\n/*!**************************!*\\\n  !*** ./modules/table.js ***!\n  \\**************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\n\\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\\\"return\\\"]) _i[\\\"return\\\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\\\"Invalid attempt to destructure non-iterable instance\\\"); } }; }();\\n\\nvar _quillDelta = __webpack_require__(/*! quill-delta */ \\\"./node_modules/quill-delta/lib/delta.js\\\");\\n\\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\\n\\nvar _quill = __webpack_require__(/*! ../core/quill */ \\\"./core/quill.js\\\");\\n\\nvar _quill2 = _interopRequireDefault(_quill);\\n\\nvar _module = __webpack_require__(/*! ../core/module */ \\\"./core/module.js\\\");\\n\\nvar _module2 = _interopRequireDefault(_module);\\n\\nvar _table = __webpack_require__(/*! ../formats/table */ \\\"./formats/table.js\\\");\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\\n\\nclass Table extends _module2.default {\\n  static register() {\\n    _quill2.default.register(_table.TableCell);\\n    _quill2.default.register(_table.TableRow);\\n    _quill2.default.register(_table.TableBody);\\n    _quill2.default.register(_table.TableContainer);\\n  }\\n\\n  constructor(...args) {\\n    super(...args);\\n    this.listenBalanceCells();\\n  }\\n\\n  balanceTables() {\\n    this.quill.scroll.descendants(_table.TableContainer).forEach(table => {\\n      table.balanceCells();\\n    });\\n  }\\n\\n  deleteColumn() {\\n    var _getTable = this.getTable(),\\n        _getTable2 = _slicedToArray(_getTable, 3);\\n\\n    const table = _getTable2[0],\\n          row = _getTable2[1],\\n          cell = _getTable2[2];\\n\\n    if (cell == null) return;\\n    const column = row.children.indexOf(cell);\\n    table.deleteColumn(column);\\n    this.quill.update(_quill2.default.sources.USER);\\n  }\\n\\n  deleteRow() {\\n    var _getTable3 = this.getTable(),\\n        _getTable4 = _slicedToArray(_getTable3, 2);\\n\\n    const row = _getTable4[1];\\n\\n    if (row == null) return;\\n    row.remove();\\n    this.quill.update(_quill2.default.sources.USER);\\n  }\\n\\n  deleteTable() {\\n    var _getTable5 = this.getTable(),\\n        _getTable6 = _slicedToArray(_getTable5, 1);\\n\\n    const table = _getTable6[0];\\n\\n    if (table == null) return;\\n    const offset = table.offset();\\n    table.remove();\\n    this.quill.update(_quill2.default.sources.USER);\\n    this.quill.setSelection(offset, _quill2.default.sources.SILENT);\\n  }\\n\\n  getTable(range = this.quill.getSelection()) {\\n    if (range == null) return [null, null, null, -1];\\n\\n    var _quill$getLine = this.quill.getLine(range.index),\\n        _quill$getLine2 = _slicedToArray(_quill$getLine, 2);\\n\\n    const cell = _quill$getLine2[0],\\n          offset = _quill$getLine2[1];\\n\\n    if (cell == null || cell.statics.blotName !== _table.TableCell.blotName) {\\n      return [null, null, null, -1];\\n    }\\n    const row = cell.parent;\\n    const table = row.parent.parent;\\n    return [table, row, cell, offset];\\n  }\\n\\n  insertColumn(offset) {\\n    const range = this.quill.getSelection();\\n\\n    var _getTable7 = this.getTable(range),\\n        _getTable8 = _slicedToArray(_getTable7, 3);\\n\\n    const table = _getTable8[0],\\n          row = _getTable8[1],\\n          cell = _getTable8[2];\\n\\n    if (cell == null) return;\\n    const column = row.children.offset(cell);\\n    table.insertColumn(column + offset);\\n    this.quill.update(_quill2.default.sources.USER);\\n    let shift = row.parent.children.indexOf(row);\\n    if (offset === 0) {\\n      shift += 1;\\n    }\\n    this.quill.setSelection(range.index + shift, range.length, _quill2.default.sources.SILENT);\\n  }\\n\\n  insertColumnLeft() {\\n    this.insertColumn(0);\\n  }\\n\\n  insertColumnRight() {\\n    this.insertColumn(1);\\n  }\\n\\n  insertRow(offset) {\\n    const range = this.quill.getSelection();\\n\\n    var _getTable9 = this.getTable(range),\\n        _getTable10 = _slicedToArray(_getTable9, 3);\\n\\n    const table = _getTable10[0],\\n          row = _getTable10[1],\\n          cell = _getTable10[2];\\n\\n    if (cell == null) return;\\n    const index = row.parent.children.indexOf(row);\\n    table.insertRow(index + offset);\\n    this.quill.update(_quill2.default.sources.USER);\\n    if (offset > 0) {\\n      this.quill.setSelection(range, _quill2.default.sources.SILENT);\\n    } else {\\n      this.quill.setSelection(range.index + row.children.length, range.length, _quill2.default.sources.SILENT);\\n    }\\n  }\\n\\n  insertRowAbove() {\\n    this.insertRow(0);\\n  }\\n\\n  insertRowBelow() {\\n    this.insertRow(1);\\n  }\\n\\n  insertTable(rows, columns) {\\n    const range = this.quill.getSelection();\\n    if (range == null) return;\\n    const delta = new Array(rows).fill(0).reduce(memo => {\\n      const text = new Array(columns).fill('\\\\n').join('');\\n      return memo.insert(text, { table: (0, _table.tableId)() });\\n    }, new _quillDelta2.default().retain(range.index));\\n    this.quill.updateContents(delta, _quill2.default.sources.USER);\\n    this.quill.setSelection(range.index, _quill2.default.sources.SILENT);\\n    this.balanceTables();\\n  }\\n\\n  listenBalanceCells() {\\n    this.quill.on(_quill2.default.events.SCROLL_OPTIMIZE, mutations => {\\n      mutations.some(mutation => {\\n        if (mutation.target.tagName === 'TABLE') {\\n          this.quill.once(_quill2.default.events.TEXT_CHANGE, (delta, old, source) => {\\n            if (source !== _quill2.default.sources.USER) return;\\n            this.balanceTables();\\n          });\\n          return true;\\n        }\\n        return false;\\n      });\\n    });\\n  }\\n}\\n\\nexports.default = Table;\\n\\n//# sourceURL=webpack://Quill/./modules/table.js?\");\n\n/***/ }),\n\n/***/ \"./modules/toolbar.js\":\n/*!****************************!*\\\n  !*** ./modules/toolbar.js ***!\n  \\****************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.addControls = exports.default = undefined;\\n\\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\\\"return\\\"]) _i[\\\"return\\\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\\\"Invalid attempt to destructure non-iterable instance\\\"); } }; }();\\n\\nvar _quillDelta = __webpack_require__(/*! quill-delta */ \\\"./node_modules/quill-delta/lib/delta.js\\\");\\n\\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\\n\\nvar _parchment = __webpack_require__(/*! parchment */ \\\"./node_modules/parchment/src/parchment.ts\\\");\\n\\nvar _quill = __webpack_require__(/*! ../core/quill */ \\\"./core/quill.js\\\");\\n\\nvar _quill2 = _interopRequireDefault(_quill);\\n\\nvar _logger = __webpack_require__(/*! ../core/logger */ \\\"./core/logger.js\\\");\\n\\nvar _logger2 = _interopRequireDefault(_logger);\\n\\nvar _module = __webpack_require__(/*! ../core/module */ \\\"./core/module.js\\\");\\n\\nvar _module2 = _interopRequireDefault(_module);\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\\n\\nconst debug = (0, _logger2.default)('quill:toolbar');\\n\\nclass Toolbar extends _module2.default {\\n  constructor(quill, options) {\\n    super(quill, options);\\n    if (Array.isArray(this.options.container)) {\\n      const container = document.createElement('div');\\n      addControls(container, this.options.container);\\n      quill.container.parentNode.insertBefore(container, quill.container);\\n      this.container = container;\\n    } else if (typeof this.options.container === 'string') {\\n      this.container = document.querySelector(this.options.container);\\n    } else {\\n      this.container = this.options.container;\\n    }\\n    if (!(this.container instanceof HTMLElement)) {\\n      return debug.error('Container required for toolbar', this.options);\\n    }\\n    this.container.classList.add('ql-toolbar');\\n    this.controls = [];\\n    this.handlers = {};\\n    Object.keys(this.options.handlers).forEach(format => {\\n      this.addHandler(format, this.options.handlers[format]);\\n    });\\n    Array.from(this.container.querySelectorAll('button, select')).forEach(input => {\\n      this.attach(input);\\n    });\\n    this.quill.on(_quill2.default.events.EDITOR_CHANGE, (type, range) => {\\n      if (type === _quill2.default.events.SELECTION_CHANGE) {\\n        this.update(range);\\n      }\\n    });\\n    this.quill.on(_quill2.default.events.SCROLL_OPTIMIZE, () => {\\n      var _quill$selection$getR = this.quill.selection.getRange(),\\n          _quill$selection$getR2 = _slicedToArray(_quill$selection$getR, 1);\\n\\n      const range = _quill$selection$getR2[0]; // quill.getSelection triggers update\\n\\n      this.update(range);\\n    });\\n  }\\n\\n  addHandler(format, handler) {\\n    this.handlers[format] = handler;\\n  }\\n\\n  attach(input) {\\n    let format = Array.from(input.classList).find(className => {\\n      return className.indexOf('ql-') === 0;\\n    });\\n    if (!format) return;\\n    format = format.slice('ql-'.length);\\n    if (input.tagName === 'BUTTON') {\\n      input.setAttribute('type', 'button');\\n    }\\n    if (this.handlers[format] == null && this.quill.scroll.query(format) == null) {\\n      debug.warn('ignoring attaching to nonexistent format', format, input);\\n      return;\\n    }\\n    const eventName = input.tagName === 'SELECT' ? 'change' : 'click';\\n    input.addEventListener(eventName, e => {\\n      let value;\\n      if (input.tagName === 'SELECT') {\\n        if (input.selectedIndex < 0) return;\\n        const selected = input.options[input.selectedIndex];\\n        if (selected.hasAttribute('selected')) {\\n          value = false;\\n        } else {\\n          value = selected.value || false;\\n        }\\n      } else {\\n        if (input.classList.contains('ql-active')) {\\n          value = false;\\n        } else {\\n          value = input.value || !input.hasAttribute('value');\\n        }\\n        e.preventDefault();\\n      }\\n      this.quill.focus();\\n\\n      var _quill$selection$getR3 = this.quill.selection.getRange(),\\n          _quill$selection$getR4 = _slicedToArray(_quill$selection$getR3, 1);\\n\\n      const range = _quill$selection$getR4[0];\\n\\n      if (this.handlers[format] != null) {\\n        this.handlers[format].call(this, value);\\n      } else if (this.quill.scroll.query(format).prototype instanceof _parchment.EmbedBlot) {\\n        value = prompt(`Enter ${format}`); // eslint-disable-line no-alert\\n        if (!value) return;\\n        this.quill.updateContents(new _quillDelta2.default().retain(range.index).delete(range.length).insert({ [format]: value }), _quill2.default.sources.USER);\\n      } else {\\n        this.quill.format(format, value, _quill2.default.sources.USER);\\n      }\\n      this.update(range);\\n    });\\n    this.controls.push([format, input]);\\n  }\\n\\n  update(range) {\\n    const formats = range == null ? {} : this.quill.getFormat(range);\\n    this.controls.forEach(pair => {\\n      var _pair = _slicedToArray(pair, 2);\\n\\n      const format = _pair[0],\\n            input = _pair[1];\\n\\n      if (input.tagName === 'SELECT') {\\n        let option;\\n        if (range == null) {\\n          option = null;\\n        } else if (formats[format] == null) {\\n          option = input.querySelector('option[selected]');\\n        } else if (!Array.isArray(formats[format])) {\\n          let value = formats[format];\\n          if (typeof value === 'string') {\\n            value = value.replace(/\\\"/g, '\\\\\\\\\\\"');\\n          }\\n          option = input.querySelector(`option[value=\\\"${value}\\\"]`);\\n        }\\n        if (option == null) {\\n          input.value = ''; // TODO make configurable?\\n          input.selectedIndex = -1;\\n        } else {\\n          option.selected = true;\\n        }\\n      } else if (range == null) {\\n        input.classList.remove('ql-active');\\n      } else if (input.hasAttribute('value')) {\\n        // both being null should match (default values)\\n        // '1' should match with 1 (headers)\\n        const isActive = formats[format] === input.getAttribute('value') || formats[format] != null && formats[format].toString() === input.getAttribute('value') || formats[format] == null && !input.getAttribute('value');\\n        input.classList.toggle('ql-active', isActive);\\n      } else {\\n        input.classList.toggle('ql-active', formats[format] != null);\\n      }\\n    });\\n  }\\n}\\nToolbar.DEFAULTS = {};\\n\\nfunction addButton(container, format, value) {\\n  const input = document.createElement('button');\\n  input.setAttribute('type', 'button');\\n  input.classList.add(`ql-${format}`);\\n  if (value != null) {\\n    input.value = value;\\n  }\\n  container.appendChild(input);\\n}\\n\\nfunction addControls(container, groups) {\\n  if (!Array.isArray(groups[0])) {\\n    groups = [groups];\\n  }\\n  groups.forEach(controls => {\\n    const group = document.createElement('span');\\n    group.classList.add('ql-formats');\\n    controls.forEach(control => {\\n      if (typeof control === 'string') {\\n        addButton(group, control);\\n      } else {\\n        const format = Object.keys(control)[0];\\n        const value = control[format];\\n        if (Array.isArray(value)) {\\n          addSelect(group, format, value);\\n        } else {\\n          addButton(group, format, value);\\n        }\\n      }\\n    });\\n    container.appendChild(group);\\n  });\\n}\\n\\nfunction addSelect(container, format, values) {\\n  const input = document.createElement('select');\\n  input.classList.add(`ql-${format}`);\\n  values.forEach(value => {\\n    const option = document.createElement('option');\\n    if (value !== false) {\\n      option.setAttribute('value', value);\\n    } else {\\n      option.setAttribute('selected', 'selected');\\n    }\\n    input.appendChild(option);\\n  });\\n  container.appendChild(input);\\n}\\n\\nToolbar.DEFAULTS = {\\n  container: null,\\n  handlers: {\\n    clean() {\\n      const range = this.quill.getSelection();\\n      if (range == null) return;\\n      if (range.length === 0) {\\n        const formats = this.quill.getFormat();\\n        Object.keys(formats).forEach(name => {\\n          // Clean functionality in existing apps only clean inline formats\\n          if (this.quill.scroll.query(name, _parchment.Scope.INLINE) != null) {\\n            this.quill.format(name, false, _quill2.default.sources.USER);\\n          }\\n        });\\n      } else {\\n        this.quill.removeFormat(range, _quill2.default.sources.USER);\\n      }\\n    },\\n    direction(value) {\\n      var _quill$getFormat = this.quill.getFormat();\\n\\n      const align = _quill$getFormat.align;\\n\\n      if (value === 'rtl' && align == null) {\\n        this.quill.format('align', 'right', _quill2.default.sources.USER);\\n      } else if (!value && align === 'right') {\\n        this.quill.format('align', false, _quill2.default.sources.USER);\\n      }\\n      this.quill.format('direction', value, _quill2.default.sources.USER);\\n    },\\n    indent(value) {\\n      const range = this.quill.getSelection();\\n      const formats = this.quill.getFormat(range);\\n      const indent = parseInt(formats.indent || 0, 10);\\n      if (value === '+1' || value === '-1') {\\n        let modifier = value === '+1' ? 1 : -1;\\n        if (formats.direction === 'rtl') modifier *= -1;\\n        this.quill.format('indent', indent + modifier, _quill2.default.sources.USER);\\n      }\\n    },\\n    link(value) {\\n      if (value === true) {\\n        value = prompt('Enter link URL:'); // eslint-disable-line no-alert\\n      }\\n      this.quill.format('link', value, _quill2.default.sources.USER);\\n    },\\n    list(value) {\\n      const range = this.quill.getSelection();\\n      const formats = this.quill.getFormat(range);\\n      if (value === 'check') {\\n        if (formats.list === 'checked' || formats.list === 'unchecked') {\\n          this.quill.format('list', false, _quill2.default.sources.USER);\\n        } else {\\n          this.quill.format('list', 'unchecked', _quill2.default.sources.USER);\\n        }\\n      } else {\\n        this.quill.format('list', value, _quill2.default.sources.USER);\\n      }\\n    }\\n  }\\n};\\n\\nexports.default = Toolbar;\\nexports.addControls = addControls;\\n\\n//# sourceURL=webpack://Quill/./modules/toolbar.js?\");\n\n/***/ }),\n\n/***/ \"./modules/uploader.js\":\n/*!*****************************!*\\\n  !*** ./modules/uploader.js ***!\n  \\*****************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\n\\nvar _quillDelta = __webpack_require__(/*! quill-delta */ \\\"./node_modules/quill-delta/lib/delta.js\\\");\\n\\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\\n\\nvar _emitter = __webpack_require__(/*! ../core/emitter */ \\\"./core/emitter.js\\\");\\n\\nvar _emitter2 = _interopRequireDefault(_emitter);\\n\\nvar _module = __webpack_require__(/*! ../core/module */ \\\"./core/module.js\\\");\\n\\nvar _module2 = _interopRequireDefault(_module);\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\\n\\nclass Uploader extends _module2.default {\\n  constructor(quill, options) {\\n    super(quill, options);\\n    quill.root.addEventListener('drop', e => {\\n      e.preventDefault();\\n      let native;\\n      if (document.caretRangeFromPoint) {\\n        native = document.caretRangeFromPoint(e.clientX, e.clientY);\\n      } else if (document.caretPositionFromPoint) {\\n        const position = document.caretPositionFromPoint(e.clientX, e.clientY);\\n        native = document.createRange();\\n        native.setStart(position.offsetNode, position.offset);\\n        native.setEnd(position.offsetNode, position.offset);\\n      } else {\\n        return;\\n      }\\n      const normalized = quill.selection.normalizeNative(native);\\n      const range = quill.selection.normalizedToRange(normalized);\\n      this.upload(range, e.dataTransfer.files);\\n    });\\n  }\\n\\n  upload(range, files) {\\n    const uploads = [];\\n    Array.from(files).forEach(file => {\\n      if (file && this.options.mimetypes.includes(file.type)) {\\n        uploads.push(file);\\n      }\\n    });\\n    if (uploads.length > 0) {\\n      this.options.handler.call(this, range, uploads);\\n    }\\n  }\\n}\\n\\nUploader.DEFAULTS = {\\n  mimetypes: ['image/png', 'image/jpeg'],\\n  handler(range, files) {\\n    const promises = files.map(file => {\\n      return new Promise(resolve => {\\n        const reader = new FileReader();\\n        reader.onload = e => {\\n          resolve(e.target.result);\\n        };\\n        reader.readAsDataURL(file);\\n      });\\n    });\\n    Promise.all(promises).then(images => {\\n      const update = images.reduce((delta, image) => {\\n        return delta.insert({ image });\\n      }, new _quillDelta2.default().retain(range.index).delete(range.length));\\n      this.quill.updateContents(update, _emitter2.default.sources.USER);\\n      this.quill.setSelection(range.index + images.length, _emitter2.default.sources.SILENT);\\n    });\\n  }\\n};\\n\\nexports.default = Uploader;\\n\\n//# sourceURL=webpack://Quill/./modules/uploader.js?\");\n\n/***/ }),\n\n/***/ \"./node_modules/clone/clone.js\":\n/*!*************************************!*\\\n  !*** ./node_modules/clone/clone.js ***!\n  \\*************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\neval(\"var clone = (function() {\\n'use strict';\\n\\nfunction _instanceof(obj, type) {\\n  return type != null && obj instanceof type;\\n}\\n\\nvar nativeMap;\\ntry {\\n  nativeMap = Map;\\n} catch(_) {\\n  // maybe a reference error because no `Map`. Give it a dummy value that no\\n  // value will ever be an instanceof.\\n  nativeMap = function() {};\\n}\\n\\nvar nativeSet;\\ntry {\\n  nativeSet = Set;\\n} catch(_) {\\n  nativeSet = function() {};\\n}\\n\\nvar nativePromise;\\ntry {\\n  nativePromise = Promise;\\n} catch(_) {\\n  nativePromise = function() {};\\n}\\n\\n/**\\n * Clones (copies) an Object using deep copying.\\n *\\n * This function supports circular references by default, but if you are certain\\n * there are no circular references in your object, you can save some CPU time\\n * by calling clone(obj, false).\\n *\\n * Caution: if `circular` is false and `parent` contains circular references,\\n * your program may enter an infinite loop and crash.\\n *\\n * @param `parent` - the object to be cloned\\n * @param `circular` - set to true if the object to be cloned may contain\\n *    circular references. (optional - true by default)\\n * @param `depth` - set to a number if the object is only to be cloned to\\n *    a particular depth. (optional - defaults to Infinity)\\n * @param `prototype` - sets the prototype to be used when cloning an object.\\n *    (optional - defaults to parent prototype).\\n * @param `includeNonEnumerable` - set to true if the non-enumerable properties\\n *    should be cloned as well. Non-enumerable properties on the prototype\\n *    chain will be ignored. (optional - false by default)\\n*/\\nfunction clone(parent, circular, depth, prototype, includeNonEnumerable) {\\n  if (typeof circular === 'object') {\\n    depth = circular.depth;\\n    prototype = circular.prototype;\\n    includeNonEnumerable = circular.includeNonEnumerable;\\n    circular = circular.circular;\\n  }\\n  // maintain two arrays for circular references, where corresponding parents\\n  // and children have the same index\\n  var allParents = [];\\n  var allChildren = [];\\n\\n  var useBuffer = typeof Buffer != 'undefined';\\n\\n  if (typeof circular == 'undefined')\\n    circular = true;\\n\\n  if (typeof depth == 'undefined')\\n    depth = Infinity;\\n\\n  // recurse this function so we don't reset allParents and allChildren\\n  function _clone(parent, depth) {\\n    // cloning null always returns null\\n    if (parent === null)\\n      return null;\\n\\n    if (depth === 0)\\n      return parent;\\n\\n    var child;\\n    var proto;\\n    if (typeof parent != 'object') {\\n      return parent;\\n    }\\n\\n    if (_instanceof(parent, nativeMap)) {\\n      child = new nativeMap();\\n    } else if (_instanceof(parent, nativeSet)) {\\n      child = new nativeSet();\\n    } else if (_instanceof(parent, nativePromise)) {\\n      child = new nativePromise(function (resolve, reject) {\\n        parent.then(function(value) {\\n          resolve(_clone(value, depth - 1));\\n        }, function(err) {\\n          reject(_clone(err, depth - 1));\\n        });\\n      });\\n    } else if (clone.__isArray(parent)) {\\n      child = [];\\n    } else if (clone.__isRegExp(parent)) {\\n      child = new RegExp(parent.source, __getRegExpFlags(parent));\\n      if (parent.lastIndex) child.lastIndex = parent.lastIndex;\\n    } else if (clone.__isDate(parent)) {\\n      child = new Date(parent.getTime());\\n    } else if (useBuffer && Buffer.isBuffer(parent)) {\\n      if (Buffer.allocUnsafe) {\\n        // Node.js >= 4.5.0\\n        child = Buffer.allocUnsafe(parent.length);\\n      } else {\\n        // Older Node.js versions\\n        child = new Buffer(parent.length);\\n      }\\n      parent.copy(child);\\n      return child;\\n    } else if (_instanceof(parent, Error)) {\\n      child = Object.create(parent);\\n    } else {\\n      if (typeof prototype == 'undefined') {\\n        proto = Object.getPrototypeOf(parent);\\n        child = Object.create(proto);\\n      }\\n      else {\\n        child = Object.create(prototype);\\n        proto = prototype;\\n      }\\n    }\\n\\n    if (circular) {\\n      var index = allParents.indexOf(parent);\\n\\n      if (index != -1) {\\n        return allChildren[index];\\n      }\\n      allParents.push(parent);\\n      allChildren.push(child);\\n    }\\n\\n    if (_instanceof(parent, nativeMap)) {\\n      parent.forEach(function(value, key) {\\n        var keyChild = _clone(key, depth - 1);\\n        var valueChild = _clone(value, depth - 1);\\n        child.set(keyChild, valueChild);\\n      });\\n    }\\n    if (_instanceof(parent, nativeSet)) {\\n      parent.forEach(function(value) {\\n        var entryChild = _clone(value, depth - 1);\\n        child.add(entryChild);\\n      });\\n    }\\n\\n    for (var i in parent) {\\n      var attrs;\\n      if (proto) {\\n        attrs = Object.getOwnPropertyDescriptor(proto, i);\\n      }\\n\\n      if (attrs && attrs.set == null) {\\n        continue;\\n      }\\n      child[i] = _clone(parent[i], depth - 1);\\n    }\\n\\n    if (Object.getOwnPropertySymbols) {\\n      var symbols = Object.getOwnPropertySymbols(parent);\\n      for (var i = 0; i < symbols.length; i++) {\\n        // Don't need to worry about cloning a symbol because it is a primitive,\\n        // like a number or string.\\n        var symbol = symbols[i];\\n        var descriptor = Object.getOwnPropertyDescriptor(parent, symbol);\\n        if (descriptor && !descriptor.enumerable && !includeNonEnumerable) {\\n          continue;\\n        }\\n        child[symbol] = _clone(parent[symbol], depth - 1);\\n        if (!descriptor.enumerable) {\\n          Object.defineProperty(child, symbol, {\\n            enumerable: false\\n          });\\n        }\\n      }\\n    }\\n\\n    if (includeNonEnumerable) {\\n      var allPropertyNames = Object.getOwnPropertyNames(parent);\\n      for (var i = 0; i < allPropertyNames.length; i++) {\\n        var propertyName = allPropertyNames[i];\\n        var descriptor = Object.getOwnPropertyDescriptor(parent, propertyName);\\n        if (descriptor && descriptor.enumerable) {\\n          continue;\\n        }\\n        child[propertyName] = _clone(parent[propertyName], depth - 1);\\n        Object.defineProperty(child, propertyName, {\\n          enumerable: false\\n        });\\n      }\\n    }\\n\\n    return child;\\n  }\\n\\n  return _clone(parent, depth);\\n}\\n\\n/**\\n * Simple flat clone using prototype, accepts only objects, usefull for property\\n * override on FLAT configuration object (no nested props).\\n *\\n * USE WITH CAUTION! This may not behave as you wish if you do not know how this\\n * works.\\n */\\nclone.clonePrototype = function clonePrototype(parent) {\\n  if (parent === null)\\n    return null;\\n\\n  var c = function () {};\\n  c.prototype = parent;\\n  return new c();\\n};\\n\\n// private utility functions\\n\\nfunction __objToStr(o) {\\n  return Object.prototype.toString.call(o);\\n}\\nclone.__objToStr = __objToStr;\\n\\nfunction __isDate(o) {\\n  return typeof o === 'object' && __objToStr(o) === '[object Date]';\\n}\\nclone.__isDate = __isDate;\\n\\nfunction __isArray(o) {\\n  return typeof o === 'object' && __objToStr(o) === '[object Array]';\\n}\\nclone.__isArray = __isArray;\\n\\nfunction __isRegExp(o) {\\n  return typeof o === 'object' && __objToStr(o) === '[object RegExp]';\\n}\\nclone.__isRegExp = __isRegExp;\\n\\nfunction __getRegExpFlags(re) {\\n  var flags = '';\\n  if (re.global) flags += 'g';\\n  if (re.ignoreCase) flags += 'i';\\n  if (re.multiline) flags += 'm';\\n  return flags;\\n}\\nclone.__getRegExpFlags = __getRegExpFlags;\\n\\nreturn clone;\\n})();\\n\\nif (typeof module === 'object' && module.exports) {\\n  module.exports = clone;\\n}\\n\\n\\n//# sourceURL=webpack://Quill/./node_modules/clone/clone.js?\");\n\n/***/ }),\n\n/***/ \"./node_modules/deep-equal/index.js\":\n/*!******************************************!*\\\n  !*** ./node_modules/deep-equal/index.js ***!\n  \\******************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\neval(\"var pSlice = Array.prototype.slice;\\nvar objectKeys = __webpack_require__(/*! ./lib/keys.js */ \\\"./node_modules/deep-equal/lib/keys.js\\\");\\nvar isArguments = __webpack_require__(/*! ./lib/is_arguments.js */ \\\"./node_modules/deep-equal/lib/is_arguments.js\\\");\\n\\nvar deepEqual = module.exports = function (actual, expected, opts) {\\n  if (!opts) opts = {};\\n  // 7.1. All identical values are equivalent, as determined by ===.\\n  if (actual === expected) {\\n    return true;\\n\\n  } else if (actual instanceof Date && expected instanceof Date) {\\n    return actual.getTime() === expected.getTime();\\n\\n  // 7.3. Other pairs that do not both pass typeof value == 'object',\\n  // equivalence is determined by ==.\\n  } else if (!actual || !expected || typeof actual != 'object' && typeof expected != 'object') {\\n    return opts.strict ? actual === expected : actual == expected;\\n\\n  // 7.4. For all other Object pairs, including Array objects, equivalence is\\n  // determined by having the same number of owned properties (as verified\\n  // with Object.prototype.hasOwnProperty.call), the same set of keys\\n  // (although not necessarily the same order), equivalent values for every\\n  // corresponding key, and an identical 'prototype' property. Note: this\\n  // accounts for both named and indexed properties on Arrays.\\n  } else {\\n    return objEquiv(actual, expected, opts);\\n  }\\n}\\n\\nfunction isUndefinedOrNull(value) {\\n  return value === null || value === undefined;\\n}\\n\\nfunction isBuffer (x) {\\n  if (!x || typeof x !== 'object' || typeof x.length !== 'number') return false;\\n  if (typeof x.copy !== 'function' || typeof x.slice !== 'function') {\\n    return false;\\n  }\\n  if (x.length > 0 && typeof x[0] !== 'number') return false;\\n  return true;\\n}\\n\\nfunction objEquiv(a, b, opts) {\\n  var i, key;\\n  if (isUndefinedOrNull(a) || isUndefinedOrNull(b))\\n    return false;\\n  // an identical 'prototype' property.\\n  if (a.prototype !== b.prototype) return false;\\n  //~~~I've managed to break Object.keys through screwy arguments passing.\\n  //   Converting to array solves the problem.\\n  if (isArguments(a)) {\\n    if (!isArguments(b)) {\\n      return false;\\n    }\\n    a = pSlice.call(a);\\n    b = pSlice.call(b);\\n    return deepEqual(a, b, opts);\\n  }\\n  if (isBuffer(a)) {\\n    if (!isBuffer(b)) {\\n      return false;\\n    }\\n    if (a.length !== b.length) return false;\\n    for (i = 0; i < a.length; i++) {\\n      if (a[i] !== b[i]) return false;\\n    }\\n    return true;\\n  }\\n  try {\\n    var ka = objectKeys(a),\\n        kb = objectKeys(b);\\n  } catch (e) {//happens when one is a string literal and the other isn't\\n    return false;\\n  }\\n  // having the same number of owned properties (keys incorporates\\n  // hasOwnProperty)\\n  if (ka.length != kb.length)\\n    return false;\\n  //the same set of keys (although not necessarily the same order),\\n  ka.sort();\\n  kb.sort();\\n  //~~~cheap key test\\n  for (i = ka.length - 1; i >= 0; i--) {\\n    if (ka[i] != kb[i])\\n      return false;\\n  }\\n  //equivalent values for every corresponding key, and\\n  //~~~possibly expensive deep test\\n  for (i = ka.length - 1; i >= 0; i--) {\\n    key = ka[i];\\n    if (!deepEqual(a[key], b[key], opts)) return false;\\n  }\\n  return typeof a === typeof b;\\n}\\n\\n\\n//# sourceURL=webpack://Quill/./node_modules/deep-equal/index.js?\");\n\n/***/ }),\n\n/***/ \"./node_modules/deep-equal/lib/is_arguments.js\":\n/*!*****************************************************!*\\\n  !*** ./node_modules/deep-equal/lib/is_arguments.js ***!\n  \\*****************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\neval(\"var supportsArgumentsClass = (function(){\\n  return Object.prototype.toString.call(arguments)\\n})() == '[object Arguments]';\\n\\nexports = module.exports = supportsArgumentsClass ? supported : unsupported;\\n\\nexports.supported = supported;\\nfunction supported(object) {\\n  return Object.prototype.toString.call(object) == '[object Arguments]';\\n};\\n\\nexports.unsupported = unsupported;\\nfunction unsupported(object){\\n  return object &&\\n    typeof object == 'object' &&\\n    typeof object.length == 'number' &&\\n    Object.prototype.hasOwnProperty.call(object, 'callee') &&\\n    !Object.prototype.propertyIsEnumerable.call(object, 'callee') ||\\n    false;\\n};\\n\\n\\n//# sourceURL=webpack://Quill/./node_modules/deep-equal/lib/is_arguments.js?\");\n\n/***/ }),\n\n/***/ \"./node_modules/deep-equal/lib/keys.js\":\n/*!*********************************************!*\\\n  !*** ./node_modules/deep-equal/lib/keys.js ***!\n  \\*********************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\neval(\"exports = module.exports = typeof Object.keys === 'function'\\n  ? Object.keys : shim;\\n\\nexports.shim = shim;\\nfunction shim (obj) {\\n  var keys = [];\\n  for (var key in obj) keys.push(key);\\n  return keys;\\n}\\n\\n\\n//# sourceURL=webpack://Quill/./node_modules/deep-equal/lib/keys.js?\");\n\n/***/ }),\n\n/***/ \"./node_modules/eventemitter3/index.js\":\n/*!*********************************************!*\\\n  !*** ./node_modules/eventemitter3/index.js ***!\n  \\*********************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\neval(\"'use strict';\\n\\nvar has = Object.prototype.hasOwnProperty\\n  , prefix = '~';\\n\\n/**\\n * Constructor to create a storage for our `EE` objects.\\n * An `Events` instance is a plain object whose properties are event names.\\n *\\n * @constructor\\n * @private\\n */\\nfunction Events() {}\\n\\n//\\n// We try to not inherit from `Object.prototype`. In some engines creating an\\n// instance in this way is faster than calling `Object.create(null)` directly.\\n// If `Object.create(null)` is not supported we prefix the event names with a\\n// character to make sure that the built-in object properties are not\\n// overridden or used as an attack vector.\\n//\\nif (Object.create) {\\n  Events.prototype = Object.create(null);\\n\\n  //\\n  // This hack is needed because the `__proto__` property is still inherited in\\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\\n  //\\n  if (!new Events().__proto__) prefix = false;\\n}\\n\\n/**\\n * Representation of a single event listener.\\n *\\n * @param {Function} fn The listener function.\\n * @param {*} context The context to invoke the listener with.\\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\\n * @constructor\\n * @private\\n */\\nfunction EE(fn, context, once) {\\n  this.fn = fn;\\n  this.context = context;\\n  this.once = once || false;\\n}\\n\\n/**\\n * Add a listener for a given event.\\n *\\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\\n * @param {(String|Symbol)} event The event name.\\n * @param {Function} fn The listener function.\\n * @param {*} context The context to invoke the listener with.\\n * @param {Boolean} once Specify if the listener is a one-time listener.\\n * @returns {EventEmitter}\\n * @private\\n */\\nfunction addListener(emitter, event, fn, context, once) {\\n  if (typeof fn !== 'function') {\\n    throw new TypeError('The listener must be a function');\\n  }\\n\\n  var listener = new EE(fn, context || emitter, once)\\n    , evt = prefix ? prefix + event : event;\\n\\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\\n  else emitter._events[evt] = [emitter._events[evt], listener];\\n\\n  return emitter;\\n}\\n\\n/**\\n * Clear event by name.\\n *\\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\\n * @param {(String|Symbol)} evt The Event name.\\n * @private\\n */\\nfunction clearEvent(emitter, evt) {\\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\\n  else delete emitter._events[evt];\\n}\\n\\n/**\\n * Minimal `EventEmitter` interface that is molded against the Node.js\\n * `EventEmitter` interface.\\n *\\n * @constructor\\n * @public\\n */\\nfunction EventEmitter() {\\n  this._events = new Events();\\n  this._eventsCount = 0;\\n}\\n\\n/**\\n * Return an array listing the events for which the emitter has registered\\n * listeners.\\n *\\n * @returns {Array}\\n * @public\\n */\\nEventEmitter.prototype.eventNames = function eventNames() {\\n  var names = []\\n    , events\\n    , name;\\n\\n  if (this._eventsCount === 0) return names;\\n\\n  for (name in (events = this._events)) {\\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\\n  }\\n\\n  if (Object.getOwnPropertySymbols) {\\n    return names.concat(Object.getOwnPropertySymbols(events));\\n  }\\n\\n  return names;\\n};\\n\\n/**\\n * Return the listeners registered for a given event.\\n *\\n * @param {(String|Symbol)} event The event name.\\n * @returns {Array} The registered listeners.\\n * @public\\n */\\nEventEmitter.prototype.listeners = function listeners(event) {\\n  var evt = prefix ? prefix + event : event\\n    , handlers = this._events[evt];\\n\\n  if (!handlers) return [];\\n  if (handlers.fn) return [handlers.fn];\\n\\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\\n    ee[i] = handlers[i].fn;\\n  }\\n\\n  return ee;\\n};\\n\\n/**\\n * Return the number of listeners listening to a given event.\\n *\\n * @param {(String|Symbol)} event The event name.\\n * @returns {Number} The number of listeners.\\n * @public\\n */\\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\\n  var evt = prefix ? prefix + event : event\\n    , listeners = this._events[evt];\\n\\n  if (!listeners) return 0;\\n  if (listeners.fn) return 1;\\n  return listeners.length;\\n};\\n\\n/**\\n * Calls each of the listeners registered for a given event.\\n *\\n * @param {(String|Symbol)} event The event name.\\n * @returns {Boolean} `true` if the event had listeners, else `false`.\\n * @public\\n */\\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\\n  var evt = prefix ? prefix + event : event;\\n\\n  if (!this._events[evt]) return false;\\n\\n  var listeners = this._events[evt]\\n    , len = arguments.length\\n    , args\\n    , i;\\n\\n  if (listeners.fn) {\\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\\n\\n    switch (len) {\\n      case 1: return listeners.fn.call(listeners.context), true;\\n      case 2: return listeners.fn.call(listeners.context, a1), true;\\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\\n    }\\n\\n    for (i = 1, args = new Array(len -1); i < len; i++) {\\n      args[i - 1] = arguments[i];\\n    }\\n\\n    listeners.fn.apply(listeners.context, args);\\n  } else {\\n    var length = listeners.length\\n      , j;\\n\\n    for (i = 0; i < length; i++) {\\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\\n\\n      switch (len) {\\n        case 1: listeners[i].fn.call(listeners[i].context); break;\\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\\n        default:\\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\\n            args[j - 1] = arguments[j];\\n          }\\n\\n          listeners[i].fn.apply(listeners[i].context, args);\\n      }\\n    }\\n  }\\n\\n  return true;\\n};\\n\\n/**\\n * Add a listener for a given event.\\n *\\n * @param {(String|Symbol)} event The event name.\\n * @param {Function} fn The listener function.\\n * @param {*} [context=this] The context to invoke the listener with.\\n * @returns {EventEmitter} `this`.\\n * @public\\n */\\nEventEmitter.prototype.on = function on(event, fn, context) {\\n  return addListener(this, event, fn, context, false);\\n};\\n\\n/**\\n * Add a one-time listener for a given event.\\n *\\n * @param {(String|Symbol)} event The event name.\\n * @param {Function} fn The listener function.\\n * @param {*} [context=this] The context to invoke the listener with.\\n * @returns {EventEmitter} `this`.\\n * @public\\n */\\nEventEmitter.prototype.once = function once(event, fn, context) {\\n  return addListener(this, event, fn, context, true);\\n};\\n\\n/**\\n * Remove the listeners of a given event.\\n *\\n * @param {(String|Symbol)} event The event name.\\n * @param {Function} fn Only remove the listeners that match this function.\\n * @param {*} context Only remove the listeners that have this context.\\n * @param {Boolean} once Only remove one-time listeners.\\n * @returns {EventEmitter} `this`.\\n * @public\\n */\\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\\n  var evt = prefix ? prefix + event : event;\\n\\n  if (!this._events[evt]) return this;\\n  if (!fn) {\\n    clearEvent(this, evt);\\n    return this;\\n  }\\n\\n  var listeners = this._events[evt];\\n\\n  if (listeners.fn) {\\n    if (\\n      listeners.fn === fn &&\\n      (!once || listeners.once) &&\\n      (!context || listeners.context === context)\\n    ) {\\n      clearEvent(this, evt);\\n    }\\n  } else {\\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\\n      if (\\n        listeners[i].fn !== fn ||\\n        (once && !listeners[i].once) ||\\n        (context && listeners[i].context !== context)\\n      ) {\\n        events.push(listeners[i]);\\n      }\\n    }\\n\\n    //\\n    // Reset the array, or remove it completely if we have no more listeners.\\n    //\\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\\n    else clearEvent(this, evt);\\n  }\\n\\n  return this;\\n};\\n\\n/**\\n * Remove all listeners, or those of the specified event.\\n *\\n * @param {(String|Symbol)} [event] The event name.\\n * @returns {EventEmitter} `this`.\\n * @public\\n */\\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\\n  var evt;\\n\\n  if (event) {\\n    evt = prefix ? prefix + event : event;\\n    if (this._events[evt]) clearEvent(this, evt);\\n  } else {\\n    this._events = new Events();\\n    this._eventsCount = 0;\\n  }\\n\\n  return this;\\n};\\n\\n//\\n// Alias methods names because people roll like that.\\n//\\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\\n\\n//\\n// Expose the prefix.\\n//\\nEventEmitter.prefixed = prefix;\\n\\n//\\n// Allow `EventEmitter` to be imported as module namespace.\\n//\\nEventEmitter.EventEmitter = EventEmitter;\\n\\n//\\n// Expose the module.\\n//\\nif ('undefined' !== typeof module) {\\n  module.exports = EventEmitter;\\n}\\n\\n\\n//# sourceURL=webpack://Quill/./node_modules/eventemitter3/index.js?\");\n\n/***/ }),\n\n/***/ \"./node_modules/extend/index.js\":\n/*!**************************************!*\\\n  !*** ./node_modules/extend/index.js ***!\n  \\**************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\neval(\"'use strict';\\n\\nvar hasOwn = Object.prototype.hasOwnProperty;\\nvar toStr = Object.prototype.toString;\\n\\nvar isArray = function isArray(arr) {\\n\\tif (typeof Array.isArray === 'function') {\\n\\t\\treturn Array.isArray(arr);\\n\\t}\\n\\n\\treturn toStr.call(arr) === '[object Array]';\\n};\\n\\nvar isPlainObject = function isPlainObject(obj) {\\n\\tif (!obj || toStr.call(obj) !== '[object Object]') {\\n\\t\\treturn false;\\n\\t}\\n\\n\\tvar hasOwnConstructor = hasOwn.call(obj, 'constructor');\\n\\tvar hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\\n\\t// Not own constructor property must be Object\\n\\tif (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\\n\\t\\treturn false;\\n\\t}\\n\\n\\t// Own properties are enumerated firstly, so to speed up,\\n\\t// if last one is own, then all properties are own.\\n\\tvar key;\\n\\tfor (key in obj) { /**/ }\\n\\n\\treturn typeof key === 'undefined' || hasOwn.call(obj, key);\\n};\\n\\nmodule.exports = function extend() {\\n\\tvar options, name, src, copy, copyIsArray, clone;\\n\\tvar target = arguments[0];\\n\\tvar i = 1;\\n\\tvar length = arguments.length;\\n\\tvar deep = false;\\n\\n\\t// Handle a deep copy situation\\n\\tif (typeof target === 'boolean') {\\n\\t\\tdeep = target;\\n\\t\\ttarget = arguments[1] || {};\\n\\t\\t// skip the boolean and the target\\n\\t\\ti = 2;\\n\\t}\\n\\tif (target == null || (typeof target !== 'object' && typeof target !== 'function')) {\\n\\t\\ttarget = {};\\n\\t}\\n\\n\\tfor (; i < length; ++i) {\\n\\t\\toptions = arguments[i];\\n\\t\\t// Only deal with non-null/undefined values\\n\\t\\tif (options != null) {\\n\\t\\t\\t// Extend the base object\\n\\t\\t\\tfor (name in options) {\\n\\t\\t\\t\\tsrc = target[name];\\n\\t\\t\\t\\tcopy = options[name];\\n\\n\\t\\t\\t\\t// Prevent never-ending loop\\n\\t\\t\\t\\tif (target !== copy) {\\n\\t\\t\\t\\t\\t// Recurse if we're merging plain objects or arrays\\n\\t\\t\\t\\t\\tif (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\\n\\t\\t\\t\\t\\t\\tif (copyIsArray) {\\n\\t\\t\\t\\t\\t\\t\\tcopyIsArray = false;\\n\\t\\t\\t\\t\\t\\t\\tclone = src && isArray(src) ? src : [];\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\tclone = src && isPlainObject(src) ? src : {};\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\t// Never move original objects, clone them\\n\\t\\t\\t\\t\\t\\ttarget[name] = extend(deep, clone, copy);\\n\\n\\t\\t\\t\\t\\t// Don't bring in undefined values\\n\\t\\t\\t\\t\\t} else if (typeof copy !== 'undefined') {\\n\\t\\t\\t\\t\\t\\ttarget[name] = copy;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t// Return the modified object\\n\\treturn target;\\n};\\n\\n\\n//# sourceURL=webpack://Quill/./node_modules/extend/index.js?\");\n\n/***/ }),\n\n/***/ \"./node_modules/fast-diff/diff.js\":\n/*!****************************************!*\\\n  !*** ./node_modules/fast-diff/diff.js ***!\n  \\****************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\neval(\"/**\\n * This library modifies the diff-patch-match library by Neil Fraser\\n * by removing the patch and match functionality and certain advanced\\n * options in the diff function. The original license is as follows:\\n *\\n * ===\\n *\\n * Diff Match and Patch\\n *\\n * Copyright 2006 Google Inc.\\n * http://code.google.com/p/google-diff-match-patch/\\n *\\n * Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\n * you may not use this file except in compliance with the License.\\n * You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing, software\\n * distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\n * See the License for the specific language governing permissions and\\n * limitations under the License.\\n */\\n\\n\\n/**\\n * The data structure representing a diff is an array of tuples:\\n * [[DIFF_DELETE, 'Hello'], [DIFF_INSERT, 'Goodbye'], [DIFF_EQUAL, ' world.']]\\n * which means: delete 'Hello', add 'Goodbye' and keep ' world.'\\n */\\nvar DIFF_DELETE = -1;\\nvar DIFF_INSERT = 1;\\nvar DIFF_EQUAL = 0;\\n\\n\\n/**\\n * Find the differences between two texts.  Simplifies the problem by stripping\\n * any common prefix or suffix off the texts before diffing.\\n * @param {string} text1 Old string to be diffed.\\n * @param {string} text2 New string to be diffed.\\n * @param {Int} cursor_pos Expected edit position in text1 (optional)\\n * @return {Array} Array of diff tuples.\\n */\\nfunction diff_main(text1, text2, cursor_pos) {\\n  // Check for equality (speedup).\\n  if (text1 == text2) {\\n    if (text1) {\\n      return [[DIFF_EQUAL, text1]];\\n    }\\n    return [];\\n  }\\n\\n  // Check cursor_pos within bounds\\n  if (cursor_pos < 0 || text1.length < cursor_pos) {\\n    cursor_pos = null;\\n  }\\n\\n  // Trim off common prefix (speedup).\\n  var commonlength = diff_commonPrefix(text1, text2);\\n  var commonprefix = text1.substring(0, commonlength);\\n  text1 = text1.substring(commonlength);\\n  text2 = text2.substring(commonlength);\\n\\n  // Trim off common suffix (speedup).\\n  commonlength = diff_commonSuffix(text1, text2);\\n  var commonsuffix = text1.substring(text1.length - commonlength);\\n  text1 = text1.substring(0, text1.length - commonlength);\\n  text2 = text2.substring(0, text2.length - commonlength);\\n\\n  // Compute the diff on the middle block.\\n  var diffs = diff_compute_(text1, text2);\\n\\n  // Restore the prefix and suffix.\\n  if (commonprefix) {\\n    diffs.unshift([DIFF_EQUAL, commonprefix]);\\n  }\\n  if (commonsuffix) {\\n    diffs.push([DIFF_EQUAL, commonsuffix]);\\n  }\\n  diff_cleanupMerge(diffs);\\n  if (cursor_pos != null) {\\n    diffs = fix_cursor(diffs, cursor_pos);\\n  }\\n  diffs = fix_emoji(diffs);\\n  return diffs;\\n};\\n\\n\\n/**\\n * Find the differences between two texts.  Assumes that the texts do not\\n * have any common prefix or suffix.\\n * @param {string} text1 Old string to be diffed.\\n * @param {string} text2 New string to be diffed.\\n * @return {Array} Array of diff tuples.\\n */\\nfunction diff_compute_(text1, text2) {\\n  var diffs;\\n\\n  if (!text1) {\\n    // Just add some text (speedup).\\n    return [[DIFF_INSERT, text2]];\\n  }\\n\\n  if (!text2) {\\n    // Just delete some text (speedup).\\n    return [[DIFF_DELETE, text1]];\\n  }\\n\\n  var longtext = text1.length > text2.length ? text1 : text2;\\n  var shorttext = text1.length > text2.length ? text2 : text1;\\n  var i = longtext.indexOf(shorttext);\\n  if (i != -1) {\\n    // Shorter text is inside the longer text (speedup).\\n    diffs = [[DIFF_INSERT, longtext.substring(0, i)],\\n             [DIFF_EQUAL, shorttext],\\n             [DIFF_INSERT, longtext.substring(i + shorttext.length)]];\\n    // Swap insertions for deletions if diff is reversed.\\n    if (text1.length > text2.length) {\\n      diffs[0][0] = diffs[2][0] = DIFF_DELETE;\\n    }\\n    return diffs;\\n  }\\n\\n  if (shorttext.length == 1) {\\n    // Single character string.\\n    // After the previous speedup, the character can't be an equality.\\n    return [[DIFF_DELETE, text1], [DIFF_INSERT, text2]];\\n  }\\n\\n  // Check to see if the problem can be split in two.\\n  var hm = diff_halfMatch_(text1, text2);\\n  if (hm) {\\n    // A half-match was found, sort out the return data.\\n    var text1_a = hm[0];\\n    var text1_b = hm[1];\\n    var text2_a = hm[2];\\n    var text2_b = hm[3];\\n    var mid_common = hm[4];\\n    // Send both pairs off for separate processing.\\n    var diffs_a = diff_main(text1_a, text2_a);\\n    var diffs_b = diff_main(text1_b, text2_b);\\n    // Merge the results.\\n    return diffs_a.concat([[DIFF_EQUAL, mid_common]], diffs_b);\\n  }\\n\\n  return diff_bisect_(text1, text2);\\n};\\n\\n\\n/**\\n * Find the 'middle snake' of a diff, split the problem in two\\n * and return the recursively constructed diff.\\n * See Myers 1986 paper: An O(ND) Difference Algorithm and Its Variations.\\n * @param {string} text1 Old string to be diffed.\\n * @param {string} text2 New string to be diffed.\\n * @return {Array} Array of diff tuples.\\n * @private\\n */\\nfunction diff_bisect_(text1, text2) {\\n  // Cache the text lengths to prevent multiple calls.\\n  var text1_length = text1.length;\\n  var text2_length = text2.length;\\n  var max_d = Math.ceil((text1_length + text2_length) / 2);\\n  var v_offset = max_d;\\n  var v_length = 2 * max_d;\\n  var v1 = new Array(v_length);\\n  var v2 = new Array(v_length);\\n  // Setting all elements to -1 is faster in Chrome & Firefox than mixing\\n  // integers and undefined.\\n  for (var x = 0; x < v_length; x++) {\\n    v1[x] = -1;\\n    v2[x] = -1;\\n  }\\n  v1[v_offset + 1] = 0;\\n  v2[v_offset + 1] = 0;\\n  var delta = text1_length - text2_length;\\n  // If the total number of characters is odd, then the front path will collide\\n  // with the reverse path.\\n  var front = (delta % 2 != 0);\\n  // Offsets for start and end of k loop.\\n  // Prevents mapping of space beyond the grid.\\n  var k1start = 0;\\n  var k1end = 0;\\n  var k2start = 0;\\n  var k2end = 0;\\n  for (var d = 0; d < max_d; d++) {\\n    // Walk the front path one step.\\n    for (var k1 = -d + k1start; k1 <= d - k1end; k1 += 2) {\\n      var k1_offset = v_offset + k1;\\n      var x1;\\n      if (k1 == -d || (k1 != d && v1[k1_offset - 1] < v1[k1_offset + 1])) {\\n        x1 = v1[k1_offset + 1];\\n      } else {\\n        x1 = v1[k1_offset - 1] + 1;\\n      }\\n      var y1 = x1 - k1;\\n      while (x1 < text1_length && y1 < text2_length &&\\n             text1.charAt(x1) == text2.charAt(y1)) {\\n        x1++;\\n        y1++;\\n      }\\n      v1[k1_offset] = x1;\\n      if (x1 > text1_length) {\\n        // Ran off the right of the graph.\\n        k1end += 2;\\n      } else if (y1 > text2_length) {\\n        // Ran off the bottom of the graph.\\n        k1start += 2;\\n      } else if (front) {\\n        var k2_offset = v_offset + delta - k1;\\n        if (k2_offset >= 0 && k2_offset < v_length && v2[k2_offset] != -1) {\\n          // Mirror x2 onto top-left coordinate system.\\n          var x2 = text1_length - v2[k2_offset];\\n          if (x1 >= x2) {\\n            // Overlap detected.\\n            return diff_bisectSplit_(text1, text2, x1, y1);\\n          }\\n        }\\n      }\\n    }\\n\\n    // Walk the reverse path one step.\\n    for (var k2 = -d + k2start; k2 <= d - k2end; k2 += 2) {\\n      var k2_offset = v_offset + k2;\\n      var x2;\\n      if (k2 == -d || (k2 != d && v2[k2_offset - 1] < v2[k2_offset + 1])) {\\n        x2 = v2[k2_offset + 1];\\n      } else {\\n        x2 = v2[k2_offset - 1] + 1;\\n      }\\n      var y2 = x2 - k2;\\n      while (x2 < text1_length && y2 < text2_length &&\\n             text1.charAt(text1_length - x2 - 1) ==\\n             text2.charAt(text2_length - y2 - 1)) {\\n        x2++;\\n        y2++;\\n      }\\n      v2[k2_offset] = x2;\\n      if (x2 > text1_length) {\\n        // Ran off the left of the graph.\\n        k2end += 2;\\n      } else if (y2 > text2_length) {\\n        // Ran off the top of the graph.\\n        k2start += 2;\\n      } else if (!front) {\\n        var k1_offset = v_offset + delta - k2;\\n        if (k1_offset >= 0 && k1_offset < v_length && v1[k1_offset] != -1) {\\n          var x1 = v1[k1_offset];\\n          var y1 = v_offset + x1 - k1_offset;\\n          // Mirror x2 onto top-left coordinate system.\\n          x2 = text1_length - x2;\\n          if (x1 >= x2) {\\n            // Overlap detected.\\n            return diff_bisectSplit_(text1, text2, x1, y1);\\n          }\\n        }\\n      }\\n    }\\n  }\\n  // Diff took too long and hit the deadline or\\n  // number of diffs equals number of characters, no commonality at all.\\n  return [[DIFF_DELETE, text1], [DIFF_INSERT, text2]];\\n};\\n\\n\\n/**\\n * Given the location of the 'middle snake', split the diff in two parts\\n * and recurse.\\n * @param {string} text1 Old string to be diffed.\\n * @param {string} text2 New string to be diffed.\\n * @param {number} x Index of split point in text1.\\n * @param {number} y Index of split point in text2.\\n * @return {Array} Array of diff tuples.\\n */\\nfunction diff_bisectSplit_(text1, text2, x, y) {\\n  var text1a = text1.substring(0, x);\\n  var text2a = text2.substring(0, y);\\n  var text1b = text1.substring(x);\\n  var text2b = text2.substring(y);\\n\\n  // Compute both diffs serially.\\n  var diffs = diff_main(text1a, text2a);\\n  var diffsb = diff_main(text1b, text2b);\\n\\n  return diffs.concat(diffsb);\\n};\\n\\n\\n/**\\n * Determine the common prefix of two strings.\\n * @param {string} text1 First string.\\n * @param {string} text2 Second string.\\n * @return {number} The number of characters common to the start of each\\n *     string.\\n */\\nfunction diff_commonPrefix(text1, text2) {\\n  // Quick check for common null cases.\\n  if (!text1 || !text2 || text1.charAt(0) != text2.charAt(0)) {\\n    return 0;\\n  }\\n  // Binary search.\\n  // Performance analysis: http://neil.fraser.name/news/2007/10/09/\\n  var pointermin = 0;\\n  var pointermax = Math.min(text1.length, text2.length);\\n  var pointermid = pointermax;\\n  var pointerstart = 0;\\n  while (pointermin < pointermid) {\\n    if (text1.substring(pointerstart, pointermid) ==\\n        text2.substring(pointerstart, pointermid)) {\\n      pointermin = pointermid;\\n      pointerstart = pointermin;\\n    } else {\\n      pointermax = pointermid;\\n    }\\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\\n  }\\n  return pointermid;\\n};\\n\\n\\n/**\\n * Determine the common suffix of two strings.\\n * @param {string} text1 First string.\\n * @param {string} text2 Second string.\\n * @return {number} The number of characters common to the end of each string.\\n */\\nfunction diff_commonSuffix(text1, text2) {\\n  // Quick check for common null cases.\\n  if (!text1 || !text2 ||\\n      text1.charAt(text1.length - 1) != text2.charAt(text2.length - 1)) {\\n    return 0;\\n  }\\n  // Binary search.\\n  // Performance analysis: http://neil.fraser.name/news/2007/10/09/\\n  var pointermin = 0;\\n  var pointermax = Math.min(text1.length, text2.length);\\n  var pointermid = pointermax;\\n  var pointerend = 0;\\n  while (pointermin < pointermid) {\\n    if (text1.substring(text1.length - pointermid, text1.length - pointerend) ==\\n        text2.substring(text2.length - pointermid, text2.length - pointerend)) {\\n      pointermin = pointermid;\\n      pointerend = pointermin;\\n    } else {\\n      pointermax = pointermid;\\n    }\\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\\n  }\\n  return pointermid;\\n};\\n\\n\\n/**\\n * Do the two texts share a substring which is at least half the length of the\\n * longer text?\\n * This speedup can produce non-minimal diffs.\\n * @param {string} text1 First string.\\n * @param {string} text2 Second string.\\n * @return {Array.<string>} Five element Array, containing the prefix of\\n *     text1, the suffix of text1, the prefix of text2, the suffix of\\n *     text2 and the common middle.  Or null if there was no match.\\n */\\nfunction diff_halfMatch_(text1, text2) {\\n  var longtext = text1.length > text2.length ? text1 : text2;\\n  var shorttext = text1.length > text2.length ? text2 : text1;\\n  if (longtext.length < 4 || shorttext.length * 2 < longtext.length) {\\n    return null;  // Pointless.\\n  }\\n\\n  /**\\n   * Does a substring of shorttext exist within longtext such that the substring\\n   * is at least half the length of longtext?\\n   * Closure, but does not reference any external variables.\\n   * @param {string} longtext Longer string.\\n   * @param {string} shorttext Shorter string.\\n   * @param {number} i Start index of quarter length substring within longtext.\\n   * @return {Array.<string>} Five element Array, containing the prefix of\\n   *     longtext, the suffix of longtext, the prefix of shorttext, the suffix\\n   *     of shorttext and the common middle.  Or null if there was no match.\\n   * @private\\n   */\\n  function diff_halfMatchI_(longtext, shorttext, i) {\\n    // Start with a 1/4 length substring at position i as a seed.\\n    var seed = longtext.substring(i, i + Math.floor(longtext.length / 4));\\n    var j = -1;\\n    var best_common = '';\\n    var best_longtext_a, best_longtext_b, best_shorttext_a, best_shorttext_b;\\n    while ((j = shorttext.indexOf(seed, j + 1)) != -1) {\\n      var prefixLength = diff_commonPrefix(longtext.substring(i),\\n                                           shorttext.substring(j));\\n      var suffixLength = diff_commonSuffix(longtext.substring(0, i),\\n                                           shorttext.substring(0, j));\\n      if (best_common.length < suffixLength + prefixLength) {\\n        best_common = shorttext.substring(j - suffixLength, j) +\\n            shorttext.substring(j, j + prefixLength);\\n        best_longtext_a = longtext.substring(0, i - suffixLength);\\n        best_longtext_b = longtext.substring(i + prefixLength);\\n        best_shorttext_a = shorttext.substring(0, j - suffixLength);\\n        best_shorttext_b = shorttext.substring(j + prefixLength);\\n      }\\n    }\\n    if (best_common.length * 2 >= longtext.length) {\\n      return [best_longtext_a, best_longtext_b,\\n              best_shorttext_a, best_shorttext_b, best_common];\\n    } else {\\n      return null;\\n    }\\n  }\\n\\n  // First check if the second quarter is the seed for a half-match.\\n  var hm1 = diff_halfMatchI_(longtext, shorttext,\\n                             Math.ceil(longtext.length / 4));\\n  // Check again based on the third quarter.\\n  var hm2 = diff_halfMatchI_(longtext, shorttext,\\n                             Math.ceil(longtext.length / 2));\\n  var hm;\\n  if (!hm1 && !hm2) {\\n    return null;\\n  } else if (!hm2) {\\n    hm = hm1;\\n  } else if (!hm1) {\\n    hm = hm2;\\n  } else {\\n    // Both matched.  Select the longest.\\n    hm = hm1[4].length > hm2[4].length ? hm1 : hm2;\\n  }\\n\\n  // A half-match was found, sort out the return data.\\n  var text1_a, text1_b, text2_a, text2_b;\\n  if (text1.length > text2.length) {\\n    text1_a = hm[0];\\n    text1_b = hm[1];\\n    text2_a = hm[2];\\n    text2_b = hm[3];\\n  } else {\\n    text2_a = hm[0];\\n    text2_b = hm[1];\\n    text1_a = hm[2];\\n    text1_b = hm[3];\\n  }\\n  var mid_common = hm[4];\\n  return [text1_a, text1_b, text2_a, text2_b, mid_common];\\n};\\n\\n\\n/**\\n * Reorder and merge like edit sections.  Merge equalities.\\n * Any edit section can move as long as it doesn't cross an equality.\\n * @param {Array} diffs Array of diff tuples.\\n */\\nfunction diff_cleanupMerge(diffs) {\\n  diffs.push([DIFF_EQUAL, '']);  // Add a dummy entry at the end.\\n  var pointer = 0;\\n  var count_delete = 0;\\n  var count_insert = 0;\\n  var text_delete = '';\\n  var text_insert = '';\\n  var commonlength;\\n  while (pointer < diffs.length) {\\n    switch (diffs[pointer][0]) {\\n      case DIFF_INSERT:\\n        count_insert++;\\n        text_insert += diffs[pointer][1];\\n        pointer++;\\n        break;\\n      case DIFF_DELETE:\\n        count_delete++;\\n        text_delete += diffs[pointer][1];\\n        pointer++;\\n        break;\\n      case DIFF_EQUAL:\\n        // Upon reaching an equality, check for prior redundancies.\\n        if (count_delete + count_insert > 1) {\\n          if (count_delete !== 0 && count_insert !== 0) {\\n            // Factor out any common prefixies.\\n            commonlength = diff_commonPrefix(text_insert, text_delete);\\n            if (commonlength !== 0) {\\n              if ((pointer - count_delete - count_insert) > 0 &&\\n                  diffs[pointer - count_delete - count_insert - 1][0] ==\\n                  DIFF_EQUAL) {\\n                diffs[pointer - count_delete - count_insert - 1][1] +=\\n                    text_insert.substring(0, commonlength);\\n              } else {\\n                diffs.splice(0, 0, [DIFF_EQUAL,\\n                                    text_insert.substring(0, commonlength)]);\\n                pointer++;\\n              }\\n              text_insert = text_insert.substring(commonlength);\\n              text_delete = text_delete.substring(commonlength);\\n            }\\n            // Factor out any common suffixies.\\n            commonlength = diff_commonSuffix(text_insert, text_delete);\\n            if (commonlength !== 0) {\\n              diffs[pointer][1] = text_insert.substring(text_insert.length -\\n                  commonlength) + diffs[pointer][1];\\n              text_insert = text_insert.substring(0, text_insert.length -\\n                  commonlength);\\n              text_delete = text_delete.substring(0, text_delete.length -\\n                  commonlength);\\n            }\\n          }\\n          // Delete the offending records and add the merged ones.\\n          if (count_delete === 0) {\\n            diffs.splice(pointer - count_insert,\\n                count_delete + count_insert, [DIFF_INSERT, text_insert]);\\n          } else if (count_insert === 0) {\\n            diffs.splice(pointer - count_delete,\\n                count_delete + count_insert, [DIFF_DELETE, text_delete]);\\n          } else {\\n            diffs.splice(pointer - count_delete - count_insert,\\n                count_delete + count_insert, [DIFF_DELETE, text_delete],\\n                [DIFF_INSERT, text_insert]);\\n          }\\n          pointer = pointer - count_delete - count_insert +\\n                    (count_delete ? 1 : 0) + (count_insert ? 1 : 0) + 1;\\n        } else if (pointer !== 0 && diffs[pointer - 1][0] == DIFF_EQUAL) {\\n          // Merge this equality with the previous one.\\n          diffs[pointer - 1][1] += diffs[pointer][1];\\n          diffs.splice(pointer, 1);\\n        } else {\\n          pointer++;\\n        }\\n        count_insert = 0;\\n        count_delete = 0;\\n        text_delete = '';\\n        text_insert = '';\\n        break;\\n    }\\n  }\\n  if (diffs[diffs.length - 1][1] === '') {\\n    diffs.pop();  // Remove the dummy entry at the end.\\n  }\\n\\n  // Second pass: look for single edits surrounded on both sides by equalities\\n  // which can be shifted sideways to eliminate an equality.\\n  // e.g: A<ins>BA</ins>C -> <ins>AB</ins>AC\\n  var changes = false;\\n  pointer = 1;\\n  // Intentionally ignore the first and last element (don't need checking).\\n  while (pointer < diffs.length - 1) {\\n    if (diffs[pointer - 1][0] == DIFF_EQUAL &&\\n        diffs[pointer + 1][0] == DIFF_EQUAL) {\\n      // This is a single edit surrounded by equalities.\\n      if (diffs[pointer][1].substring(diffs[pointer][1].length -\\n          diffs[pointer - 1][1].length) == diffs[pointer - 1][1]) {\\n        // Shift the edit over the previous equality.\\n        diffs[pointer][1] = diffs[pointer - 1][1] +\\n            diffs[pointer][1].substring(0, diffs[pointer][1].length -\\n                                        diffs[pointer - 1][1].length);\\n        diffs[pointer + 1][1] = diffs[pointer - 1][1] + diffs[pointer + 1][1];\\n        diffs.splice(pointer - 1, 1);\\n        changes = true;\\n      } else if (diffs[pointer][1].substring(0, diffs[pointer + 1][1].length) ==\\n          diffs[pointer + 1][1]) {\\n        // Shift the edit over the next equality.\\n        diffs[pointer - 1][1] += diffs[pointer + 1][1];\\n        diffs[pointer][1] =\\n            diffs[pointer][1].substring(diffs[pointer + 1][1].length) +\\n            diffs[pointer + 1][1];\\n        diffs.splice(pointer + 1, 1);\\n        changes = true;\\n      }\\n    }\\n    pointer++;\\n  }\\n  // If shifts were made, the diff needs reordering and another shift sweep.\\n  if (changes) {\\n    diff_cleanupMerge(diffs);\\n  }\\n};\\n\\n\\nvar diff = diff_main;\\ndiff.INSERT = DIFF_INSERT;\\ndiff.DELETE = DIFF_DELETE;\\ndiff.EQUAL = DIFF_EQUAL;\\n\\nmodule.exports = diff;\\n\\n/*\\n * Modify a diff such that the cursor position points to the start of a change:\\n * E.g.\\n *   cursor_normalize_diff([[DIFF_EQUAL, 'abc']], 1)\\n *     => [1, [[DIFF_EQUAL, 'a'], [DIFF_EQUAL, 'bc']]]\\n *   cursor_normalize_diff([[DIFF_INSERT, 'new'], [DIFF_DELETE, 'xyz']], 2)\\n *     => [2, [[DIFF_INSERT, 'new'], [DIFF_DELETE, 'xy'], [DIFF_DELETE, 'z']]]\\n *\\n * @param {Array} diffs Array of diff tuples\\n * @param {Int} cursor_pos Suggested edit position. Must not be out of bounds!\\n * @return {Array} A tuple [cursor location in the modified diff, modified diff]\\n */\\nfunction cursor_normalize_diff (diffs, cursor_pos) {\\n  if (cursor_pos === 0) {\\n    return [DIFF_EQUAL, diffs];\\n  }\\n  for (var current_pos = 0, i = 0; i < diffs.length; i++) {\\n    var d = diffs[i];\\n    if (d[0] === DIFF_DELETE || d[0] === DIFF_EQUAL) {\\n      var next_pos = current_pos + d[1].length;\\n      if (cursor_pos === next_pos) {\\n        return [i + 1, diffs];\\n      } else if (cursor_pos < next_pos) {\\n        // copy to prevent side effects\\n        diffs = diffs.slice();\\n        // split d into two diff changes\\n        var split_pos = cursor_pos - current_pos;\\n        var d_left = [d[0], d[1].slice(0, split_pos)];\\n        var d_right = [d[0], d[1].slice(split_pos)];\\n        diffs.splice(i, 1, d_left, d_right);\\n        return [i + 1, diffs];\\n      } else {\\n        current_pos = next_pos;\\n      }\\n    }\\n  }\\n  throw new Error('cursor_pos is out of bounds!')\\n}\\n\\n/*\\n * Modify a diff such that the edit position is \\\"shifted\\\" to the proposed edit location (cursor_position).\\n *\\n * Case 1)\\n *   Check if a naive shift is possible:\\n *     [0, X], [ 1, Y] -> [ 1, Y], [0, X]    (if X + Y === Y + X)\\n *     [0, X], [-1, Y] -> [-1, Y], [0, X]    (if X + Y === Y + X) - holds same result\\n * Case 2)\\n *   Check if the following shifts are possible:\\n *     [0, 'pre'], [ 1, 'prefix'] -> [ 1, 'pre'], [0, 'pre'], [ 1, 'fix']\\n *     [0, 'pre'], [-1, 'prefix'] -> [-1, 'pre'], [0, 'pre'], [-1, 'fix']\\n *         ^            ^\\n *         d          d_next\\n *\\n * @param {Array} diffs Array of diff tuples\\n * @param {Int} cursor_pos Suggested edit position. Must not be out of bounds!\\n * @return {Array} Array of diff tuples\\n */\\nfunction fix_cursor (diffs, cursor_pos) {\\n  var norm = cursor_normalize_diff(diffs, cursor_pos);\\n  var ndiffs = norm[1];\\n  var cursor_pointer = norm[0];\\n  var d = ndiffs[cursor_pointer];\\n  var d_next = ndiffs[cursor_pointer + 1];\\n\\n  if (d == null) {\\n    // Text was deleted from end of original string,\\n    // cursor is now out of bounds in new string\\n    return diffs;\\n  } else if (d[0] !== DIFF_EQUAL) {\\n    // A modification happened at the cursor location.\\n    // This is the expected outcome, so we can return the original diff.\\n    return diffs;\\n  } else {\\n    if (d_next != null && d[1] + d_next[1] === d_next[1] + d[1]) {\\n      // Case 1)\\n      // It is possible to perform a naive shift\\n      ndiffs.splice(cursor_pointer, 2, d_next, d)\\n      return merge_tuples(ndiffs, cursor_pointer, 2)\\n    } else if (d_next != null && d_next[1].indexOf(d[1]) === 0) {\\n      // Case 2)\\n      // d[1] is a prefix of d_next[1]\\n      // We can assume that d_next[0] !== 0, since d[0] === 0\\n      // Shift edit locations..\\n      ndiffs.splice(cursor_pointer, 2, [d_next[0], d[1]], [0, d[1]]);\\n      var suffix = d_next[1].slice(d[1].length);\\n      if (suffix.length > 0) {\\n        ndiffs.splice(cursor_pointer + 2, 0, [d_next[0], suffix]);\\n      }\\n      return merge_tuples(ndiffs, cursor_pointer, 3)\\n    } else {\\n      // Not possible to perform any modification\\n      return diffs;\\n    }\\n  }\\n}\\n\\n/*\\n * Check diff did not split surrogate pairs.\\n * Ex. [0, '\\\\uD83D'], [-1, '\\\\uDC36'], [1, '\\\\uDC2F'] -> [-1, '\\\\uD83D\\\\uDC36'], [1, '\\\\uD83D\\\\uDC2F']\\n *     '\\\\uD83D\\\\uDC36' === '🐶', '\\\\uD83D\\\\uDC2F' === '🐯'\\n *\\n * @param {Array} diffs Array of diff tuples\\n * @return {Array} Array of diff tuples\\n */\\nfunction fix_emoji (diffs) {\\n  var compact = false;\\n  var starts_with_pair_end = function(str) {\\n    return str.charCodeAt(0) >= 0xDC00 && str.charCodeAt(0) <= 0xDFFF;\\n  }\\n  var ends_with_pair_start = function(str) {\\n    return str.charCodeAt(str.length-1) >= 0xD800 && str.charCodeAt(str.length-1) <= 0xDBFF;\\n  }\\n  for (var i = 2; i < diffs.length; i += 1) {\\n    if (diffs[i-2][0] === DIFF_EQUAL && ends_with_pair_start(diffs[i-2][1]) &&\\n        diffs[i-1][0] === DIFF_DELETE && starts_with_pair_end(diffs[i-1][1]) &&\\n        diffs[i][0] === DIFF_INSERT && starts_with_pair_end(diffs[i][1])) {\\n      compact = true;\\n\\n      diffs[i-1][1] = diffs[i-2][1].slice(-1) + diffs[i-1][1];\\n      diffs[i][1] = diffs[i-2][1].slice(-1) + diffs[i][1];\\n\\n      diffs[i-2][1] = diffs[i-2][1].slice(0, -1);\\n    }\\n  }\\n  if (!compact) {\\n    return diffs;\\n  }\\n  var fixed_diffs = [];\\n  for (var i = 0; i < diffs.length; i += 1) {\\n    if (diffs[i][1].length > 0) {\\n      fixed_diffs.push(diffs[i]);\\n    }\\n  }\\n  return fixed_diffs;\\n}\\n\\n/*\\n * Try to merge tuples with their neigbors in a given range.\\n * E.g. [0, 'a'], [0, 'b'] -> [0, 'ab']\\n *\\n * @param {Array} diffs Array of diff tuples.\\n * @param {Int} start Position of the first element to merge (diffs[start] is also merged with diffs[start - 1]).\\n * @param {Int} length Number of consecutive elements to check.\\n * @return {Array} Array of merged diff tuples.\\n */\\nfunction merge_tuples (diffs, start, length) {\\n  // Check from (start-1) to (start+length).\\n  for (var i = start + length - 1; i >= 0 && i >= start - 1; i--) {\\n    if (i + 1 < diffs.length) {\\n      var left_d = diffs[i];\\n      var right_d = diffs[i+1];\\n      if (left_d[0] === right_d[1]) {\\n        diffs.splice(i, 2, [left_d[0], left_d[1] + right_d[1]]);\\n      }\\n    }\\n  }\\n  return diffs;\\n}\\n\\n\\n//# sourceURL=webpack://Quill/./node_modules/fast-diff/diff.js?\");\n\n/***/ }),\n\n/***/ \"./node_modules/parchment/src/attributor/attributor.ts\":\n/*!*************************************************************!*\\\n  !*** ./node_modules/parchment/src/attributor/attributor.ts ***!\n  \\*************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\neval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\\"default\\\", function() { return Attributor; });\\n/* harmony import */ var _scope__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../scope */ \\\"./node_modules/parchment/src/scope.ts\\\");\\n\\nclass Attributor {\\n    static keys(node) {\\n        return Array.from(node.attributes).map(function (item) {\\n            return item.name;\\n        });\\n    }\\n    constructor(attrName, keyName, options = {}) {\\n        this.attrName = attrName;\\n        this.keyName = keyName;\\n        let attributeBit = _scope__WEBPACK_IMPORTED_MODULE_0__[\\\"default\\\"].TYPE & _scope__WEBPACK_IMPORTED_MODULE_0__[\\\"default\\\"].ATTRIBUTE;\\n        if (options.scope != null) {\\n            // Ignore type bits, force attribute bit\\n            this.scope = (options.scope & _scope__WEBPACK_IMPORTED_MODULE_0__[\\\"default\\\"].LEVEL) | attributeBit;\\n        }\\n        else {\\n            this.scope = _scope__WEBPACK_IMPORTED_MODULE_0__[\\\"default\\\"].ATTRIBUTE;\\n        }\\n        if (options.whitelist != null)\\n            this.whitelist = options.whitelist;\\n    }\\n    add(node, value) {\\n        if (!this.canAdd(node, value))\\n            return false;\\n        node.setAttribute(this.keyName, value);\\n        return true;\\n    }\\n    canAdd(node, value) {\\n        if (this.whitelist == null)\\n            return true;\\n        if (typeof value === 'string') {\\n            return this.whitelist.indexOf(value.replace(/[\\\"']/g, '')) > -1;\\n        }\\n        else {\\n            return this.whitelist.indexOf(value) > -1;\\n        }\\n    }\\n    remove(node) {\\n        node.removeAttribute(this.keyName);\\n    }\\n    value(node) {\\n        let value = node.getAttribute(this.keyName);\\n        if (this.canAdd(node, value) && value) {\\n            return value;\\n        }\\n        return '';\\n    }\\n}\\n\\n\\n//# sourceURL=webpack://Quill/./node_modules/parchment/src/attributor/attributor.ts?\");\n\n/***/ }),\n\n/***/ \"./node_modules/parchment/src/attributor/class.ts\":\n/*!********************************************************!*\\\n  !*** ./node_modules/parchment/src/attributor/class.ts ***!\n  \\********************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\neval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony import */ var _attributor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./attributor */ \\\"./node_modules/parchment/src/attributor/attributor.ts\\\");\\n\\nfunction match(node, prefix) {\\n    let className = node.getAttribute('class') || '';\\n    return className.split(/\\\\s+/).filter(function (name) {\\n        return name.indexOf(`${prefix}-`) === 0;\\n    });\\n}\\nclass ClassAttributor extends _attributor__WEBPACK_IMPORTED_MODULE_0__[\\\"default\\\"] {\\n    static keys(node) {\\n        return (node.getAttribute('class') || '').split(/\\\\s+/).map(function (name) {\\n            return name\\n                .split('-')\\n                .slice(0, -1)\\n                .join('-');\\n        });\\n    }\\n    add(node, value) {\\n        if (!this.canAdd(node, value))\\n            return false;\\n        this.remove(node);\\n        node.classList.add(`${this.keyName}-${value}`);\\n        return true;\\n    }\\n    remove(node) {\\n        let matches = match(node, this.keyName);\\n        matches.forEach(function (name) {\\n            node.classList.remove(name);\\n        });\\n        if (node.classList.length === 0) {\\n            node.removeAttribute('class');\\n        }\\n    }\\n    value(node) {\\n        let result = match(node, this.keyName)[0] || '';\\n        let value = result.slice(this.keyName.length + 1); // +1 for hyphen\\n        return this.canAdd(node, value) ? value : '';\\n    }\\n}\\n/* harmony default export */ __webpack_exports__[\\\"default\\\"] = (ClassAttributor);\\n\\n\\n//# sourceURL=webpack://Quill/./node_modules/parchment/src/attributor/class.ts?\");\n\n/***/ }),\n\n/***/ \"./node_modules/parchment/src/attributor/store.ts\":\n/*!********************************************************!*\\\n  !*** ./node_modules/parchment/src/attributor/store.ts ***!\n  \\********************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\neval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony import */ var _attributor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./attributor */ \\\"./node_modules/parchment/src/attributor/attributor.ts\\\");\\n/* harmony import */ var _class__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./class */ \\\"./node_modules/parchment/src/attributor/class.ts\\\");\\n/* harmony import */ var _style__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./style */ \\\"./node_modules/parchment/src/attributor/style.ts\\\");\\n/* harmony import */ var _registry__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../registry */ \\\"./node_modules/parchment/src/registry.ts\\\");\\n/* harmony import */ var _scope__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../scope */ \\\"./node_modules/parchment/src/scope.ts\\\");\\n\\n\\n\\n\\n\\nclass AttributorStore {\\n    constructor(domNode) {\\n        this.attributes = {};\\n        this.domNode = domNode;\\n        this.build();\\n    }\\n    attribute(attribute, value) {\\n        // verb\\n        if (value) {\\n            if (attribute.add(this.domNode, value)) {\\n                if (attribute.value(this.domNode) != null) {\\n                    this.attributes[attribute.attrName] = attribute;\\n                }\\n                else {\\n                    delete this.attributes[attribute.attrName];\\n                }\\n            }\\n        }\\n        else {\\n            attribute.remove(this.domNode);\\n            delete this.attributes[attribute.attrName];\\n        }\\n    }\\n    build() {\\n        this.attributes = {};\\n        const blot = _registry__WEBPACK_IMPORTED_MODULE_3__[\\\"default\\\"].find(this.domNode);\\n        if (blot == null)\\n            return;\\n        let attributes = _attributor__WEBPACK_IMPORTED_MODULE_0__[\\\"default\\\"].keys(this.domNode);\\n        let classes = _class__WEBPACK_IMPORTED_MODULE_1__[\\\"default\\\"].keys(this.domNode);\\n        let styles = _style__WEBPACK_IMPORTED_MODULE_2__[\\\"default\\\"].keys(this.domNode);\\n        attributes\\n            .concat(classes)\\n            .concat(styles)\\n            .forEach(name => {\\n            let attr = blot.scroll.query(name, _scope__WEBPACK_IMPORTED_MODULE_4__[\\\"default\\\"].ATTRIBUTE);\\n            if (attr instanceof _attributor__WEBPACK_IMPORTED_MODULE_0__[\\\"default\\\"]) {\\n                this.attributes[attr.attrName] = attr;\\n            }\\n        });\\n    }\\n    copy(target) {\\n        Object.keys(this.attributes).forEach(key => {\\n            let value = this.attributes[key].value(this.domNode);\\n            target.format(key, value);\\n        });\\n    }\\n    move(target) {\\n        this.copy(target);\\n        Object.keys(this.attributes).forEach(key => {\\n            this.attributes[key].remove(this.domNode);\\n        });\\n        this.attributes = {};\\n    }\\n    values() {\\n        return Object.keys(this.attributes).reduce((attributes, name) => {\\n            attributes[name] = this.attributes[name].value(this.domNode);\\n            return attributes;\\n        }, {});\\n    }\\n}\\n/* harmony default export */ __webpack_exports__[\\\"default\\\"] = (AttributorStore);\\n\\n\\n//# sourceURL=webpack://Quill/./node_modules/parchment/src/attributor/store.ts?\");\n\n/***/ }),\n\n/***/ \"./node_modules/parchment/src/attributor/style.ts\":\n/*!********************************************************!*\\\n  !*** ./node_modules/parchment/src/attributor/style.ts ***!\n  \\********************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\neval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony import */ var _attributor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./attributor */ \\\"./node_modules/parchment/src/attributor/attributor.ts\\\");\\n\\nfunction camelize(name) {\\n    let parts = name.split('-');\\n    let rest = parts\\n        .slice(1)\\n        .map(function (part) {\\n        return part[0].toUpperCase() + part.slice(1);\\n    })\\n        .join('');\\n    return parts[0] + rest;\\n}\\nclass StyleAttributor extends _attributor__WEBPACK_IMPORTED_MODULE_0__[\\\"default\\\"] {\\n    static keys(node) {\\n        return (node.getAttribute('style') || '').split(';').map(function (value) {\\n            let arr = value.split(':');\\n            return arr[0].trim();\\n        });\\n    }\\n    add(node, value) {\\n        if (!this.canAdd(node, value))\\n            return false;\\n        // @ts-ignore\\n        node.style[camelize(this.keyName)] = value;\\n        return true;\\n    }\\n    remove(node) {\\n        // @ts-ignore\\n        node.style[camelize(this.keyName)] = '';\\n        if (!node.getAttribute('style')) {\\n            node.removeAttribute('style');\\n        }\\n    }\\n    value(node) {\\n        // @ts-ignore\\n        let value = node.style[camelize(this.keyName)];\\n        return this.canAdd(node, value) ? value : '';\\n    }\\n}\\n/* harmony default export */ __webpack_exports__[\\\"default\\\"] = (StyleAttributor);\\n\\n\\n//# sourceURL=webpack://Quill/./node_modules/parchment/src/attributor/style.ts?\");\n\n/***/ }),\n\n/***/ \"./node_modules/parchment/src/blot/abstract/container.ts\":\n/*!***************************************************************!*\\\n  !*** ./node_modules/parchment/src/blot/abstract/container.ts ***!\n  \\***************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\neval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony import */ var _parent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./parent */ \\\"./node_modules/parchment/src/blot/abstract/parent.ts\\\");\\n/* harmony import */ var _scope__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../scope */ \\\"./node_modules/parchment/src/scope.ts\\\");\\n\\n\\nclass ContainerBlot extends _parent__WEBPACK_IMPORTED_MODULE_0__[\\\"default\\\"] {\\n    checkMerge() {\\n        return (this.next !== null && this.next.statics.blotName === this.statics.blotName);\\n    }\\n    deleteAt(index, length) {\\n        super.deleteAt(index, length);\\n        this.enforceAllowedChildren();\\n    }\\n    formatAt(index, length, name, value) {\\n        super.formatAt(index, length, name, value);\\n        this.enforceAllowedChildren();\\n    }\\n    insertAt(index, value, def) {\\n        super.insertAt(index, value, def);\\n        this.enforceAllowedChildren();\\n    }\\n    optimize(context) {\\n        super.optimize(context);\\n        if (this.children.length > 0 && this.next != null && this.checkMerge()) {\\n            this.next.moveChildren(this);\\n            this.next.remove();\\n        }\\n    }\\n}\\nContainerBlot.blotName = 'container';\\nContainerBlot.scope = _scope__WEBPACK_IMPORTED_MODULE_1__[\\\"default\\\"].BLOCK_BLOT;\\n/* harmony default export */ __webpack_exports__[\\\"default\\\"] = (ContainerBlot);\\n\\n\\n//# sourceURL=webpack://Quill/./node_modules/parchment/src/blot/abstract/container.ts?\");\n\n/***/ }),\n\n/***/ \"./node_modules/parchment/src/blot/abstract/leaf.ts\":\n/*!**********************************************************!*\\\n  !*** ./node_modules/parchment/src/blot/abstract/leaf.ts ***!\n  \\**********************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\neval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony import */ var _shadow__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./shadow */ \\\"./node_modules/parchment/src/blot/abstract/shadow.ts\\\");\\n/* harmony import */ var _scope__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../scope */ \\\"./node_modules/parchment/src/scope.ts\\\");\\n\\n\\nclass LeafBlot extends _shadow__WEBPACK_IMPORTED_MODULE_0__[\\\"default\\\"] {\\n    static value(domNode) {\\n        return true;\\n    }\\n    index(node, offset) {\\n        if (this.domNode === node ||\\n            this.domNode.compareDocumentPosition(node) &\\n                Node.DOCUMENT_POSITION_CONTAINED_BY) {\\n            return Math.min(offset, 1);\\n        }\\n        return -1;\\n    }\\n    position(index, inclusive) {\\n        const childNodes = Array.from(this.parent.domNode.childNodes);\\n        let offset = childNodes.indexOf(this.domNode);\\n        if (index > 0)\\n            offset += 1;\\n        return [this.parent.domNode, offset];\\n    }\\n    value() {\\n        return {\\n            [this.statics.blotName]: this.statics.value(this.domNode) || true,\\n        };\\n    }\\n}\\nLeafBlot.scope = _scope__WEBPACK_IMPORTED_MODULE_1__[\\\"default\\\"].INLINE_BLOT;\\n/* harmony default export */ __webpack_exports__[\\\"default\\\"] = (LeafBlot);\\n\\n\\n//# sourceURL=webpack://Quill/./node_modules/parchment/src/blot/abstract/leaf.ts?\");\n\n/***/ }),\n\n/***/ \"./node_modules/parchment/src/blot/abstract/parent.ts\":\n/*!************************************************************!*\\\n  !*** ./node_modules/parchment/src/blot/abstract/parent.ts ***!\n  \\************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\neval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony import */ var _collection_linked_list__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../collection/linked-list */ \\\"./node_modules/parchment/src/collection/linked-list.ts\\\");\\n/* harmony import */ var _shadow__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./shadow */ \\\"./node_modules/parchment/src/blot/abstract/shadow.ts\\\");\\n/* harmony import */ var _error__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../error */ \\\"./node_modules/parchment/src/error.ts\\\");\\n/* harmony import */ var _scope__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../scope */ \\\"./node_modules/parchment/src/scope.ts\\\");\\n\\n\\n\\n\\nclass ParentBlot extends _shadow__WEBPACK_IMPORTED_MODULE_1__[\\\"default\\\"] {\\n    constructor(scroll, domNode) {\\n        super(scroll, domNode);\\n        this.uiNode = null;\\n        this.build();\\n    }\\n    appendChild(other) {\\n        this.insertBefore(other);\\n    }\\n    attach() {\\n        super.attach();\\n        this.children.forEach(child => {\\n            child.attach();\\n        });\\n    }\\n    attachUI(node) {\\n        if (this.uiNode != null) {\\n            this.uiNode.remove();\\n        }\\n        this.uiNode = node;\\n        this.uiNode.setAttribute('contenteditable', 'false');\\n        this.domNode.insertBefore(this.uiNode, this.domNode.firstChild);\\n    }\\n    build() {\\n        this.children = new _collection_linked_list__WEBPACK_IMPORTED_MODULE_0__[\\\"default\\\"]();\\n        // Need to be reversed for if DOM nodes already in order\\n        Array.from(this.domNode.childNodes)\\n            .filter((node) => node !== this.uiNode)\\n            .reverse()\\n            .forEach((node) => {\\n            try {\\n                let child = makeAttachedBlot(node, this.scroll);\\n                this.insertBefore(child, this.children.head || undefined);\\n            }\\n            catch (err) {\\n                if (err instanceof _error__WEBPACK_IMPORTED_MODULE_2__[\\\"default\\\"])\\n                    return;\\n                else\\n                    throw err;\\n            }\\n        });\\n    }\\n    deleteAt(index, length) {\\n        if (index === 0 && length === this.length()) {\\n            return this.remove();\\n        }\\n        this.children.forEachAt(index, length, function (child, offset, length) {\\n            child.deleteAt(offset, length);\\n        });\\n    }\\n    descendant(criteria, index = 0) {\\n        let [child, offset] = this.children.find(index);\\n        if ((criteria.blotName == null && criteria(child)) ||\\n            (criteria.blotName != null && child instanceof criteria)) {\\n            return [child, offset];\\n        }\\n        else if (child instanceof ParentBlot) {\\n            return child.descendant(criteria, offset);\\n        }\\n        else {\\n            return [null, -1];\\n        }\\n    }\\n    descendants(criteria, index = 0, length = Number.MAX_VALUE) {\\n        let descendants = [];\\n        let lengthLeft = length;\\n        this.children.forEachAt(index, length, function (child, index, length) {\\n            if ((criteria.blotName == null && criteria(child)) ||\\n                (criteria.blotName != null && child instanceof criteria)) {\\n                descendants.push(child);\\n            }\\n            if (child instanceof ParentBlot) {\\n                descendants = descendants.concat(child.descendants(criteria, index, lengthLeft));\\n            }\\n            lengthLeft -= length;\\n        });\\n        return descendants;\\n    }\\n    detach() {\\n        this.children.forEach(function (child) {\\n            child.detach();\\n        });\\n        super.detach();\\n    }\\n    enforceAllowedChildren() {\\n        let done = false;\\n        const children = this.children.forEach((child) => {\\n            if (done)\\n                return;\\n            const allowed = this.statics.allowedChildren.some((def) => child instanceof def);\\n            if (allowed)\\n                return;\\n            if (child.statics.scope === _scope__WEBPACK_IMPORTED_MODULE_3__[\\\"default\\\"].BLOCK_BLOT) {\\n                if (child.next != null) {\\n                    this.splitAfter(child);\\n                }\\n                if (child.prev != null) {\\n                    this.splitAfter(child.prev);\\n                }\\n                child.parent.unwrap();\\n                done = true;\\n            }\\n            else if (child instanceof ParentBlot) {\\n                child.unwrap();\\n            }\\n            else {\\n                child.remove();\\n            }\\n        });\\n    }\\n    formatAt(index, length, name, value) {\\n        this.children.forEachAt(index, length, function (child, offset, length) {\\n            child.formatAt(offset, length, name, value);\\n        });\\n    }\\n    insertAt(index, value, def) {\\n        let [child, offset] = this.children.find(index);\\n        if (child) {\\n            child.insertAt(offset, value, def);\\n        }\\n        else {\\n            let blot = def == null\\n                ? this.scroll.create('text', value)\\n                : this.scroll.create(value, def);\\n            this.appendChild(blot);\\n        }\\n    }\\n    insertBefore(childBlot, refBlot) {\\n        if (childBlot.parent != null) {\\n            childBlot.parent.children.remove(childBlot);\\n        }\\n        let refDomNode = null;\\n        this.children.insertBefore(childBlot, refBlot || null);\\n        if (refBlot != null) {\\n            refDomNode = refBlot.domNode;\\n        }\\n        if (this.domNode.parentNode != childBlot.domNode ||\\n            this.domNode.nextSibling != refDomNode) {\\n            this.domNode.insertBefore(childBlot.domNode, refDomNode);\\n        }\\n        childBlot.parent = this;\\n        childBlot.attach();\\n    }\\n    length() {\\n        return this.children.reduce(function (memo, child) {\\n            return memo + child.length();\\n        }, 0);\\n    }\\n    moveChildren(targetParent, refNode) {\\n        this.children.forEach(function (child) {\\n            targetParent.insertBefore(child, refNode);\\n        });\\n    }\\n    optimize(context) {\\n        super.optimize(context);\\n        this.enforceAllowedChildren();\\n        if (this.uiNode != null && this.uiNode !== this.domNode.firstChild) {\\n            this.domNode.insertBefore(this.uiNode, this.domNode.firstChild);\\n        }\\n        if (this.children.length === 0) {\\n            if (this.statics.defaultChild != null) {\\n                let child = this.scroll.create(this.statics.defaultChild.blotName);\\n                this.appendChild(child);\\n                // TODO double check if necessary\\n                // child.optimize(context);\\n            }\\n            else {\\n                this.remove();\\n            }\\n        }\\n    }\\n    path(index, inclusive = false) {\\n        let [child, offset] = this.children.find(index, inclusive);\\n        let position = [[this, index]];\\n        if (child instanceof ParentBlot) {\\n            return position.concat(child.path(offset, inclusive));\\n        }\\n        else if (child != null) {\\n            position.push([child, offset]);\\n        }\\n        return position;\\n    }\\n    removeChild(child) {\\n        this.children.remove(child);\\n    }\\n    replaceWith(name, value) {\\n        const replacement = typeof name === 'string' ? this.scroll.create(name, value) : name;\\n        if (replacement instanceof ParentBlot) {\\n            this.moveChildren(replacement);\\n        }\\n        return super.replaceWith(replacement);\\n    }\\n    split(index, force = false) {\\n        if (!force) {\\n            if (index === 0)\\n                return this;\\n            if (index === this.length())\\n                return this.next;\\n        }\\n        let after = this.clone();\\n        if (this.parent) {\\n            this.parent.insertBefore(after, this.next || undefined);\\n        }\\n        this.children.forEachAt(index, this.length(), function (child, offset, length) {\\n            const split = child.split(offset, force);\\n            if (split != null) {\\n                after.appendChild(split);\\n            }\\n        });\\n        return after;\\n    }\\n    splitAfter(child) {\\n        let after = this.clone();\\n        while (child.next != null) {\\n            after.appendChild(child.next);\\n        }\\n        if (this.parent) {\\n            this.parent.insertBefore(after, this.next || undefined);\\n        }\\n        return after;\\n    }\\n    unwrap() {\\n        if (this.parent) {\\n            this.moveChildren(this.parent, this.next || undefined);\\n        }\\n        this.remove();\\n    }\\n    update(mutations, context) {\\n        let addedNodes = [];\\n        let removedNodes = [];\\n        mutations.forEach(mutation => {\\n            if (mutation.target === this.domNode && mutation.type === 'childList') {\\n                addedNodes.push.apply(addedNodes, mutation.addedNodes);\\n                removedNodes.push.apply(removedNodes, mutation.removedNodes);\\n            }\\n        });\\n        removedNodes.forEach((node) => {\\n            // Check node has actually been removed\\n            // One exception is Chrome does not immediately remove IFRAMEs\\n            // from DOM but MutationRecord is correct in its reported removal\\n            if (node.parentNode != null &&\\n                // @ts-ignore\\n                node.tagName !== 'IFRAME' &&\\n                document.body.compareDocumentPosition(node) &\\n                    Node.DOCUMENT_POSITION_CONTAINED_BY) {\\n                return;\\n            }\\n            let blot = this.scroll.find(node);\\n            if (blot == null)\\n                return;\\n            if (blot.domNode.parentNode == null ||\\n                blot.domNode.parentNode === this.domNode) {\\n                blot.detach();\\n            }\\n        });\\n        addedNodes\\n            .filter(node => {\\n            return node.parentNode === this.domNode || node === this.uiNode;\\n        })\\n            .sort(function (a, b) {\\n            if (a === b)\\n                return 0;\\n            if (a.compareDocumentPosition(b) & Node.DOCUMENT_POSITION_FOLLOWING) {\\n                return 1;\\n            }\\n            return -1;\\n        })\\n            .forEach(node => {\\n            let refBlot = null;\\n            if (node.nextSibling != null) {\\n                refBlot = this.scroll.find(node.nextSibling);\\n            }\\n            let blot = makeAttachedBlot(node, this.scroll);\\n            if (blot.next != refBlot || blot.next == null) {\\n                if (blot.parent != null) {\\n                    blot.parent.removeChild(this);\\n                }\\n                this.insertBefore(blot, refBlot || undefined);\\n            }\\n        });\\n        this.enforceAllowedChildren();\\n    }\\n}\\nfunction makeAttachedBlot(node, scroll) {\\n    let blot = scroll.find(node);\\n    if (blot == null) {\\n        try {\\n            blot = scroll.create(node);\\n        }\\n        catch (e) {\\n            blot = scroll.create(_scope__WEBPACK_IMPORTED_MODULE_3__[\\\"default\\\"].INLINE);\\n            Array.from(node.childNodes).forEach(function (child) {\\n                // @ts-ignore\\n                blot.domNode.appendChild(child);\\n            });\\n            if (node.parentNode) {\\n                node.parentNode.replaceChild(blot.domNode, node);\\n            }\\n            blot.attach();\\n        }\\n    }\\n    return blot;\\n}\\n/* harmony default export */ __webpack_exports__[\\\"default\\\"] = (ParentBlot);\\n\\n\\n//# sourceURL=webpack://Quill/./node_modules/parchment/src/blot/abstract/parent.ts?\");\n\n/***/ }),\n\n/***/ \"./node_modules/parchment/src/blot/abstract/shadow.ts\":\n/*!************************************************************!*\\\n  !*** ./node_modules/parchment/src/blot/abstract/shadow.ts ***!\n  \\************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\neval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony import */ var _error__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../error */ \\\"./node_modules/parchment/src/error.ts\\\");\\n/* harmony import */ var _scope__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../scope */ \\\"./node_modules/parchment/src/scope.ts\\\");\\n/* harmony import */ var _registry__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../registry */ \\\"./node_modules/parchment/src/registry.ts\\\");\\n\\n\\n\\nclass ShadowBlot {\\n    constructor(scroll, domNode) {\\n        this.scroll = scroll;\\n        this.domNode = domNode;\\n        _registry__WEBPACK_IMPORTED_MODULE_2__[\\\"default\\\"].blots.set(domNode, this);\\n        this.prev = null;\\n        this.next = null;\\n    }\\n    // Hack for accessing inherited static methods\\n    get statics() {\\n        return this.constructor;\\n    }\\n    static create(value) {\\n        if (this.tagName == null) {\\n            throw new _error__WEBPACK_IMPORTED_MODULE_0__[\\\"default\\\"]('Blot definition missing tagName');\\n        }\\n        let node;\\n        if (Array.isArray(this.tagName)) {\\n            if (typeof value === 'string') {\\n                value = value.toUpperCase();\\n                if (parseInt(value).toString() === value) {\\n                    value = parseInt(value);\\n                }\\n            }\\n            if (typeof value === 'number') {\\n                node = document.createElement(this.tagName[value - 1]);\\n            }\\n            else if (this.tagName.indexOf(value) > -1) {\\n                node = document.createElement(value);\\n            }\\n            else {\\n                node = document.createElement(this.tagName[0]);\\n            }\\n        }\\n        else {\\n            node = document.createElement(this.tagName);\\n        }\\n        if (this.className) {\\n            node.classList.add(this.className);\\n        }\\n        return node;\\n    }\\n    attach() {\\n        // Nothing to do\\n    }\\n    clone() {\\n        let domNode = this.domNode.cloneNode(false);\\n        return this.scroll.create(domNode);\\n    }\\n    detach() {\\n        if (this.parent != null)\\n            this.parent.removeChild(this);\\n        _registry__WEBPACK_IMPORTED_MODULE_2__[\\\"default\\\"].blots.delete(this.domNode);\\n    }\\n    deleteAt(index, length) {\\n        let blot = this.isolate(index, length);\\n        blot.remove();\\n    }\\n    formatAt(index, length, name, value) {\\n        let blot = this.isolate(index, length);\\n        if (this.scroll.query(name, _scope__WEBPACK_IMPORTED_MODULE_1__[\\\"default\\\"].BLOT) != null && value) {\\n            blot.wrap(name, value);\\n        }\\n        else if (this.scroll.query(name, _scope__WEBPACK_IMPORTED_MODULE_1__[\\\"default\\\"].ATTRIBUTE) != null) {\\n            let parent = this.scroll.create(this.statics.scope);\\n            blot.wrap(parent);\\n            parent.format(name, value);\\n        }\\n    }\\n    insertAt(index, value, def) {\\n        let blot = def == null\\n            ? this.scroll.create('text', value)\\n            : this.scroll.create(value, def);\\n        let ref = this.split(index);\\n        this.parent.insertBefore(blot, ref || undefined);\\n    }\\n    isolate(index, length) {\\n        let target = this.split(index);\\n        if (target == null) {\\n            throw new Error('Attempt to isolate at end');\\n        }\\n        target.split(length);\\n        return target;\\n    }\\n    length() {\\n        return 1;\\n    }\\n    offset(root = this.parent) {\\n        if (this.parent == null || this == root)\\n            return 0;\\n        return this.parent.children.offset(this) + this.parent.offset(root);\\n    }\\n    optimize(context) {\\n        if (this.statics.requiredContainer &&\\n            !(this.parent instanceof this.statics.requiredContainer)) {\\n            this.wrap(this.statics.requiredContainer.blotName);\\n        }\\n    }\\n    remove() {\\n        if (this.domNode.parentNode != null) {\\n            this.domNode.parentNode.removeChild(this.domNode);\\n        }\\n        this.detach();\\n    }\\n    replaceWith(name, value) {\\n        const replacement = typeof name === 'string' ? this.scroll.create(name, value) : name;\\n        if (this.parent != null) {\\n            this.parent.insertBefore(replacement, this.next || undefined);\\n            this.remove();\\n        }\\n        return replacement;\\n    }\\n    split(index, force) {\\n        return index === 0 ? this : this.next;\\n    }\\n    update(mutations, context) {\\n        // Nothing to do by default\\n    }\\n    wrap(name, value) {\\n        let wrapper = typeof name === 'string' ? this.scroll.create(name, value) : name;\\n        if (this.parent != null) {\\n            this.parent.insertBefore(wrapper, this.next || undefined);\\n        }\\n        wrapper.appendChild(this);\\n        return wrapper;\\n    }\\n}\\nShadowBlot.blotName = 'abstract';\\n/* harmony default export */ __webpack_exports__[\\\"default\\\"] = (ShadowBlot);\\n\\n\\n//# sourceURL=webpack://Quill/./node_modules/parchment/src/blot/abstract/shadow.ts?\");\n\n/***/ }),\n\n/***/ \"./node_modules/parchment/src/blot/block.ts\":\n/*!**************************************************!*\\\n  !*** ./node_modules/parchment/src/blot/block.ts ***!\n  \\**************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\neval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony import */ var _attributor_attributor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../attributor/attributor */ \\\"./node_modules/parchment/src/attributor/attributor.ts\\\");\\n/* harmony import */ var _attributor_store__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../attributor/store */ \\\"./node_modules/parchment/src/attributor/store.ts\\\");\\n/* harmony import */ var _abstract_parent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./abstract/parent */ \\\"./node_modules/parchment/src/blot/abstract/parent.ts\\\");\\n/* harmony import */ var _abstract_leaf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./abstract/leaf */ \\\"./node_modules/parchment/src/blot/abstract/leaf.ts\\\");\\n/* harmony import */ var _inline__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./inline */ \\\"./node_modules/parchment/src/blot/inline.ts\\\");\\n/* harmony import */ var _scope__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../scope */ \\\"./node_modules/parchment/src/scope.ts\\\");\\n\\n\\n\\n\\n\\n\\nclass BlockBlot extends _abstract_parent__WEBPACK_IMPORTED_MODULE_2__[\\\"default\\\"] {\\n    constructor(scroll, domNode) {\\n        super(scroll, domNode);\\n        this.attributes = new _attributor_store__WEBPACK_IMPORTED_MODULE_1__[\\\"default\\\"](this.domNode);\\n    }\\n    static formats(domNode, scroll) {\\n        const match = scroll.query(BlockBlot.blotName);\\n        if (match != null && domNode.tagName === match.tagName) {\\n            return undefined;\\n        }\\n        else if (typeof this.tagName === 'string') {\\n            return true;\\n        }\\n        else if (Array.isArray(this.tagName)) {\\n            return domNode.tagName.toLowerCase();\\n        }\\n    }\\n    format(name, value) {\\n        const format = this.scroll.query(name, _scope__WEBPACK_IMPORTED_MODULE_5__[\\\"default\\\"].BLOCK);\\n        if (format == null) {\\n            return;\\n        }\\n        else if (format instanceof _attributor_attributor__WEBPACK_IMPORTED_MODULE_0__[\\\"default\\\"]) {\\n            this.attributes.attribute(format, value);\\n        }\\n        else if (name === this.statics.blotName && !value) {\\n            this.replaceWith(BlockBlot.blotName);\\n        }\\n        else if (value &&\\n            (name !== this.statics.blotName || this.formats()[name] !== value)) {\\n            this.replaceWith(name, value);\\n        }\\n    }\\n    formats() {\\n        const formats = this.attributes.values();\\n        const format = this.statics.formats(this.domNode, this.scroll);\\n        if (format != null) {\\n            formats[this.statics.blotName] = format;\\n        }\\n        return formats;\\n    }\\n    formatAt(index, length, name, value) {\\n        if (this.scroll.query(name, _scope__WEBPACK_IMPORTED_MODULE_5__[\\\"default\\\"].BLOCK) != null) {\\n            this.format(name, value);\\n        }\\n        else {\\n            super.formatAt(index, length, name, value);\\n        }\\n    }\\n    insertAt(index, value, def) {\\n        if (def == null || this.scroll.query(value, _scope__WEBPACK_IMPORTED_MODULE_5__[\\\"default\\\"].INLINE) != null) {\\n            // Insert text or inline\\n            super.insertAt(index, value, def);\\n        }\\n        else {\\n            const after = this.split(index);\\n            if (after != null) {\\n                const blot = this.scroll.create(value, def);\\n                after.parent.insertBefore(blot, after);\\n            }\\n            else {\\n                throw new Error('Attempt to insertAt after block boundaries');\\n            }\\n        }\\n    }\\n    replaceWith(name, value) {\\n        const replacement = super.replaceWith(name, value);\\n        this.attributes.copy(replacement);\\n        return replacement;\\n    }\\n    update(mutations, context) {\\n        super.update(mutations, context);\\n        const attributeChanged = mutations.some(mutation => mutation.target === this.domNode && mutation.type === 'attributes');\\n        if (attributeChanged) {\\n            this.attributes.build();\\n        }\\n    }\\n}\\nBlockBlot.allowedChildren = [_inline__WEBPACK_IMPORTED_MODULE_4__[\\\"default\\\"], BlockBlot, _abstract_leaf__WEBPACK_IMPORTED_MODULE_3__[\\\"default\\\"]];\\nBlockBlot.blotName = 'block';\\nBlockBlot.scope = _scope__WEBPACK_IMPORTED_MODULE_5__[\\\"default\\\"].BLOCK_BLOT;\\nBlockBlot.tagName = 'P';\\n/* harmony default export */ __webpack_exports__[\\\"default\\\"] = (BlockBlot);\\n\\n\\n//# sourceURL=webpack://Quill/./node_modules/parchment/src/blot/block.ts?\");\n\n/***/ }),\n\n/***/ \"./node_modules/parchment/src/blot/embed.ts\":\n/*!**************************************************!*\\\n  !*** ./node_modules/parchment/src/blot/embed.ts ***!\n  \\**************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\neval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony import */ var _abstract_leaf__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./abstract/leaf */ \\\"./node_modules/parchment/src/blot/abstract/leaf.ts\\\");\\n\\nclass EmbedBlot extends _abstract_leaf__WEBPACK_IMPORTED_MODULE_0__[\\\"default\\\"] {\\n    static formats(domNode, scroll) {\\n        return undefined;\\n    }\\n    format(name, value) {\\n        // super.formatAt wraps, which is what we want in general,\\n        // but this allows subclasses to overwrite for formats\\n        // that just apply to particular embeds\\n        super.formatAt(0, this.length(), name, value);\\n    }\\n    formatAt(index, length, name, value) {\\n        if (index === 0 && length === this.length()) {\\n            this.format(name, value);\\n        }\\n        else {\\n            super.formatAt(index, length, name, value);\\n        }\\n    }\\n    formats() {\\n        return this.statics.formats(this.domNode, this.scroll);\\n    }\\n}\\n/* harmony default export */ __webpack_exports__[\\\"default\\\"] = (EmbedBlot);\\n\\n\\n//# sourceURL=webpack://Quill/./node_modules/parchment/src/blot/embed.ts?\");\n\n/***/ }),\n\n/***/ \"./node_modules/parchment/src/blot/inline.ts\":\n/*!***************************************************!*\\\n  !*** ./node_modules/parchment/src/blot/inline.ts ***!\n  \\***************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\neval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony import */ var _attributor_attributor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../attributor/attributor */ \\\"./node_modules/parchment/src/attributor/attributor.ts\\\");\\n/* harmony import */ var _attributor_store__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../attributor/store */ \\\"./node_modules/parchment/src/attributor/store.ts\\\");\\n/* harmony import */ var _abstract_parent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./abstract/parent */ \\\"./node_modules/parchment/src/blot/abstract/parent.ts\\\");\\n/* harmony import */ var _abstract_leaf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./abstract/leaf */ \\\"./node_modules/parchment/src/blot/abstract/leaf.ts\\\");\\n/* harmony import */ var _scope__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../scope */ \\\"./node_modules/parchment/src/scope.ts\\\");\\n\\n\\n\\n\\n\\n// Shallow object comparison\\nfunction isEqual(obj1, obj2) {\\n    if (Object.keys(obj1).length !== Object.keys(obj2).length)\\n        return false;\\n    // @ts-ignore\\n    for (let prop in obj1) {\\n        // @ts-ignore\\n        if (obj1[prop] !== obj2[prop])\\n            return false;\\n    }\\n    return true;\\n}\\nclass InlineBlot extends _abstract_parent__WEBPACK_IMPORTED_MODULE_2__[\\\"default\\\"] {\\n    constructor(scroll, domNode) {\\n        super(scroll, domNode);\\n        this.attributes = new _attributor_store__WEBPACK_IMPORTED_MODULE_1__[\\\"default\\\"](this.domNode);\\n    }\\n    static formats(domNode, scroll) {\\n        const match = scroll.query(InlineBlot.blotName);\\n        if (match != null && domNode.tagName === match.tagName) {\\n            return undefined;\\n        }\\n        else if (typeof this.tagName === 'string') {\\n            return true;\\n        }\\n        else if (Array.isArray(this.tagName)) {\\n            return domNode.tagName.toLowerCase();\\n        }\\n        return undefined;\\n    }\\n    format(name, value) {\\n        if (name === this.statics.blotName && !value) {\\n            this.children.forEach(child => {\\n                if (!(child instanceof InlineBlot)) {\\n                    child = child.wrap(InlineBlot.blotName, true);\\n                }\\n                this.attributes.copy(child);\\n            });\\n            this.unwrap();\\n        }\\n        else {\\n            const format = this.scroll.query(name, _scope__WEBPACK_IMPORTED_MODULE_4__[\\\"default\\\"].INLINE);\\n            if (format == null)\\n                return;\\n            if (format instanceof _attributor_attributor__WEBPACK_IMPORTED_MODULE_0__[\\\"default\\\"]) {\\n                this.attributes.attribute(format, value);\\n            }\\n            else if (value &&\\n                (name !== this.statics.blotName || this.formats()[name] !== value)) {\\n                this.replaceWith(name, value);\\n            }\\n        }\\n    }\\n    formats() {\\n        let formats = this.attributes.values();\\n        let format = this.statics.formats(this.domNode, this.scroll);\\n        if (format != null) {\\n            formats[this.statics.blotName] = format;\\n        }\\n        return formats;\\n    }\\n    formatAt(index, length, name, value) {\\n        if (this.formats()[name] != null ||\\n            this.scroll.query(name, _scope__WEBPACK_IMPORTED_MODULE_4__[\\\"default\\\"].ATTRIBUTE)) {\\n            let blot = this.isolate(index, length);\\n            blot.format(name, value);\\n        }\\n        else {\\n            super.formatAt(index, length, name, value);\\n        }\\n    }\\n    optimize(context) {\\n        super.optimize(context);\\n        let formats = this.formats();\\n        if (Object.keys(formats).length === 0) {\\n            return this.unwrap(); // unformatted span\\n        }\\n        let next = this.next;\\n        if (next instanceof InlineBlot &&\\n            next.prev === this &&\\n            isEqual(formats, next.formats())) {\\n            next.moveChildren(this);\\n            next.remove();\\n        }\\n    }\\n    replaceWith(name, value) {\\n        const replacement = super.replaceWith(name, value);\\n        this.attributes.copy(replacement);\\n        return replacement;\\n    }\\n    update(mutations, context) {\\n        super.update(mutations, context);\\n        const attributeChanged = mutations.some(mutation => mutation.target === this.domNode && mutation.type === 'attributes');\\n        if (attributeChanged) {\\n            this.attributes.build();\\n        }\\n    }\\n    wrap(name, value) {\\n        const wrapper = super.wrap(name, value);\\n        if (wrapper instanceof InlineBlot) {\\n            this.attributes.move(wrapper);\\n        }\\n        return wrapper;\\n    }\\n}\\nInlineBlot.allowedChildren = [InlineBlot, _abstract_leaf__WEBPACK_IMPORTED_MODULE_3__[\\\"default\\\"]];\\nInlineBlot.blotName = 'inline';\\nInlineBlot.scope = _scope__WEBPACK_IMPORTED_MODULE_4__[\\\"default\\\"].INLINE_BLOT;\\nInlineBlot.tagName = 'SPAN';\\n/* harmony default export */ __webpack_exports__[\\\"default\\\"] = (InlineBlot);\\n\\n\\n//# sourceURL=webpack://Quill/./node_modules/parchment/src/blot/inline.ts?\");\n\n/***/ }),\n\n/***/ \"./node_modules/parchment/src/blot/scroll.ts\":\n/*!***************************************************!*\\\n  !*** ./node_modules/parchment/src/blot/scroll.ts ***!\n  \\***************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\neval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony import */ var _abstract_parent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./abstract/parent */ \\\"./node_modules/parchment/src/blot/abstract/parent.ts\\\");\\n/* harmony import */ var _abstract_container__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./abstract/container */ \\\"./node_modules/parchment/src/blot/abstract/container.ts\\\");\\n/* harmony import */ var _block__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./block */ \\\"./node_modules/parchment/src/blot/block.ts\\\");\\n/* harmony import */ var _registry__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../registry */ \\\"./node_modules/parchment/src/registry.ts\\\");\\n/* harmony import */ var _scope__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../scope */ \\\"./node_modules/parchment/src/scope.ts\\\");\\n\\n\\n\\n\\n\\nconst OBSERVER_CONFIG = {\\n    attributes: true,\\n    characterData: true,\\n    characterDataOldValue: true,\\n    childList: true,\\n    subtree: true,\\n};\\nconst MAX_OPTIMIZE_ITERATIONS = 100;\\nclass ScrollBlot extends _abstract_parent__WEBPACK_IMPORTED_MODULE_0__[\\\"default\\\"] {\\n    constructor(registry, node) {\\n        // @ts-ignore\\n        super(null, node);\\n        this.registry = registry;\\n        this.scroll = this;\\n        this.build();\\n        this.observer = new MutationObserver((mutations) => {\\n            this.update(mutations);\\n        });\\n        this.observer.observe(this.domNode, OBSERVER_CONFIG);\\n        this.attach();\\n    }\\n    create(input, value) {\\n        return this.registry.create(this, input, value);\\n    }\\n    find(node, bubble = false) {\\n        return this.registry.find(node, bubble);\\n    }\\n    query(query, scope = _scope__WEBPACK_IMPORTED_MODULE_4__[\\\"default\\\"].ANY) {\\n        return this.registry.query(query, scope);\\n    }\\n    register(...Definitions) {\\n        return this.registry.register(...Definitions);\\n    }\\n    build() {\\n        if (this.scroll == null)\\n            return;\\n        super.build();\\n    }\\n    detach() {\\n        super.detach();\\n        this.observer.disconnect();\\n    }\\n    deleteAt(index, length) {\\n        this.update();\\n        if (index === 0 && length === this.length()) {\\n            this.children.forEach(function (child) {\\n                child.remove();\\n            });\\n        }\\n        else {\\n            super.deleteAt(index, length);\\n        }\\n    }\\n    formatAt(index, length, name, value) {\\n        this.update();\\n        super.formatAt(index, length, name, value);\\n    }\\n    insertAt(index, value, def) {\\n        this.update();\\n        super.insertAt(index, value, def);\\n    }\\n    optimize(mutations = [], context = {}) {\\n        super.optimize(context);\\n        const mutationsMap = context.mutationsMap || new WeakMap();\\n        // We must modify mutations directly, cannot make copy and then modify\\n        let records = Array.from(this.observer.takeRecords());\\n        // Array.push currently seems to be implemented by a non-tail recursive function\\n        // so we cannot just mutations.push.apply(mutations, this.observer.takeRecords());\\n        while (records.length > 0)\\n            mutations.push(records.pop());\\n        let mark = (blot, markParent = true) => {\\n            if (blot == null || blot === this)\\n                return;\\n            if (blot.domNode.parentNode == null)\\n                return;\\n            if (!mutationsMap.has(blot.domNode)) {\\n                mutationsMap.set(blot.domNode, []);\\n            }\\n            if (markParent)\\n                mark(blot.parent);\\n        };\\n        let optimize = function (blot) {\\n            // Post-order traversal\\n            if (!mutationsMap.has(blot.domNode))\\n                return;\\n            if (blot instanceof _abstract_parent__WEBPACK_IMPORTED_MODULE_0__[\\\"default\\\"]) {\\n                blot.children.forEach(optimize);\\n            }\\n            mutationsMap.delete(blot.domNode);\\n            blot.optimize(context);\\n        };\\n        let remaining = mutations;\\n        for (let i = 0; remaining.length > 0; i += 1) {\\n            if (i >= MAX_OPTIMIZE_ITERATIONS) {\\n                throw new Error('[Parchment] Maximum optimize iterations reached');\\n            }\\n            remaining.forEach((mutation) => {\\n                let blot = this.find(mutation.target, true);\\n                if (blot == null)\\n                    return;\\n                if (blot.domNode === mutation.target) {\\n                    if (mutation.type === 'childList') {\\n                        mark(this.find(mutation.previousSibling, false));\\n                        Array.from(mutation.addedNodes).forEach((node) => {\\n                            const child = this.find(node, false);\\n                            mark(child, false);\\n                            if (child instanceof _abstract_parent__WEBPACK_IMPORTED_MODULE_0__[\\\"default\\\"]) {\\n                                child.children.forEach(function (grandChild) {\\n                                    mark(grandChild, false);\\n                                });\\n                            }\\n                        });\\n                    }\\n                    else if (mutation.type === 'attributes') {\\n                        mark(blot.prev);\\n                    }\\n                }\\n                mark(blot);\\n            });\\n            this.children.forEach(optimize);\\n            remaining = Array.from(this.observer.takeRecords());\\n            records = remaining.slice();\\n            while (records.length > 0)\\n                mutations.push(records.pop());\\n        }\\n    }\\n    update(mutations, context = {}) {\\n        mutations = mutations || this.observer.takeRecords();\\n        const mutationsMap = new WeakMap();\\n        mutations\\n            .map((mutation) => {\\n            let blot = _registry__WEBPACK_IMPORTED_MODULE_3__[\\\"default\\\"].find(mutation.target, true);\\n            if (blot == null)\\n                return null;\\n            if (mutationsMap.has(blot.domNode)) {\\n                mutationsMap.get(blot.domNode).push(mutation);\\n                return null;\\n            }\\n            else {\\n                mutationsMap.set(blot.domNode, [mutation]);\\n                return blot;\\n            }\\n        })\\n            .forEach((blot) => {\\n            if (blot != null && blot !== this && mutationsMap.has(blot.domNode)) {\\n                blot.update(mutationsMap.get(blot.domNode) || [], context);\\n            }\\n        });\\n        context.mutationsMap = mutationsMap;\\n        if (mutationsMap.has(this.domNode)) {\\n            super.update(mutationsMap.get(this.domNode), context);\\n        }\\n        this.optimize(mutations, context);\\n    }\\n}\\nScrollBlot.blotName = 'scroll';\\nScrollBlot.defaultChild = _block__WEBPACK_IMPORTED_MODULE_2__[\\\"default\\\"];\\nScrollBlot.allowedChildren = [_block__WEBPACK_IMPORTED_MODULE_2__[\\\"default\\\"], _abstract_container__WEBPACK_IMPORTED_MODULE_1__[\\\"default\\\"]];\\nScrollBlot.scope = _scope__WEBPACK_IMPORTED_MODULE_4__[\\\"default\\\"].BLOCK_BLOT;\\nScrollBlot.tagName = 'DIV';\\n/* harmony default export */ __webpack_exports__[\\\"default\\\"] = (ScrollBlot);\\n\\n\\n//# sourceURL=webpack://Quill/./node_modules/parchment/src/blot/scroll.ts?\");\n\n/***/ }),\n\n/***/ \"./node_modules/parchment/src/blot/text.ts\":\n/*!*************************************************!*\\\n  !*** ./node_modules/parchment/src/blot/text.ts ***!\n  \\*************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\neval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony import */ var _abstract_leaf__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./abstract/leaf */ \\\"./node_modules/parchment/src/blot/abstract/leaf.ts\\\");\\n/* harmony import */ var _scope__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../scope */ \\\"./node_modules/parchment/src/scope.ts\\\");\\n\\n\\nclass TextBlot extends _abstract_leaf__WEBPACK_IMPORTED_MODULE_0__[\\\"default\\\"] {\\n    constructor(scroll, node) {\\n        super(scroll, node);\\n        this.text = this.statics.value(this.domNode);\\n    }\\n    static create(value) {\\n        return document.createTextNode(value);\\n    }\\n    static value(domNode) {\\n        let text = domNode.data;\\n        // @ts-ignore\\n        if (text['normalize'])\\n            text = text['normalize']();\\n        return text;\\n    }\\n    deleteAt(index, length) {\\n        this.domNode.data = this.text =\\n            this.text.slice(0, index) + this.text.slice(index + length);\\n    }\\n    index(node, offset) {\\n        if (this.domNode === node) {\\n            return offset;\\n        }\\n        return -1;\\n    }\\n    insertAt(index, value, def) {\\n        if (def == null) {\\n            this.text = this.text.slice(0, index) + value + this.text.slice(index);\\n            this.domNode.data = this.text;\\n        }\\n        else {\\n            super.insertAt(index, value, def);\\n        }\\n    }\\n    length() {\\n        return this.text.length;\\n    }\\n    optimize(context) {\\n        super.optimize(context);\\n        this.text = this.statics.value(this.domNode);\\n        if (this.text.length === 0) {\\n            this.remove();\\n        }\\n        else if (this.next instanceof TextBlot && this.next.prev === this) {\\n            this.insertAt(this.length(), this.next.value());\\n            this.next.remove();\\n        }\\n    }\\n    position(index, inclusive = false) {\\n        return [this.domNode, index];\\n    }\\n    split(index, force = false) {\\n        if (!force) {\\n            if (index === 0)\\n                return this;\\n            if (index === this.length())\\n                return this.next;\\n        }\\n        let after = this.scroll.create(this.domNode.splitText(index));\\n        this.parent.insertBefore(after, this.next || undefined);\\n        this.text = this.statics.value(this.domNode);\\n        return after;\\n    }\\n    update(mutations, context) {\\n        if (mutations.some(mutation => {\\n            return (mutation.type === 'characterData' && mutation.target === this.domNode);\\n        })) {\\n            this.text = this.statics.value(this.domNode);\\n        }\\n    }\\n    value() {\\n        return this.text;\\n    }\\n}\\nTextBlot.blotName = 'text';\\nTextBlot.scope = _scope__WEBPACK_IMPORTED_MODULE_1__[\\\"default\\\"].INLINE_BLOT;\\n/* harmony default export */ __webpack_exports__[\\\"default\\\"] = (TextBlot);\\n\\n\\n//# sourceURL=webpack://Quill/./node_modules/parchment/src/blot/text.ts?\");\n\n/***/ }),\n\n/***/ \"./node_modules/parchment/src/collection/linked-list.ts\":\n/*!**************************************************************!*\\\n  !*** ./node_modules/parchment/src/collection/linked-list.ts ***!\n  \\**************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\neval(\"__webpack_require__.r(__webpack_exports__);\\nclass LinkedList {\\n    constructor() {\\n        this.head = this.tail = null;\\n        this.length = 0;\\n    }\\n    append(...nodes) {\\n        this.insertBefore(nodes[0], null);\\n        if (nodes.length > 1) {\\n            this.append.apply(this, nodes.slice(1));\\n        }\\n    }\\n    at(index) {\\n        let cur, next = this.iterator();\\n        while ((cur = next()) && index > 0) {\\n            index -= 1;\\n        }\\n        return cur;\\n    }\\n    contains(node) {\\n        let cur, next = this.iterator();\\n        while ((cur = next())) {\\n            if (cur === node)\\n                return true;\\n        }\\n        return false;\\n    }\\n    indexOf(node) {\\n        let cur, next = this.iterator(), index = 0;\\n        while ((cur = next())) {\\n            if (cur === node)\\n                return index;\\n            index += 1;\\n        }\\n        return -1;\\n    }\\n    insertBefore(node, refNode) {\\n        if (!node)\\n            return;\\n        node.next = refNode;\\n        if (refNode != null) {\\n            node.prev = refNode.prev;\\n            if (refNode.prev != null) {\\n                refNode.prev.next = node;\\n            }\\n            refNode.prev = node;\\n            if (refNode === this.head) {\\n                this.head = node;\\n            }\\n        }\\n        else if (this.tail != null) {\\n            this.tail.next = node;\\n            node.prev = this.tail;\\n            this.tail = node;\\n        }\\n        else {\\n            node.prev = null;\\n            this.head = this.tail = node;\\n        }\\n        this.length += 1;\\n    }\\n    offset(target) {\\n        let index = 0, cur = this.head;\\n        while (cur != null) {\\n            if (cur === target)\\n                return index;\\n            index += cur.length();\\n            cur = cur.next;\\n        }\\n        return -1;\\n    }\\n    remove(node) {\\n        if (!this.contains(node))\\n            return;\\n        if (node.prev != null)\\n            node.prev.next = node.next;\\n        if (node.next != null)\\n            node.next.prev = node.prev;\\n        if (node === this.head)\\n            this.head = node.next;\\n        if (node === this.tail)\\n            this.tail = node.prev;\\n        this.length -= 1;\\n    }\\n    iterator(curNode = this.head) {\\n        // TODO use yield when we can\\n        return function () {\\n            let ret = curNode;\\n            if (curNode != null)\\n                curNode = curNode.next;\\n            return ret;\\n        };\\n    }\\n    find(index, inclusive = false) {\\n        let cur, next = this.iterator();\\n        while ((cur = next())) {\\n            let length = cur.length();\\n            if (index < length ||\\n                (inclusive &&\\n                    index === length &&\\n                    (cur.next == null || cur.next.length() !== 0))) {\\n                return [cur, index];\\n            }\\n            index -= length;\\n        }\\n        return [null, 0];\\n    }\\n    forEach(callback) {\\n        let cur, next = this.iterator();\\n        while ((cur = next())) {\\n            callback(cur);\\n        }\\n    }\\n    forEachAt(index, length, callback) {\\n        if (length <= 0)\\n            return;\\n        let [startNode, offset] = this.find(index);\\n        let cur, curIndex = index - offset, next = this.iterator(startNode);\\n        while ((cur = next()) && curIndex < index + length) {\\n            let curLength = cur.length();\\n            if (index > curIndex) {\\n                callback(cur, index - curIndex, Math.min(length, curIndex + curLength - index));\\n            }\\n            else {\\n                callback(cur, 0, Math.min(curLength, index + length - curIndex));\\n            }\\n            curIndex += curLength;\\n        }\\n    }\\n    map(callback) {\\n        return this.reduce(function (memo, cur) {\\n            memo.push(callback(cur));\\n            return memo;\\n        }, []);\\n    }\\n    reduce(callback, memo) {\\n        let cur, next = this.iterator();\\n        while ((cur = next())) {\\n            memo = callback(memo, cur);\\n        }\\n        return memo;\\n    }\\n}\\n/* harmony default export */ __webpack_exports__[\\\"default\\\"] = (LinkedList);\\n\\n\\n//# sourceURL=webpack://Quill/./node_modules/parchment/src/collection/linked-list.ts?\");\n\n/***/ }),\n\n/***/ \"./node_modules/parchment/src/error.ts\":\n/*!*********************************************!*\\\n  !*** ./node_modules/parchment/src/error.ts ***!\n  \\*********************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\neval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\\"default\\\", function() { return ParchmentError; });\\nclass ParchmentError extends Error {\\n    constructor(message) {\\n        message = '[Parchment] ' + message;\\n        super(message);\\n        this.message = message;\\n        this.name = this.constructor.name;\\n    }\\n}\\n\\n\\n//# sourceURL=webpack://Quill/./node_modules/parchment/src/error.ts?\");\n\n/***/ }),\n\n/***/ \"./node_modules/parchment/src/parchment.ts\":\n/*!*************************************************!*\\\n  !*** ./node_modules/parchment/src/parchment.ts ***!\n  \\*************************************************/\n/*! exports provided: ParentBlot, ContainerBlot, LeafBlot, EmbedBlot, ScrollBlot, BlockBlot, InlineBlot, TextBlot, Attributor, ClassAttributor, StyleAttributor, AttributorStore, Registry, Scope */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\neval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony import */ var _blot_abstract_container__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./blot/abstract/container */ \\\"./node_modules/parchment/src/blot/abstract/container.ts\\\");\\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \\\"ContainerBlot\\\", function() { return _blot_abstract_container__WEBPACK_IMPORTED_MODULE_0__[\\\"default\\\"]; });\\n\\n/* harmony import */ var _blot_abstract_parent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./blot/abstract/parent */ \\\"./node_modules/parchment/src/blot/abstract/parent.ts\\\");\\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \\\"ParentBlot\\\", function() { return _blot_abstract_parent__WEBPACK_IMPORTED_MODULE_1__[\\\"default\\\"]; });\\n\\n/* harmony import */ var _blot_abstract_leaf__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./blot/abstract/leaf */ \\\"./node_modules/parchment/src/blot/abstract/leaf.ts\\\");\\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \\\"LeafBlot\\\", function() { return _blot_abstract_leaf__WEBPACK_IMPORTED_MODULE_2__[\\\"default\\\"]; });\\n\\n/* harmony import */ var _blot_scroll__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./blot/scroll */ \\\"./node_modules/parchment/src/blot/scroll.ts\\\");\\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \\\"ScrollBlot\\\", function() { return _blot_scroll__WEBPACK_IMPORTED_MODULE_3__[\\\"default\\\"]; });\\n\\n/* harmony import */ var _blot_inline__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./blot/inline */ \\\"./node_modules/parchment/src/blot/inline.ts\\\");\\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \\\"InlineBlot\\\", function() { return _blot_inline__WEBPACK_IMPORTED_MODULE_4__[\\\"default\\\"]; });\\n\\n/* harmony import */ var _blot_block__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./blot/block */ \\\"./node_modules/parchment/src/blot/block.ts\\\");\\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \\\"BlockBlot\\\", function() { return _blot_block__WEBPACK_IMPORTED_MODULE_5__[\\\"default\\\"]; });\\n\\n/* harmony import */ var _blot_embed__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./blot/embed */ \\\"./node_modules/parchment/src/blot/embed.ts\\\");\\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \\\"EmbedBlot\\\", function() { return _blot_embed__WEBPACK_IMPORTED_MODULE_6__[\\\"default\\\"]; });\\n\\n/* harmony import */ var _blot_text__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./blot/text */ \\\"./node_modules/parchment/src/blot/text.ts\\\");\\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \\\"TextBlot\\\", function() { return _blot_text__WEBPACK_IMPORTED_MODULE_7__[\\\"default\\\"]; });\\n\\n/* harmony import */ var _attributor_attributor__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./attributor/attributor */ \\\"./node_modules/parchment/src/attributor/attributor.ts\\\");\\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \\\"Attributor\\\", function() { return _attributor_attributor__WEBPACK_IMPORTED_MODULE_8__[\\\"default\\\"]; });\\n\\n/* harmony import */ var _attributor_class__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./attributor/class */ \\\"./node_modules/parchment/src/attributor/class.ts\\\");\\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \\\"ClassAttributor\\\", function() { return _attributor_class__WEBPACK_IMPORTED_MODULE_9__[\\\"default\\\"]; });\\n\\n/* harmony import */ var _attributor_style__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./attributor/style */ \\\"./node_modules/parchment/src/attributor/style.ts\\\");\\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \\\"StyleAttributor\\\", function() { return _attributor_style__WEBPACK_IMPORTED_MODULE_10__[\\\"default\\\"]; });\\n\\n/* harmony import */ var _attributor_store__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./attributor/store */ \\\"./node_modules/parchment/src/attributor/store.ts\\\");\\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \\\"AttributorStore\\\", function() { return _attributor_store__WEBPACK_IMPORTED_MODULE_11__[\\\"default\\\"]; });\\n\\n/* harmony import */ var _registry__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./registry */ \\\"./node_modules/parchment/src/registry.ts\\\");\\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \\\"Registry\\\", function() { return _registry__WEBPACK_IMPORTED_MODULE_12__[\\\"default\\\"]; });\\n\\n/* harmony import */ var _scope__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./scope */ \\\"./node_modules/parchment/src/scope.ts\\\");\\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \\\"Scope\\\", function() { return _scope__WEBPACK_IMPORTED_MODULE_13__[\\\"default\\\"]; });\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n//# sourceURL=webpack://Quill/./node_modules/parchment/src/parchment.ts?\");\n\n/***/ }),\n\n/***/ \"./node_modules/parchment/src/registry.ts\":\n/*!************************************************!*\\\n  !*** ./node_modules/parchment/src/registry.ts ***!\n  \\************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\neval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\\"default\\\", function() { return Registry; });\\n/* harmony import */ var _error__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./error */ \\\"./node_modules/parchment/src/error.ts\\\");\\n/* harmony import */ var _scope__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./scope */ \\\"./node_modules/parchment/src/scope.ts\\\");\\n\\n\\nclass Registry {\\n    constructor() {\\n        this.attributes = {};\\n        this.classes = {};\\n        this.tags = {};\\n        this.types = {};\\n    }\\n    static find(node, bubble = false) {\\n        if (node == null)\\n            return null;\\n        if (this.blots.has(node))\\n            return this.blots.get(node) || null;\\n        if (bubble)\\n            return this.find(node.parentNode, bubble);\\n        return null;\\n    }\\n    create(scroll, input, value) {\\n        const match = this.query(input);\\n        if (match == null) {\\n            throw new _error__WEBPACK_IMPORTED_MODULE_0__[\\\"default\\\"](`Unable to create ${input} blot`);\\n        }\\n        const BlotClass = match;\\n        const node = \\n        // @ts-ignore\\n        input instanceof Node || input['nodeType'] === Node.TEXT_NODE\\n            ? input\\n            : BlotClass.create(value);\\n        const blot = new BlotClass(scroll, node, value);\\n        Registry.blots.set(blot.domNode, blot);\\n        return blot;\\n    }\\n    find(node, bubble = false) {\\n        return Registry.find(node, bubble);\\n    }\\n    query(query, scope = _scope__WEBPACK_IMPORTED_MODULE_1__[\\\"default\\\"].ANY) {\\n        let match;\\n        if (typeof query === 'string') {\\n            match = this.types[query] || this.attributes[query];\\n            // @ts-ignore\\n        }\\n        else if (query instanceof Text || query['nodeType'] === Node.TEXT_NODE) {\\n            match = this.types['text'];\\n        }\\n        else if (typeof query === 'number') {\\n            if (query & _scope__WEBPACK_IMPORTED_MODULE_1__[\\\"default\\\"].LEVEL & _scope__WEBPACK_IMPORTED_MODULE_1__[\\\"default\\\"].BLOCK) {\\n                match = this.types['block'];\\n            }\\n            else if (query & _scope__WEBPACK_IMPORTED_MODULE_1__[\\\"default\\\"].LEVEL & _scope__WEBPACK_IMPORTED_MODULE_1__[\\\"default\\\"].INLINE) {\\n                match = this.types['inline'];\\n            }\\n        }\\n        else if (query instanceof HTMLElement) {\\n            let names = (query.getAttribute('class') || '').split(/\\\\s+/);\\n            for (let i in names) {\\n                match = this.classes[names[i]];\\n                if (match)\\n                    break;\\n            }\\n            match = match || this.tags[query.tagName];\\n        }\\n        if (match == null)\\n            return null;\\n        // @ts-ignore\\n        if (scope & _scope__WEBPACK_IMPORTED_MODULE_1__[\\\"default\\\"].LEVEL & match.scope && scope & _scope__WEBPACK_IMPORTED_MODULE_1__[\\\"default\\\"].TYPE & match.scope)\\n            return match;\\n        return null;\\n    }\\n    register(...Definitions) {\\n        if (Definitions.length > 1) {\\n            return Definitions.map(d => {\\n                return this.register(d);\\n            });\\n        }\\n        let Definition = Definitions[0];\\n        if (typeof Definition.blotName !== 'string' &&\\n            typeof Definition.attrName !== 'string') {\\n            throw new _error__WEBPACK_IMPORTED_MODULE_0__[\\\"default\\\"]('Invalid definition');\\n        }\\n        else if (Definition.blotName === 'abstract') {\\n            throw new _error__WEBPACK_IMPORTED_MODULE_0__[\\\"default\\\"]('Cannot register abstract class');\\n        }\\n        this.types[Definition.blotName || Definition.attrName] = Definition;\\n        if (typeof Definition.keyName === 'string') {\\n            this.attributes[Definition.keyName] = Definition;\\n        }\\n        else {\\n            if (Definition.className != null) {\\n                this.classes[Definition.className] = Definition;\\n            }\\n            if (Definition.tagName != null) {\\n                if (Array.isArray(Definition.tagName)) {\\n                    Definition.tagName = Definition.tagName.map(function (tagName) {\\n                        return tagName.toUpperCase();\\n                    });\\n                }\\n                else {\\n                    Definition.tagName = Definition.tagName.toUpperCase();\\n                }\\n                let tagNames = Array.isArray(Definition.tagName)\\n                    ? Definition.tagName\\n                    : [Definition.tagName];\\n                tagNames.forEach((tag) => {\\n                    if (this.tags[tag] == null || Definition.className == null) {\\n                        this.tags[tag] = Definition;\\n                    }\\n                });\\n            }\\n        }\\n        return Definition;\\n    }\\n}\\nRegistry.blots = new WeakMap();\\n\\n\\n//# sourceURL=webpack://Quill/./node_modules/parchment/src/registry.ts?\");\n\n/***/ }),\n\n/***/ \"./node_modules/parchment/src/scope.ts\":\n/*!*********************************************!*\\\n  !*** ./node_modules/parchment/src/scope.ts ***!\n  \\*********************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\neval(\"__webpack_require__.r(__webpack_exports__);\\nvar Scope;\\n(function (Scope) {\\n    Scope[Scope[\\\"TYPE\\\"] = 3] = \\\"TYPE\\\";\\n    Scope[Scope[\\\"LEVEL\\\"] = 12] = \\\"LEVEL\\\";\\n    Scope[Scope[\\\"ATTRIBUTE\\\"] = 13] = \\\"ATTRIBUTE\\\";\\n    Scope[Scope[\\\"BLOT\\\"] = 14] = \\\"BLOT\\\";\\n    Scope[Scope[\\\"INLINE\\\"] = 7] = \\\"INLINE\\\";\\n    Scope[Scope[\\\"BLOCK\\\"] = 11] = \\\"BLOCK\\\";\\n    Scope[Scope[\\\"BLOCK_BLOT\\\"] = 10] = \\\"BLOCK_BLOT\\\";\\n    Scope[Scope[\\\"INLINE_BLOT\\\"] = 6] = \\\"INLINE_BLOT\\\";\\n    Scope[Scope[\\\"BLOCK_ATTRIBUTE\\\"] = 9] = \\\"BLOCK_ATTRIBUTE\\\";\\n    Scope[Scope[\\\"INLINE_ATTRIBUTE\\\"] = 5] = \\\"INLINE_ATTRIBUTE\\\";\\n    Scope[Scope[\\\"ANY\\\"] = 15] = \\\"ANY\\\";\\n})(Scope || (Scope = {}));\\n/* harmony default export */ __webpack_exports__[\\\"default\\\"] = (Scope);\\n\\n\\n//# sourceURL=webpack://Quill/./node_modules/parchment/src/scope.ts?\");\n\n/***/ }),\n\n/***/ \"./node_modules/quill-delta/lib/delta.js\":\n/*!***********************************************!*\\\n  !*** ./node_modules/quill-delta/lib/delta.js ***!\n  \\***********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\neval(\"var diff = __webpack_require__(/*! fast-diff */ \\\"./node_modules/fast-diff/diff.js\\\");\\nvar equal = __webpack_require__(/*! deep-equal */ \\\"./node_modules/deep-equal/index.js\\\");\\nvar extend = __webpack_require__(/*! extend */ \\\"./node_modules/extend/index.js\\\");\\nvar op = __webpack_require__(/*! ./op */ \\\"./node_modules/quill-delta/lib/op.js\\\");\\n\\n\\nvar NULL_CHARACTER = String.fromCharCode(0);  // Placeholder char for embed in diff()\\n\\n\\nvar Delta = function (ops) {\\n  // Assume we are given a well formed ops\\n  if (Array.isArray(ops)) {\\n    this.ops = ops;\\n  } else if (ops != null && Array.isArray(ops.ops)) {\\n    this.ops = ops.ops;\\n  } else {\\n    this.ops = [];\\n  }\\n};\\n\\n\\nDelta.prototype.insert = function (text, attributes) {\\n  var newOp = {};\\n  if (text.length === 0) return this;\\n  newOp.insert = text;\\n  if (attributes != null && typeof attributes === 'object' && Object.keys(attributes).length > 0) {\\n    newOp.attributes = attributes;\\n  }\\n  return this.push(newOp);\\n};\\n\\nDelta.prototype['delete'] = function (length) {\\n  if (length <= 0) return this;\\n  return this.push({ 'delete': length });\\n};\\n\\nDelta.prototype.retain = function (length, attributes) {\\n  if (length <= 0) return this;\\n  var newOp = { retain: length };\\n  if (attributes != null && typeof attributes === 'object' && Object.keys(attributes).length > 0) {\\n    newOp.attributes = attributes;\\n  }\\n  return this.push(newOp);\\n};\\n\\nDelta.prototype.push = function (newOp) {\\n  var index = this.ops.length;\\n  var lastOp = this.ops[index - 1];\\n  newOp = extend(true, {}, newOp);\\n  if (typeof lastOp === 'object') {\\n    if (typeof newOp['delete'] === 'number' && typeof lastOp['delete'] === 'number') {\\n      this.ops[index - 1] = { 'delete': lastOp['delete'] + newOp['delete'] };\\n      return this;\\n    }\\n    // Since it does not matter if we insert before or after deleting at the same index,\\n    // always prefer to insert first\\n    if (typeof lastOp['delete'] === 'number' && newOp.insert != null) {\\n      index -= 1;\\n      lastOp = this.ops[index - 1];\\n      if (typeof lastOp !== 'object') {\\n        this.ops.unshift(newOp);\\n        return this;\\n      }\\n    }\\n    if (equal(newOp.attributes, lastOp.attributes)) {\\n      if (typeof newOp.insert === 'string' && typeof lastOp.insert === 'string') {\\n        this.ops[index - 1] = { insert: lastOp.insert + newOp.insert };\\n        if (typeof newOp.attributes === 'object') this.ops[index - 1].attributes = newOp.attributes\\n        return this;\\n      } else if (typeof newOp.retain === 'number' && typeof lastOp.retain === 'number') {\\n        this.ops[index - 1] = { retain: lastOp.retain + newOp.retain };\\n        if (typeof newOp.attributes === 'object') this.ops[index - 1].attributes = newOp.attributes\\n        return this;\\n      }\\n    }\\n  }\\n  if (index === this.ops.length) {\\n    this.ops.push(newOp);\\n  } else {\\n    this.ops.splice(index, 0, newOp);\\n  }\\n  return this;\\n};\\n\\nDelta.prototype.chop = function () {\\n  var lastOp = this.ops[this.ops.length - 1];\\n  if (lastOp && lastOp.retain && !lastOp.attributes) {\\n    this.ops.pop();\\n  }\\n  return this;\\n};\\n\\nDelta.prototype.filter = function (predicate) {\\n  return this.ops.filter(predicate);\\n};\\n\\nDelta.prototype.forEach = function (predicate) {\\n  this.ops.forEach(predicate);\\n};\\n\\nDelta.prototype.map = function (predicate) {\\n  return this.ops.map(predicate);\\n};\\n\\nDelta.prototype.partition = function (predicate) {\\n  var passed = [], failed = [];\\n  this.forEach(function(op) {\\n    var target = predicate(op) ? passed : failed;\\n    target.push(op);\\n  });\\n  return [passed, failed];\\n};\\n\\nDelta.prototype.reduce = function (predicate, initial) {\\n  return this.ops.reduce(predicate, initial);\\n};\\n\\nDelta.prototype.changeLength = function () {\\n  return this.reduce(function (length, elem) {\\n    if (elem.insert) {\\n      return length + op.length(elem);\\n    } else if (elem.delete) {\\n      return length - elem.delete;\\n    }\\n    return length;\\n  }, 0);\\n};\\n\\nDelta.prototype.length = function () {\\n  return this.reduce(function (length, elem) {\\n    return length + op.length(elem);\\n  }, 0);\\n};\\n\\nDelta.prototype.slice = function (start, end) {\\n  start = start || 0;\\n  if (typeof end !== 'number') end = Infinity;\\n  var ops = [];\\n  var iter = op.iterator(this.ops);\\n  var index = 0;\\n  while (index < end && iter.hasNext()) {\\n    var nextOp;\\n    if (index < start) {\\n      nextOp = iter.next(start - index);\\n    } else {\\n      nextOp = iter.next(end - index);\\n      ops.push(nextOp);\\n    }\\n    index += op.length(nextOp);\\n  }\\n  return new Delta(ops);\\n};\\n\\n\\nDelta.prototype.compose = function (other) {\\n  var thisIter = op.iterator(this.ops);\\n  var otherIter = op.iterator(other.ops);\\n  var delta = new Delta();\\n  while (thisIter.hasNext() || otherIter.hasNext()) {\\n    if (otherIter.peekType() === 'insert') {\\n      delta.push(otherIter.next());\\n    } else if (thisIter.peekType() === 'delete') {\\n      delta.push(thisIter.next());\\n    } else {\\n      var length = Math.min(thisIter.peekLength(), otherIter.peekLength());\\n      var thisOp = thisIter.next(length);\\n      var otherOp = otherIter.next(length);\\n      if (typeof otherOp.retain === 'number') {\\n        var newOp = {};\\n        if (typeof thisOp.retain === 'number') {\\n          newOp.retain = length;\\n        } else {\\n          newOp.insert = thisOp.insert;\\n        }\\n        // Preserve null when composing with a retain, otherwise remove it for inserts\\n        var attributes = op.attributes.compose(thisOp.attributes, otherOp.attributes, typeof thisOp.retain === 'number');\\n        if (attributes) newOp.attributes = attributes;\\n        delta.push(newOp);\\n      // Other op should be delete, we could be an insert or retain\\n      // Insert + delete cancels out\\n      } else if (typeof otherOp['delete'] === 'number' && typeof thisOp.retain === 'number') {\\n        delta.push(otherOp);\\n      }\\n    }\\n  }\\n  return delta.chop();\\n};\\n\\nDelta.prototype.concat = function (other) {\\n  var delta = new Delta(this.ops.slice());\\n  if (other.ops.length > 0) {\\n    delta.push(other.ops[0]);\\n    delta.ops = delta.ops.concat(other.ops.slice(1));\\n  }\\n  return delta;\\n};\\n\\nDelta.prototype.diff = function (other, index) {\\n  if (this.ops === other.ops) {\\n    return new Delta();\\n  }\\n  var strings = [this, other].map(function (delta) {\\n    return delta.map(function (op) {\\n      if (op.insert != null) {\\n        return typeof op.insert === 'string' ? op.insert : NULL_CHARACTER;\\n      }\\n      var prep = (delta === other) ? 'on' : 'with';\\n      throw new Error('diff() called ' + prep + ' non-document');\\n    }).join('');\\n  });\\n  var delta = new Delta();\\n  var diffResult = diff(strings[0], strings[1], index);\\n  var thisIter = op.iterator(this.ops);\\n  var otherIter = op.iterator(other.ops);\\n  diffResult.forEach(function (component) {\\n    var length = component[1].length;\\n    while (length > 0) {\\n      var opLength = 0;\\n      switch (component[0]) {\\n        case diff.INSERT:\\n          opLength = Math.min(otherIter.peekLength(), length);\\n          delta.push(otherIter.next(opLength));\\n          break;\\n        case diff.DELETE:\\n          opLength = Math.min(length, thisIter.peekLength());\\n          thisIter.next(opLength);\\n          delta['delete'](opLength);\\n          break;\\n        case diff.EQUAL:\\n          opLength = Math.min(thisIter.peekLength(), otherIter.peekLength(), length);\\n          var thisOp = thisIter.next(opLength);\\n          var otherOp = otherIter.next(opLength);\\n          if (equal(thisOp.insert, otherOp.insert)) {\\n            delta.retain(opLength, op.attributes.diff(thisOp.attributes, otherOp.attributes));\\n          } else {\\n            delta.push(otherOp)['delete'](opLength);\\n          }\\n          break;\\n      }\\n      length -= opLength;\\n    }\\n  });\\n  return delta.chop();\\n};\\n\\nDelta.prototype.eachLine = function (predicate, newline) {\\n  newline = newline || '\\\\n';\\n  var iter = op.iterator(this.ops);\\n  var line = new Delta();\\n  var i = 0;\\n  while (iter.hasNext()) {\\n    if (iter.peekType() !== 'insert') return;\\n    var thisOp = iter.peek();\\n    var start = op.length(thisOp) - iter.peekLength();\\n    var index = typeof thisOp.insert === 'string' ?\\n      thisOp.insert.indexOf(newline, start) - start : -1;\\n    if (index < 0) {\\n      line.push(iter.next());\\n    } else if (index > 0) {\\n      line.push(iter.next(index));\\n    } else {\\n      if (predicate(line, iter.next(1).attributes || {}, i) === false) {\\n        return;\\n      }\\n      i += 1;\\n      line = new Delta();\\n    }\\n  }\\n  if (line.length() > 0) {\\n    predicate(line, {}, i);\\n  }\\n};\\n\\nDelta.prototype.transform = function (other, priority) {\\n  priority = !!priority;\\n  if (typeof other === 'number') {\\n    return this.transformPosition(other, priority);\\n  }\\n  var thisIter = op.iterator(this.ops);\\n  var otherIter = op.iterator(other.ops);\\n  var delta = new Delta();\\n  while (thisIter.hasNext() || otherIter.hasNext()) {\\n    if (thisIter.peekType() === 'insert' && (priority || otherIter.peekType() !== 'insert')) {\\n      delta.retain(op.length(thisIter.next()));\\n    } else if (otherIter.peekType() === 'insert') {\\n      delta.push(otherIter.next());\\n    } else {\\n      var length = Math.min(thisIter.peekLength(), otherIter.peekLength());\\n      var thisOp = thisIter.next(length);\\n      var otherOp = otherIter.next(length);\\n      if (thisOp['delete']) {\\n        // Our delete either makes their delete redundant or removes their retain\\n        continue;\\n      } else if (otherOp['delete']) {\\n        delta.push(otherOp);\\n      } else {\\n        // We retain either their retain or insert\\n        delta.retain(length, op.attributes.transform(thisOp.attributes, otherOp.attributes, priority));\\n      }\\n    }\\n  }\\n  return delta.chop();\\n};\\n\\nDelta.prototype.transformPosition = function (index, priority) {\\n  priority = !!priority;\\n  var thisIter = op.iterator(this.ops);\\n  var offset = 0;\\n  while (thisIter.hasNext() && offset <= index) {\\n    var length = thisIter.peekLength();\\n    var nextType = thisIter.peekType();\\n    thisIter.next();\\n    if (nextType === 'delete') {\\n      index -= Math.min(length, index - offset);\\n      continue;\\n    } else if (nextType === 'insert' && (offset < index || !priority)) {\\n      index += length;\\n    }\\n    offset += length;\\n  }\\n  return index;\\n};\\n\\n\\nmodule.exports = Delta;\\n\\n\\n//# sourceURL=webpack://Quill/./node_modules/quill-delta/lib/delta.js?\");\n\n/***/ }),\n\n/***/ \"./node_modules/quill-delta/lib/op.js\":\n/*!********************************************!*\\\n  !*** ./node_modules/quill-delta/lib/op.js ***!\n  \\********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\neval(\"var equal = __webpack_require__(/*! deep-equal */ \\\"./node_modules/deep-equal/index.js\\\");\\nvar extend = __webpack_require__(/*! extend */ \\\"./node_modules/extend/index.js\\\");\\n\\n\\nvar lib = {\\n  attributes: {\\n    compose: function (a, b, keepNull) {\\n      if (typeof a !== 'object') a = {};\\n      if (typeof b !== 'object') b = {};\\n      var attributes = extend(true, {}, b);\\n      if (!keepNull) {\\n        attributes = Object.keys(attributes).reduce(function (copy, key) {\\n          if (attributes[key] != null) {\\n            copy[key] = attributes[key];\\n          }\\n          return copy;\\n        }, {});\\n      }\\n      for (var key in a) {\\n        if (a[key] !== undefined && b[key] === undefined) {\\n          attributes[key] = a[key];\\n        }\\n      }\\n      return Object.keys(attributes).length > 0 ? attributes : undefined;\\n    },\\n\\n    diff: function(a, b) {\\n      if (typeof a !== 'object') a = {};\\n      if (typeof b !== 'object') b = {};\\n      var attributes = Object.keys(a).concat(Object.keys(b)).reduce(function (attributes, key) {\\n        if (!equal(a[key], b[key])) {\\n          attributes[key] = b[key] === undefined ? null : b[key];\\n        }\\n        return attributes;\\n      }, {});\\n      return Object.keys(attributes).length > 0 ? attributes : undefined;\\n    },\\n\\n    transform: function (a, b, priority) {\\n      if (typeof a !== 'object') return b;\\n      if (typeof b !== 'object') return undefined;\\n      if (!priority) return b;  // b simply overwrites us without priority\\n      var attributes = Object.keys(b).reduce(function (attributes, key) {\\n        if (a[key] === undefined) attributes[key] = b[key];  // null is a valid value\\n        return attributes;\\n      }, {});\\n      return Object.keys(attributes).length > 0 ? attributes : undefined;\\n    }\\n  },\\n\\n  iterator: function (ops) {\\n    return new Iterator(ops);\\n  },\\n\\n  length: function (op) {\\n    if (typeof op['delete'] === 'number') {\\n      return op['delete'];\\n    } else if (typeof op.retain === 'number') {\\n      return op.retain;\\n    } else {\\n      return typeof op.insert === 'string' ? op.insert.length : 1;\\n    }\\n  }\\n};\\n\\n\\nfunction Iterator(ops) {\\n  this.ops = ops;\\n  this.index = 0;\\n  this.offset = 0;\\n};\\n\\nIterator.prototype.hasNext = function () {\\n  return this.peekLength() < Infinity;\\n};\\n\\nIterator.prototype.next = function (length) {\\n  if (!length) length = Infinity;\\n  var nextOp = this.ops[this.index];\\n  if (nextOp) {\\n    var offset = this.offset;\\n    var opLength = lib.length(nextOp)\\n    if (length >= opLength - offset) {\\n      length = opLength - offset;\\n      this.index += 1;\\n      this.offset = 0;\\n    } else {\\n      this.offset += length;\\n    }\\n    if (typeof nextOp['delete'] === 'number') {\\n      return { 'delete': length };\\n    } else {\\n      var retOp = {};\\n      if (nextOp.attributes) {\\n        retOp.attributes = nextOp.attributes;\\n      }\\n      if (typeof nextOp.retain === 'number') {\\n        retOp.retain = length;\\n      } else if (typeof nextOp.insert === 'string') {\\n        retOp.insert = nextOp.insert.substr(offset, length);\\n      } else {\\n        // offset should === 0, length should === 1\\n        retOp.insert = nextOp.insert;\\n      }\\n      return retOp;\\n    }\\n  } else {\\n    return { retain: Infinity };\\n  }\\n};\\n\\nIterator.prototype.peek = function () {\\n  return this.ops[this.index];\\n};\\n\\nIterator.prototype.peekLength = function () {\\n  if (this.ops[this.index]) {\\n    // Should never return 0 if our index is being managed correctly\\n    return lib.length(this.ops[this.index]) - this.offset;\\n  } else {\\n    return Infinity;\\n  }\\n};\\n\\nIterator.prototype.peekType = function () {\\n  if (this.ops[this.index]) {\\n    if (typeof this.ops[this.index]['delete'] === 'number') {\\n      return 'delete';\\n    } else if (typeof this.ops[this.index].retain === 'number') {\\n      return 'retain';\\n    } else {\\n      return 'insert';\\n    }\\n  }\\n  return 'retain';\\n};\\n\\n\\nmodule.exports = lib;\\n\\n\\n//# sourceURL=webpack://Quill/./node_modules/quill-delta/lib/op.js?\");\n\n/***/ }),\n\n/***/ \"./quill.js\":\n/*!******************!*\\\n  !*** ./quill.js ***!\n  \\******************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\n\\nvar _core = __webpack_require__(/*! ./core */ \\\"./core.js\\\");\\n\\nvar _core2 = _interopRequireDefault(_core);\\n\\nvar _align = __webpack_require__(/*! ./formats/align */ \\\"./formats/align.js\\\");\\n\\nvar _direction = __webpack_require__(/*! ./formats/direction */ \\\"./formats/direction.js\\\");\\n\\nvar _indent = __webpack_require__(/*! ./formats/indent */ \\\"./formats/indent.js\\\");\\n\\nvar _indent2 = _interopRequireDefault(_indent);\\n\\nvar _blockquote = __webpack_require__(/*! ./formats/blockquote */ \\\"./formats/blockquote.js\\\");\\n\\nvar _blockquote2 = _interopRequireDefault(_blockquote);\\n\\nvar _header = __webpack_require__(/*! ./formats/header */ \\\"./formats/header.js\\\");\\n\\nvar _header2 = _interopRequireDefault(_header);\\n\\nvar _list = __webpack_require__(/*! ./formats/list */ \\\"./formats/list.js\\\");\\n\\nvar _list2 = _interopRequireDefault(_list);\\n\\nvar _background = __webpack_require__(/*! ./formats/background */ \\\"./formats/background.js\\\");\\n\\nvar _color = __webpack_require__(/*! ./formats/color */ \\\"./formats/color.js\\\");\\n\\nvar _font = __webpack_require__(/*! ./formats/font */ \\\"./formats/font.js\\\");\\n\\nvar _size = __webpack_require__(/*! ./formats/size */ \\\"./formats/size.js\\\");\\n\\nvar _bold = __webpack_require__(/*! ./formats/bold */ \\\"./formats/bold.js\\\");\\n\\nvar _bold2 = _interopRequireDefault(_bold);\\n\\nvar _italic = __webpack_require__(/*! ./formats/italic */ \\\"./formats/italic.js\\\");\\n\\nvar _italic2 = _interopRequireDefault(_italic);\\n\\nvar _link = __webpack_require__(/*! ./formats/link */ \\\"./formats/link.js\\\");\\n\\nvar _link2 = _interopRequireDefault(_link);\\n\\nvar _script = __webpack_require__(/*! ./formats/script */ \\\"./formats/script.js\\\");\\n\\nvar _script2 = _interopRequireDefault(_script);\\n\\nvar _strike = __webpack_require__(/*! ./formats/strike */ \\\"./formats/strike.js\\\");\\n\\nvar _strike2 = _interopRequireDefault(_strike);\\n\\nvar _underline = __webpack_require__(/*! ./formats/underline */ \\\"./formats/underline.js\\\");\\n\\nvar _underline2 = _interopRequireDefault(_underline);\\n\\nvar _formula = __webpack_require__(/*! ./formats/formula */ \\\"./formats/formula.js\\\");\\n\\nvar _formula2 = _interopRequireDefault(_formula);\\n\\nvar _image = __webpack_require__(/*! ./formats/image */ \\\"./formats/image.js\\\");\\n\\nvar _image2 = _interopRequireDefault(_image);\\n\\nvar _video = __webpack_require__(/*! ./formats/video */ \\\"./formats/video.js\\\");\\n\\nvar _video2 = _interopRequireDefault(_video);\\n\\nvar _code = __webpack_require__(/*! ./formats/code */ \\\"./formats/code.js\\\");\\n\\nvar _code2 = _interopRequireDefault(_code);\\n\\nvar _syntax = __webpack_require__(/*! ./modules/syntax */ \\\"./modules/syntax.js\\\");\\n\\nvar _syntax2 = _interopRequireDefault(_syntax);\\n\\nvar _table = __webpack_require__(/*! ./modules/table */ \\\"./modules/table.js\\\");\\n\\nvar _table2 = _interopRequireDefault(_table);\\n\\nvar _toolbar = __webpack_require__(/*! ./modules/toolbar */ \\\"./modules/toolbar.js\\\");\\n\\nvar _toolbar2 = _interopRequireDefault(_toolbar);\\n\\nvar _icons = __webpack_require__(/*! ./ui/icons */ \\\"./ui/icons.js\\\");\\n\\nvar _icons2 = _interopRequireDefault(_icons);\\n\\nvar _picker = __webpack_require__(/*! ./ui/picker */ \\\"./ui/picker.js\\\");\\n\\nvar _picker2 = _interopRequireDefault(_picker);\\n\\nvar _colorPicker = __webpack_require__(/*! ./ui/color-picker */ \\\"./ui/color-picker.js\\\");\\n\\nvar _colorPicker2 = _interopRequireDefault(_colorPicker);\\n\\nvar _iconPicker = __webpack_require__(/*! ./ui/icon-picker */ \\\"./ui/icon-picker.js\\\");\\n\\nvar _iconPicker2 = _interopRequireDefault(_iconPicker);\\n\\nvar _tooltip = __webpack_require__(/*! ./ui/tooltip */ \\\"./ui/tooltip.js\\\");\\n\\nvar _tooltip2 = _interopRequireDefault(_tooltip);\\n\\nvar _bubble = __webpack_require__(/*! ./themes/bubble */ \\\"./themes/bubble.js\\\");\\n\\nvar _bubble2 = _interopRequireDefault(_bubble);\\n\\nvar _snow = __webpack_require__(/*! ./themes/snow */ \\\"./themes/snow.js\\\");\\n\\nvar _snow2 = _interopRequireDefault(_snow);\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\\n\\n_core2.default.register({\\n  'attributors/attribute/direction': _direction.DirectionAttribute,\\n\\n  'attributors/class/align': _align.AlignClass,\\n  'attributors/class/background': _background.BackgroundClass,\\n  'attributors/class/color': _color.ColorClass,\\n  'attributors/class/direction': _direction.DirectionClass,\\n  'attributors/class/font': _font.FontClass,\\n  'attributors/class/size': _size.SizeClass,\\n\\n  'attributors/style/align': _align.AlignStyle,\\n  'attributors/style/background': _background.BackgroundStyle,\\n  'attributors/style/color': _color.ColorStyle,\\n  'attributors/style/direction': _direction.DirectionStyle,\\n  'attributors/style/font': _font.FontStyle,\\n  'attributors/style/size': _size.SizeStyle\\n}, true);\\n\\n_core2.default.register({\\n  'formats/align': _align.AlignClass,\\n  'formats/direction': _direction.DirectionClass,\\n  'formats/indent': _indent2.default,\\n\\n  'formats/background': _background.BackgroundStyle,\\n  'formats/color': _color.ColorStyle,\\n  'formats/font': _font.FontClass,\\n  'formats/size': _size.SizeClass,\\n\\n  'formats/blockquote': _blockquote2.default,\\n  'formats/code-block': _code2.default,\\n  'formats/header': _header2.default,\\n  'formats/list': _list2.default,\\n\\n  'formats/bold': _bold2.default,\\n  'formats/code': _code.Code,\\n  'formats/italic': _italic2.default,\\n  'formats/link': _link2.default,\\n  'formats/script': _script2.default,\\n  'formats/strike': _strike2.default,\\n  'formats/underline': _underline2.default,\\n\\n  'formats/formula': _formula2.default,\\n  'formats/image': _image2.default,\\n  'formats/video': _video2.default,\\n\\n  'modules/syntax': _syntax2.default,\\n  'modules/table': _table2.default,\\n  'modules/toolbar': _toolbar2.default,\\n\\n  'themes/bubble': _bubble2.default,\\n  'themes/snow': _snow2.default,\\n\\n  'ui/icons': _icons2.default,\\n  'ui/picker': _picker2.default,\\n  'ui/icon-picker': _iconPicker2.default,\\n  'ui/color-picker': _colorPicker2.default,\\n  'ui/tooltip': _tooltip2.default\\n}, true);\\n\\nexports.default = _core2.default;\\n\\n//# sourceURL=webpack://Quill/./quill.js?\");\n\n/***/ }),\n\n/***/ \"./themes/base.js\":\n/*!************************!*\\\n  !*** ./themes/base.js ***!\n  \\************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.default = exports.BaseTooltip = undefined;\\n\\nvar _extend = __webpack_require__(/*! extend */ \\\"./node_modules/extend/index.js\\\");\\n\\nvar _extend2 = _interopRequireDefault(_extend);\\n\\nvar _emitter = __webpack_require__(/*! ../core/emitter */ \\\"./core/emitter.js\\\");\\n\\nvar _emitter2 = _interopRequireDefault(_emitter);\\n\\nvar _theme = __webpack_require__(/*! ../core/theme */ \\\"./core/theme.js\\\");\\n\\nvar _theme2 = _interopRequireDefault(_theme);\\n\\nvar _colorPicker = __webpack_require__(/*! ../ui/color-picker */ \\\"./ui/color-picker.js\\\");\\n\\nvar _colorPicker2 = _interopRequireDefault(_colorPicker);\\n\\nvar _iconPicker = __webpack_require__(/*! ../ui/icon-picker */ \\\"./ui/icon-picker.js\\\");\\n\\nvar _iconPicker2 = _interopRequireDefault(_iconPicker);\\n\\nvar _picker = __webpack_require__(/*! ../ui/picker */ \\\"./ui/picker.js\\\");\\n\\nvar _picker2 = _interopRequireDefault(_picker);\\n\\nvar _tooltip = __webpack_require__(/*! ../ui/tooltip */ \\\"./ui/tooltip.js\\\");\\n\\nvar _tooltip2 = _interopRequireDefault(_tooltip);\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\\n\\nconst ALIGNS = [false, 'center', 'right', 'justify'];\\n\\nconst COLORS = ['#000000', '#e60000', '#ff9900', '#ffff00', '#008a00', '#0066cc', '#9933ff', '#ffffff', '#facccc', '#ffebcc', '#ffffcc', '#cce8cc', '#cce0f5', '#ebd6ff', '#bbbbbb', '#f06666', '#ffc266', '#ffff66', '#66b966', '#66a3e0', '#c285ff', '#888888', '#a10000', '#b26b00', '#b2b200', '#006100', '#0047b2', '#6b24b2', '#444444', '#5c0000', '#663d00', '#666600', '#003700', '#002966', '#3d1466'];\\n\\nconst FONTS = [false, 'serif', 'monospace'];\\n\\nconst HEADERS = ['1', '2', '3', false];\\n\\nconst SIZES = ['small', false, 'large', 'huge'];\\n\\nclass BaseTheme extends _theme2.default {\\n  constructor(quill, options) {\\n    super(quill, options);\\n    const listener = e => {\\n      if (!document.body.contains(quill.root)) {\\n        document.body.removeEventListener('click', listener);\\n        return;\\n      }\\n      if (this.tooltip != null && !this.tooltip.root.contains(e.target) && document.activeElement !== this.tooltip.textbox && !this.quill.hasFocus()) {\\n        this.tooltip.hide();\\n      }\\n      if (this.pickers != null) {\\n        this.pickers.forEach(picker => {\\n          if (!picker.container.contains(e.target)) {\\n            picker.close();\\n          }\\n        });\\n      }\\n    };\\n    quill.emitter.listenDOM('click', document.body, listener);\\n  }\\n\\n  addModule(name) {\\n    const module = super.addModule(name);\\n    if (name === 'toolbar') {\\n      this.extendToolbar(module);\\n    }\\n    return module;\\n  }\\n\\n  buildButtons(buttons, icons) {\\n    Array.from(buttons).forEach(button => {\\n      const className = button.getAttribute('class') || '';\\n      className.split(/\\\\s+/).forEach(name => {\\n        if (!name.startsWith('ql-')) return;\\n        name = name.slice('ql-'.length);\\n        if (icons[name] == null) return;\\n        if (name === 'direction') {\\n          button.innerHTML = icons[name][''] + icons[name].rtl;\\n        } else if (typeof icons[name] === 'string') {\\n          button.innerHTML = icons[name];\\n        } else {\\n          const value = button.value || '';\\n          if (value != null && icons[name][value]) {\\n            button.innerHTML = icons[name][value];\\n          }\\n        }\\n      });\\n    });\\n  }\\n\\n  buildPickers(selects, icons) {\\n    this.pickers = Array.from(selects).map(select => {\\n      if (select.classList.contains('ql-align')) {\\n        if (select.querySelector('option') == null) {\\n          fillSelect(select, ALIGNS);\\n        }\\n        return new _iconPicker2.default(select, icons.align);\\n      } else if (select.classList.contains('ql-background') || select.classList.contains('ql-color')) {\\n        const format = select.classList.contains('ql-background') ? 'background' : 'color';\\n        if (select.querySelector('option') == null) {\\n          fillSelect(select, COLORS, format === 'background' ? '#ffffff' : '#000000');\\n        }\\n        return new _colorPicker2.default(select, icons[format]);\\n      }\\n      if (select.querySelector('option') == null) {\\n        if (select.classList.contains('ql-font')) {\\n          fillSelect(select, FONTS);\\n        } else if (select.classList.contains('ql-header')) {\\n          fillSelect(select, HEADERS);\\n        } else if (select.classList.contains('ql-size')) {\\n          fillSelect(select, SIZES);\\n        }\\n      }\\n      return new _picker2.default(select);\\n    });\\n    const update = () => {\\n      this.pickers.forEach(picker => {\\n        picker.update();\\n      });\\n    };\\n    this.quill.on(_emitter2.default.events.EDITOR_CHANGE, update);\\n  }\\n}\\nBaseTheme.DEFAULTS = (0, _extend2.default)(true, {}, _theme2.default.DEFAULTS, {\\n  modules: {\\n    toolbar: {\\n      handlers: {\\n        formula() {\\n          this.quill.theme.tooltip.edit('formula');\\n        },\\n        image() {\\n          let fileInput = this.container.querySelector('input.ql-image[type=file]');\\n          if (fileInput == null) {\\n            fileInput = document.createElement('input');\\n            fileInput.setAttribute('type', 'file');\\n            fileInput.setAttribute('accept', this.quill.uploader.options.mimetypes.join(', '));\\n            fileInput.classList.add('ql-image');\\n            fileInput.addEventListener('change', () => {\\n              const range = this.quill.getSelection(true);\\n              this.quill.uploader.upload(range, fileInput.files);\\n              fileInput.value = '';\\n            });\\n            this.container.appendChild(fileInput);\\n          }\\n          fileInput.click();\\n        },\\n        video() {\\n          this.quill.theme.tooltip.edit('video');\\n        }\\n      }\\n    }\\n  }\\n});\\n\\nclass BaseTooltip extends _tooltip2.default {\\n  constructor(quill, boundsContainer) {\\n    super(quill, boundsContainer);\\n    this.textbox = this.root.querySelector('input[type=\\\"text\\\"]');\\n    this.listen();\\n  }\\n\\n  listen() {\\n    this.textbox.addEventListener('keydown', event => {\\n      if (event.key === 'Enter') {\\n        this.save();\\n        event.preventDefault();\\n      } else if (event.key === 'Escape') {\\n        this.cancel();\\n        event.preventDefault();\\n      }\\n    });\\n  }\\n\\n  cancel() {\\n    this.hide();\\n  }\\n\\n  edit(mode = 'link', preview = null) {\\n    this.root.classList.remove('ql-hidden');\\n    this.root.classList.add('ql-editing');\\n    if (preview != null) {\\n      this.textbox.value = preview;\\n    } else if (mode !== this.root.getAttribute('data-mode')) {\\n      this.textbox.value = '';\\n    }\\n    this.position(this.quill.getBounds(this.quill.selection.savedRange));\\n    this.textbox.select();\\n    this.textbox.setAttribute('placeholder', this.textbox.getAttribute(`data-${mode}`) || '');\\n    this.root.setAttribute('data-mode', mode);\\n  }\\n\\n  restoreFocus() {\\n    const scrollTop = this.quill.scrollingContainer.scrollTop;\\n\\n    this.quill.focus();\\n    this.quill.scrollingContainer.scrollTop = scrollTop;\\n  }\\n\\n  save() {\\n    let value = this.textbox.value;\\n\\n    switch (this.root.getAttribute('data-mode')) {\\n      case 'link':\\n        {\\n          const scrollTop = this.quill.root.scrollTop;\\n\\n          if (this.linkRange) {\\n            this.quill.formatText(this.linkRange, 'link', value, _emitter2.default.sources.USER);\\n            delete this.linkRange;\\n          } else {\\n            this.restoreFocus();\\n            this.quill.format('link', value, _emitter2.default.sources.USER);\\n          }\\n          this.quill.root.scrollTop = scrollTop;\\n          break;\\n        }\\n      case 'video':\\n        {\\n          value = extractVideoUrl(value);\\n        } // eslint-disable-next-line no-fallthrough\\n      case 'formula':\\n        {\\n          if (!value) break;\\n          const range = this.quill.getSelection(true);\\n          if (range != null) {\\n            const index = range.index + range.length;\\n            this.quill.insertEmbed(index, this.root.getAttribute('data-mode'), value, _emitter2.default.sources.USER);\\n            if (this.root.getAttribute('data-mode') === 'formula') {\\n              this.quill.insertText(index + 1, ' ', _emitter2.default.sources.USER);\\n            }\\n            this.quill.setSelection(index + 2, _emitter2.default.sources.USER);\\n          }\\n          break;\\n        }\\n      default:\\n    }\\n    this.textbox.value = '';\\n    this.hide();\\n  }\\n}\\n\\nfunction extractVideoUrl(url) {\\n  let match = url.match(/^(?:(https?):\\\\/\\\\/)?(?:(?:www|m)\\\\.)?youtube\\\\.com\\\\/watch.*v=([a-zA-Z0-9_-]+)/) || url.match(/^(?:(https?):\\\\/\\\\/)?(?:(?:www|m)\\\\.)?youtu\\\\.be\\\\/([a-zA-Z0-9_-]+)/);\\n  if (match) {\\n    return `${match[1] || 'https'}://www.youtube.com/embed/${match[2]}?showinfo=0`;\\n  }\\n  // eslint-disable-next-line no-cond-assign\\n  if (match = url.match(/^(?:(https?):\\\\/\\\\/)?(?:www\\\\.)?vimeo\\\\.com\\\\/(\\\\d+)/)) {\\n    return `${match[1] || 'https'}://player.vimeo.com/video/${match[2]}/`;\\n  }\\n  return url;\\n}\\n\\nfunction fillSelect(select, values, defaultValue = false) {\\n  values.forEach(value => {\\n    const option = document.createElement('option');\\n    if (value === defaultValue) {\\n      option.setAttribute('selected', 'selected');\\n    } else {\\n      option.setAttribute('value', value);\\n    }\\n    select.appendChild(option);\\n  });\\n}\\n\\nexports.BaseTooltip = BaseTooltip;\\nexports.default = BaseTheme;\\n\\n//# sourceURL=webpack://Quill/./themes/base.js?\");\n\n/***/ }),\n\n/***/ \"./themes/bubble.js\":\n/*!**************************!*\\\n  !*** ./themes/bubble.js ***!\n  \\**************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.default = exports.BubbleTooltip = undefined;\\n\\nvar _extend = __webpack_require__(/*! extend */ \\\"./node_modules/extend/index.js\\\");\\n\\nvar _extend2 = _interopRequireDefault(_extend);\\n\\nvar _emitter = __webpack_require__(/*! ../core/emitter */ \\\"./core/emitter.js\\\");\\n\\nvar _emitter2 = _interopRequireDefault(_emitter);\\n\\nvar _base = __webpack_require__(/*! ./base */ \\\"./themes/base.js\\\");\\n\\nvar _base2 = _interopRequireDefault(_base);\\n\\nvar _selection = __webpack_require__(/*! ../core/selection */ \\\"./core/selection.js\\\");\\n\\nvar _icons = __webpack_require__(/*! ../ui/icons */ \\\"./ui/icons.js\\\");\\n\\nvar _icons2 = _interopRequireDefault(_icons);\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\\n\\nconst TOOLBAR_CONFIG = [['bold', 'italic', 'link'], [{ header: 1 }, { header: 2 }, 'blockquote']];\\n\\nclass BubbleTooltip extends _base.BaseTooltip {\\n  constructor(quill, bounds) {\\n    super(quill, bounds);\\n    this.quill.on(_emitter2.default.events.EDITOR_CHANGE, (type, range, oldRange, source) => {\\n      if (type !== _emitter2.default.events.SELECTION_CHANGE) return;\\n      if (range != null && range.length > 0 && source === _emitter2.default.sources.USER) {\\n        this.show();\\n        // Lock our width so we will expand beyond our offsetParent boundaries\\n        this.root.style.left = '0px';\\n        this.root.style.width = '';\\n        this.root.style.width = `${this.root.offsetWidth}px`;\\n        const lines = this.quill.getLines(range.index, range.length);\\n        if (lines.length === 1) {\\n          this.position(this.quill.getBounds(range));\\n        } else {\\n          const lastLine = lines[lines.length - 1];\\n          const index = this.quill.getIndex(lastLine);\\n          const length = Math.min(lastLine.length() - 1, range.index + range.length - index);\\n          const indexBounds = this.quill.getBounds(new _selection.Range(index, length));\\n          this.position(indexBounds);\\n        }\\n      } else if (document.activeElement !== this.textbox && this.quill.hasFocus()) {\\n        this.hide();\\n      }\\n    });\\n  }\\n\\n  listen() {\\n    super.listen();\\n    this.root.querySelector('.ql-close').addEventListener('click', () => {\\n      this.root.classList.remove('ql-editing');\\n    });\\n    this.quill.on(_emitter2.default.events.SCROLL_OPTIMIZE, () => {\\n      // Let selection be restored by toolbar handlers before repositioning\\n      setTimeout(() => {\\n        if (this.root.classList.contains('ql-hidden')) return;\\n        const range = this.quill.getSelection();\\n        if (range != null) {\\n          this.position(this.quill.getBounds(range));\\n        }\\n      }, 1);\\n    });\\n  }\\n\\n  cancel() {\\n    this.show();\\n  }\\n\\n  position(reference) {\\n    const shift = super.position(reference);\\n    const arrow = this.root.querySelector('.ql-tooltip-arrow');\\n    arrow.style.marginLeft = '';\\n    if (shift !== 0) {\\n      arrow.style.marginLeft = `${-1 * shift - arrow.offsetWidth / 2}px`;\\n    }\\n    return shift;\\n  }\\n}\\nBubbleTooltip.TEMPLATE = ['<span class=\\\"ql-tooltip-arrow\\\"></span>', '<div class=\\\"ql-tooltip-editor\\\">', '<input type=\\\"text\\\" data-formula=\\\"e=mc^2\\\" data-link=\\\"https://quilljs.com\\\" data-video=\\\"Embed URL\\\">', '<a class=\\\"ql-close\\\"></a>', '</div>'].join('');\\n\\nclass BubbleTheme extends _base2.default {\\n  constructor(quill, options) {\\n    if (options.modules.toolbar != null && options.modules.toolbar.container == null) {\\n      options.modules.toolbar.container = TOOLBAR_CONFIG;\\n    }\\n    super(quill, options);\\n    this.quill.container.classList.add('ql-bubble');\\n  }\\n\\n  extendToolbar(toolbar) {\\n    this.tooltip = new BubbleTooltip(this.quill, this.options.bounds);\\n    this.tooltip.root.appendChild(toolbar.container);\\n    this.buildButtons(toolbar.container.querySelectorAll('button'), _icons2.default);\\n    this.buildPickers(toolbar.container.querySelectorAll('select'), _icons2.default);\\n  }\\n}\\nBubbleTheme.DEFAULTS = (0, _extend2.default)(true, {}, _base2.default.DEFAULTS, {\\n  modules: {\\n    toolbar: {\\n      handlers: {\\n        link(value) {\\n          if (!value) {\\n            this.quill.format('link', false);\\n          } else {\\n            this.quill.theme.tooltip.edit();\\n          }\\n        }\\n      }\\n    }\\n  }\\n});\\n\\nexports.BubbleTooltip = BubbleTooltip;\\nexports.default = BubbleTheme;\\n\\n//# sourceURL=webpack://Quill/./themes/bubble.js?\");\n\n/***/ }),\n\n/***/ \"./themes/snow.js\":\n/*!************************!*\\\n  !*** ./themes/snow.js ***!\n  \\************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\n\\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\\\"return\\\"]) _i[\\\"return\\\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\\\"Invalid attempt to destructure non-iterable instance\\\"); } }; }();\\n\\nvar _extend = __webpack_require__(/*! extend */ \\\"./node_modules/extend/index.js\\\");\\n\\nvar _extend2 = _interopRequireDefault(_extend);\\n\\nvar _emitter = __webpack_require__(/*! ../core/emitter */ \\\"./core/emitter.js\\\");\\n\\nvar _emitter2 = _interopRequireDefault(_emitter);\\n\\nvar _base = __webpack_require__(/*! ./base */ \\\"./themes/base.js\\\");\\n\\nvar _base2 = _interopRequireDefault(_base);\\n\\nvar _link = __webpack_require__(/*! ../formats/link */ \\\"./formats/link.js\\\");\\n\\nvar _link2 = _interopRequireDefault(_link);\\n\\nvar _selection = __webpack_require__(/*! ../core/selection */ \\\"./core/selection.js\\\");\\n\\nvar _icons = __webpack_require__(/*! ../ui/icons */ \\\"./ui/icons.js\\\");\\n\\nvar _icons2 = _interopRequireDefault(_icons);\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\\n\\nconst TOOLBAR_CONFIG = [[{ header: ['1', '2', '3', false] }], ['bold', 'italic', 'underline', 'link'], [{ list: 'ordered' }, { list: 'bullet' }], ['clean']];\\n\\nclass SnowTooltip extends _base.BaseTooltip {\\n  constructor(quill, bounds) {\\n    super(quill, bounds);\\n    this.preview = this.root.querySelector('a.ql-preview');\\n  }\\n\\n  listen() {\\n    super.listen();\\n    this.root.querySelector('a.ql-action').addEventListener('click', event => {\\n      if (this.root.classList.contains('ql-editing')) {\\n        this.save();\\n      } else {\\n        this.edit('link', this.preview.textContent);\\n      }\\n      event.preventDefault();\\n    });\\n    this.root.querySelector('a.ql-remove').addEventListener('click', event => {\\n      if (this.linkRange != null) {\\n        const range = this.linkRange;\\n        this.restoreFocus();\\n        this.quill.formatText(range, 'link', false, _emitter2.default.sources.USER);\\n        delete this.linkRange;\\n      }\\n      event.preventDefault();\\n      this.hide();\\n    });\\n    this.quill.on(_emitter2.default.events.SELECTION_CHANGE, (range, oldRange, source) => {\\n      if (range == null) return;\\n      if (range.length === 0 && source === _emitter2.default.sources.USER) {\\n        var _quill$scroll$descend = this.quill.scroll.descendant(_link2.default, range.index),\\n            _quill$scroll$descend2 = _slicedToArray(_quill$scroll$descend, 2);\\n\\n        const link = _quill$scroll$descend2[0],\\n              offset = _quill$scroll$descend2[1];\\n\\n        if (link != null) {\\n          this.linkRange = new _selection.Range(range.index - offset, link.length());\\n          const preview = _link2.default.formats(link.domNode);\\n          this.preview.textContent = preview;\\n          this.preview.setAttribute('href', preview);\\n          this.show();\\n          this.position(this.quill.getBounds(this.linkRange));\\n          return;\\n        }\\n      } else {\\n        delete this.linkRange;\\n      }\\n      this.hide();\\n    });\\n  }\\n\\n  show() {\\n    super.show();\\n    this.root.removeAttribute('data-mode');\\n  }\\n}\\nSnowTooltip.TEMPLATE = ['<a class=\\\"ql-preview\\\" target=\\\"_blank\\\" href=\\\"about:blank\\\"></a>', '<input type=\\\"text\\\" data-formula=\\\"e=mc^2\\\" data-link=\\\"https://quilljs.com\\\" data-video=\\\"Embed URL\\\">', '<a class=\\\"ql-action\\\"></a>', '<a class=\\\"ql-remove\\\"></a>'].join('');\\n\\nclass SnowTheme extends _base2.default {\\n  constructor(quill, options) {\\n    if (options.modules.toolbar != null && options.modules.toolbar.container == null) {\\n      options.modules.toolbar.container = TOOLBAR_CONFIG;\\n    }\\n    super(quill, options);\\n    this.quill.container.classList.add('ql-snow');\\n  }\\n\\n  extendToolbar(toolbar) {\\n    toolbar.container.classList.add('ql-snow');\\n    this.buildButtons(toolbar.container.querySelectorAll('button'), _icons2.default);\\n    this.buildPickers(toolbar.container.querySelectorAll('select'), _icons2.default);\\n    this.tooltip = new SnowTooltip(this.quill, this.options.bounds);\\n    if (toolbar.container.querySelector('.ql-link')) {\\n      this.quill.keyboard.addBinding({ key: 'k', shortKey: true }, (range, context) => {\\n        toolbar.handlers.link.call(toolbar, !context.format.link);\\n      });\\n    }\\n  }\\n}\\nSnowTheme.DEFAULTS = (0, _extend2.default)(true, {}, _base2.default.DEFAULTS, {\\n  modules: {\\n    toolbar: {\\n      handlers: {\\n        link(value) {\\n          if (value) {\\n            const range = this.quill.getSelection();\\n            if (range == null || range.length === 0) return;\\n            let preview = this.quill.getText(range);\\n            if (/^\\\\S+@\\\\S+\\\\.\\\\S+$/.test(preview) && preview.indexOf('mailto:') !== 0) {\\n              preview = `mailto:${preview}`;\\n            }\\n            const tooltip = this.quill.theme.tooltip;\\n\\n            tooltip.edit('link', preview);\\n          } else {\\n            this.quill.format('link', false);\\n          }\\n        }\\n      }\\n    }\\n  }\\n});\\n\\nexports.default = SnowTheme;\\n\\n//# sourceURL=webpack://Quill/./themes/snow.js?\");\n\n/***/ }),\n\n/***/ \"./ui/color-picker.js\":\n/*!****************************!*\\\n  !*** ./ui/color-picker.js ***!\n  \\****************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\n\\nvar _picker = __webpack_require__(/*! ./picker */ \\\"./ui/picker.js\\\");\\n\\nvar _picker2 = _interopRequireDefault(_picker);\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\\n\\nclass ColorPicker extends _picker2.default {\\n  constructor(select, label) {\\n    super(select);\\n    this.label.innerHTML = label;\\n    this.container.classList.add('ql-color-picker');\\n    Array.from(this.container.querySelectorAll('.ql-picker-item')).slice(0, 7).forEach(item => {\\n      item.classList.add('ql-primary');\\n    });\\n  }\\n\\n  buildItem(option) {\\n    const item = super.buildItem(option);\\n    item.style.backgroundColor = option.getAttribute('value') || '';\\n    return item;\\n  }\\n\\n  selectItem(item, trigger) {\\n    super.selectItem(item, trigger);\\n    const colorLabel = this.label.querySelector('.ql-color-label');\\n    const value = item ? item.getAttribute('data-value') || '' : '';\\n    if (colorLabel) {\\n      if (colorLabel.tagName === 'line') {\\n        colorLabel.style.stroke = value;\\n      } else {\\n        colorLabel.style.fill = value;\\n      }\\n    }\\n  }\\n}\\n\\nexports.default = ColorPicker;\\n\\n//# sourceURL=webpack://Quill/./ui/color-picker.js?\");\n\n/***/ }),\n\n/***/ \"./ui/icon-picker.js\":\n/*!***************************!*\\\n  !*** ./ui/icon-picker.js ***!\n  \\***************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\n\\nvar _picker = __webpack_require__(/*! ./picker */ \\\"./ui/picker.js\\\");\\n\\nvar _picker2 = _interopRequireDefault(_picker);\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\\n\\nclass IconPicker extends _picker2.default {\\n  constructor(select, icons) {\\n    super(select);\\n    this.container.classList.add('ql-icon-picker');\\n    Array.from(this.container.querySelectorAll('.ql-picker-item')).forEach(item => {\\n      item.innerHTML = icons[item.getAttribute('data-value') || ''];\\n    });\\n    this.defaultItem = this.container.querySelector('.ql-selected');\\n    this.selectItem(this.defaultItem);\\n  }\\n\\n  selectItem(target, trigger) {\\n    super.selectItem(target, trigger);\\n    const item = target || this.defaultItem;\\n    this.label.innerHTML = item.innerHTML;\\n  }\\n}\\n\\nexports.default = IconPicker;\\n\\n//# sourceURL=webpack://Quill/./ui/icon-picker.js?\");\n\n/***/ }),\n\n/***/ \"./ui/icons.js\":\n/*!*********************!*\\\n  !*** ./ui/icons.js ***!\n  \\*********************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nvar _alignLeft = __webpack_require__(/*! ../assets/icons/align-left.svg */ \\\"./assets/icons/align-left.svg\\\");\\n\\nvar _alignLeft2 = _interopRequireDefault(_alignLeft);\\n\\nvar _alignCenter = __webpack_require__(/*! ../assets/icons/align-center.svg */ \\\"./assets/icons/align-center.svg\\\");\\n\\nvar _alignCenter2 = _interopRequireDefault(_alignCenter);\\n\\nvar _alignRight = __webpack_require__(/*! ../assets/icons/align-right.svg */ \\\"./assets/icons/align-right.svg\\\");\\n\\nvar _alignRight2 = _interopRequireDefault(_alignRight);\\n\\nvar _alignJustify = __webpack_require__(/*! ../assets/icons/align-justify.svg */ \\\"./assets/icons/align-justify.svg\\\");\\n\\nvar _alignJustify2 = _interopRequireDefault(_alignJustify);\\n\\nvar _background = __webpack_require__(/*! ../assets/icons/background.svg */ \\\"./assets/icons/background.svg\\\");\\n\\nvar _background2 = _interopRequireDefault(_background);\\n\\nvar _blockquote = __webpack_require__(/*! ../assets/icons/blockquote.svg */ \\\"./assets/icons/blockquote.svg\\\");\\n\\nvar _blockquote2 = _interopRequireDefault(_blockquote);\\n\\nvar _bold = __webpack_require__(/*! ../assets/icons/bold.svg */ \\\"./assets/icons/bold.svg\\\");\\n\\nvar _bold2 = _interopRequireDefault(_bold);\\n\\nvar _clean = __webpack_require__(/*! ../assets/icons/clean.svg */ \\\"./assets/icons/clean.svg\\\");\\n\\nvar _clean2 = _interopRequireDefault(_clean);\\n\\nvar _code = __webpack_require__(/*! ../assets/icons/code.svg */ \\\"./assets/icons/code.svg\\\");\\n\\nvar _code2 = _interopRequireDefault(_code);\\n\\nvar _color = __webpack_require__(/*! ../assets/icons/color.svg */ \\\"./assets/icons/color.svg\\\");\\n\\nvar _color2 = _interopRequireDefault(_color);\\n\\nvar _directionLtr = __webpack_require__(/*! ../assets/icons/direction-ltr.svg */ \\\"./assets/icons/direction-ltr.svg\\\");\\n\\nvar _directionLtr2 = _interopRequireDefault(_directionLtr);\\n\\nvar _directionRtl = __webpack_require__(/*! ../assets/icons/direction-rtl.svg */ \\\"./assets/icons/direction-rtl.svg\\\");\\n\\nvar _directionRtl2 = _interopRequireDefault(_directionRtl);\\n\\nvar _formula = __webpack_require__(/*! ../assets/icons/formula.svg */ \\\"./assets/icons/formula.svg\\\");\\n\\nvar _formula2 = _interopRequireDefault(_formula);\\n\\nvar _header = __webpack_require__(/*! ../assets/icons/header.svg */ \\\"./assets/icons/header.svg\\\");\\n\\nvar _header2 = _interopRequireDefault(_header);\\n\\nvar _header3 = __webpack_require__(/*! ../assets/icons/header-2.svg */ \\\"./assets/icons/header-2.svg\\\");\\n\\nvar _header4 = _interopRequireDefault(_header3);\\n\\nvar _italic = __webpack_require__(/*! ../assets/icons/italic.svg */ \\\"./assets/icons/italic.svg\\\");\\n\\nvar _italic2 = _interopRequireDefault(_italic);\\n\\nvar _image = __webpack_require__(/*! ../assets/icons/image.svg */ \\\"./assets/icons/image.svg\\\");\\n\\nvar _image2 = _interopRequireDefault(_image);\\n\\nvar _indent = __webpack_require__(/*! ../assets/icons/indent.svg */ \\\"./assets/icons/indent.svg\\\");\\n\\nvar _indent2 = _interopRequireDefault(_indent);\\n\\nvar _outdent = __webpack_require__(/*! ../assets/icons/outdent.svg */ \\\"./assets/icons/outdent.svg\\\");\\n\\nvar _outdent2 = _interopRequireDefault(_outdent);\\n\\nvar _link = __webpack_require__(/*! ../assets/icons/link.svg */ \\\"./assets/icons/link.svg\\\");\\n\\nvar _link2 = _interopRequireDefault(_link);\\n\\nvar _listBullet = __webpack_require__(/*! ../assets/icons/list-bullet.svg */ \\\"./assets/icons/list-bullet.svg\\\");\\n\\nvar _listBullet2 = _interopRequireDefault(_listBullet);\\n\\nvar _listCheck = __webpack_require__(/*! ../assets/icons/list-check.svg */ \\\"./assets/icons/list-check.svg\\\");\\n\\nvar _listCheck2 = _interopRequireDefault(_listCheck);\\n\\nvar _listOrdered = __webpack_require__(/*! ../assets/icons/list-ordered.svg */ \\\"./assets/icons/list-ordered.svg\\\");\\n\\nvar _listOrdered2 = _interopRequireDefault(_listOrdered);\\n\\nvar _subscript = __webpack_require__(/*! ../assets/icons/subscript.svg */ \\\"./assets/icons/subscript.svg\\\");\\n\\nvar _subscript2 = _interopRequireDefault(_subscript);\\n\\nvar _superscript = __webpack_require__(/*! ../assets/icons/superscript.svg */ \\\"./assets/icons/superscript.svg\\\");\\n\\nvar _superscript2 = _interopRequireDefault(_superscript);\\n\\nvar _strike = __webpack_require__(/*! ../assets/icons/strike.svg */ \\\"./assets/icons/strike.svg\\\");\\n\\nvar _strike2 = _interopRequireDefault(_strike);\\n\\nvar _table = __webpack_require__(/*! ../assets/icons/table.svg */ \\\"./assets/icons/table.svg\\\");\\n\\nvar _table2 = _interopRequireDefault(_table);\\n\\nvar _underline = __webpack_require__(/*! ../assets/icons/underline.svg */ \\\"./assets/icons/underline.svg\\\");\\n\\nvar _underline2 = _interopRequireDefault(_underline);\\n\\nvar _video = __webpack_require__(/*! ../assets/icons/video.svg */ \\\"./assets/icons/video.svg\\\");\\n\\nvar _video2 = _interopRequireDefault(_video);\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\\n\\nmodule.exports = {\\n  align: {\\n    '': _alignLeft2.default,\\n    center: _alignCenter2.default,\\n    right: _alignRight2.default,\\n    justify: _alignJustify2.default\\n  },\\n  background: _background2.default,\\n  blockquote: _blockquote2.default,\\n  bold: _bold2.default,\\n  clean: _clean2.default,\\n  code: _code2.default,\\n  'code-block': _code2.default,\\n  color: _color2.default,\\n  direction: {\\n    '': _directionLtr2.default,\\n    rtl: _directionRtl2.default\\n  },\\n  formula: _formula2.default,\\n  header: {\\n    '1': _header2.default,\\n    '2': _header4.default\\n  },\\n  italic: _italic2.default,\\n  image: _image2.default,\\n  indent: {\\n    '+1': _indent2.default,\\n    '-1': _outdent2.default\\n  },\\n  link: _link2.default,\\n  list: {\\n    bullet: _listBullet2.default,\\n    check: _listCheck2.default,\\n    ordered: _listOrdered2.default\\n  },\\n  script: {\\n    sub: _subscript2.default,\\n    super: _superscript2.default\\n  },\\n  strike: _strike2.default,\\n  table: _table2.default,\\n  underline: _underline2.default,\\n  video: _video2.default\\n};\\n\\n//# sourceURL=webpack://Quill/./ui/icons.js?\");\n\n/***/ }),\n\n/***/ \"./ui/picker.js\":\n/*!**********************!*\\\n  !*** ./ui/picker.js ***!\n  \\**********************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\n\\nvar _dropdown = __webpack_require__(/*! ../assets/icons/dropdown.svg */ \\\"./assets/icons/dropdown.svg\\\");\\n\\nvar _dropdown2 = _interopRequireDefault(_dropdown);\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\\n\\nlet optionsCounter = 0;\\n\\nfunction toggleAriaAttribute(element, attribute) {\\n  element.setAttribute(attribute, !(element.getAttribute(attribute) === 'true'));\\n}\\n\\nclass Picker {\\n  constructor(select) {\\n    this.select = select;\\n    this.container = document.createElement('span');\\n    this.buildPicker();\\n    this.select.style.display = 'none';\\n    this.select.parentNode.insertBefore(this.container, this.select);\\n\\n    this.label.addEventListener('mousedown', () => {\\n      this.togglePicker();\\n    });\\n    this.label.addEventListener('keydown', event => {\\n      switch (event.key) {\\n        case 'Enter':\\n          this.togglePicker();\\n          break;\\n        case 'Escape':\\n          this.escape();\\n          event.preventDefault();\\n          break;\\n        default:\\n      }\\n    });\\n    this.select.addEventListener('change', this.update.bind(this));\\n  }\\n\\n  togglePicker() {\\n    this.container.classList.toggle('ql-expanded');\\n    // Toggle aria-expanded and aria-hidden to make the picker accessible\\n    toggleAriaAttribute(this.label, 'aria-expanded');\\n    toggleAriaAttribute(this.options, 'aria-hidden');\\n  }\\n\\n  buildItem(option) {\\n    const item = document.createElement('span');\\n    item.tabIndex = '0';\\n    item.setAttribute('role', 'button');\\n    item.classList.add('ql-picker-item');\\n    if (option.hasAttribute('value')) {\\n      item.setAttribute('data-value', option.getAttribute('value'));\\n    }\\n    if (option.textContent) {\\n      item.setAttribute('data-label', option.textContent);\\n    }\\n    item.addEventListener('click', () => {\\n      this.selectItem(item, true);\\n    });\\n    item.addEventListener('keydown', event => {\\n      switch (event.key) {\\n        case 'Enter':\\n          this.selectItem(item, true);\\n          event.preventDefault();\\n          break;\\n        case 'Escape':\\n          this.escape();\\n          event.preventDefault();\\n          break;\\n        default:\\n      }\\n    });\\n\\n    return item;\\n  }\\n\\n  buildLabel() {\\n    const label = document.createElement('span');\\n    label.classList.add('ql-picker-label');\\n    label.innerHTML = _dropdown2.default;\\n    label.tabIndex = '0';\\n    label.setAttribute('role', 'button');\\n    label.setAttribute('aria-expanded', 'false');\\n    this.container.appendChild(label);\\n    return label;\\n  }\\n\\n  buildOptions() {\\n    const options = document.createElement('span');\\n    options.classList.add('ql-picker-options');\\n\\n    // Don't want screen readers to read this until options are visible\\n    options.setAttribute('aria-hidden', 'true');\\n    options.tabIndex = '-1';\\n\\n    // Need a unique id for aria-controls\\n    options.id = `ql-picker-options-${optionsCounter}`;\\n    optionsCounter += 1;\\n    this.label.setAttribute('aria-controls', options.id);\\n\\n    this.options = options;\\n\\n    Array.from(this.select.options).forEach(option => {\\n      const item = this.buildItem(option);\\n      options.appendChild(item);\\n      if (option.selected === true) {\\n        this.selectItem(item);\\n      }\\n    });\\n    this.container.appendChild(options);\\n  }\\n\\n  buildPicker() {\\n    Array.from(this.select.attributes).forEach(item => {\\n      this.container.setAttribute(item.name, item.value);\\n    });\\n    this.container.classList.add('ql-picker');\\n    this.label = this.buildLabel();\\n    this.buildOptions();\\n  }\\n\\n  escape() {\\n    // Close menu and return focus to trigger label\\n    this.close();\\n    // Need setTimeout for accessibility to ensure that the browser executes\\n    // focus on the next process thread and after any DOM content changes\\n    setTimeout(() => this.label.focus(), 1);\\n  }\\n\\n  close() {\\n    this.container.classList.remove('ql-expanded');\\n    this.label.setAttribute('aria-expanded', 'false');\\n    this.options.setAttribute('aria-hidden', 'true');\\n  }\\n\\n  selectItem(item, trigger = false) {\\n    const selected = this.container.querySelector('.ql-selected');\\n    if (item === selected) return;\\n    if (selected != null) {\\n      selected.classList.remove('ql-selected');\\n    }\\n    if (item == null) return;\\n    item.classList.add('ql-selected');\\n    this.select.selectedIndex = Array.from(item.parentNode.children).indexOf(item);\\n    if (item.hasAttribute('data-value')) {\\n      this.label.setAttribute('data-value', item.getAttribute('data-value'));\\n    } else {\\n      this.label.removeAttribute('data-value');\\n    }\\n    if (item.hasAttribute('data-label')) {\\n      this.label.setAttribute('data-label', item.getAttribute('data-label'));\\n    } else {\\n      this.label.removeAttribute('data-label');\\n    }\\n    if (trigger) {\\n      this.select.dispatchEvent(new Event('change'));\\n      this.close();\\n    }\\n  }\\n\\n  update() {\\n    let option;\\n    if (this.select.selectedIndex > -1) {\\n      const item = this.container.querySelector('.ql-picker-options').children[this.select.selectedIndex];\\n      option = this.select.options[this.select.selectedIndex];\\n      this.selectItem(item);\\n    } else {\\n      this.selectItem(null);\\n    }\\n    const isActive = option != null && option !== this.select.querySelector('option[selected]');\\n    this.label.classList.toggle('ql-active', isActive);\\n  }\\n}\\n\\nexports.default = Picker;\\n\\n//# sourceURL=webpack://Quill/./ui/picker.js?\");\n\n/***/ }),\n\n/***/ \"./ui/tooltip.js\":\n/*!***********************!*\\\n  !*** ./ui/tooltip.js ***!\n  \\***********************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\neval(\"\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nclass Tooltip {\\n  constructor(quill, boundsContainer) {\\n    this.quill = quill;\\n    this.boundsContainer = boundsContainer || document.body;\\n    this.root = quill.addContainer('ql-tooltip');\\n    this.root.innerHTML = this.constructor.TEMPLATE;\\n    if (this.quill.root === this.quill.scrollingContainer) {\\n      this.quill.root.addEventListener('scroll', () => {\\n        this.root.style.marginTop = `${-1 * this.quill.root.scrollTop}px`;\\n      });\\n    }\\n    this.hide();\\n  }\\n\\n  hide() {\\n    this.root.classList.add('ql-hidden');\\n  }\\n\\n  position(reference) {\\n    const left = reference.left + reference.width / 2 - this.root.offsetWidth / 2;\\n    // root.scrollTop should be 0 if scrollContainer !== root\\n    const top = reference.bottom + this.quill.root.scrollTop;\\n    this.root.style.left = `${left}px`;\\n    this.root.style.top = `${top}px`;\\n    this.root.classList.remove('ql-flip');\\n    const containerBounds = this.boundsContainer.getBoundingClientRect();\\n    const rootBounds = this.root.getBoundingClientRect();\\n    let shift = 0;\\n    if (rootBounds.right > containerBounds.right) {\\n      shift = containerBounds.right - rootBounds.right;\\n      this.root.style.left = `${left + shift}px`;\\n    }\\n    if (rootBounds.left < containerBounds.left) {\\n      shift = containerBounds.left - rootBounds.left;\\n      this.root.style.left = `${left + shift}px`;\\n    }\\n    if (rootBounds.bottom > containerBounds.bottom) {\\n      const height = rootBounds.bottom - rootBounds.top;\\n      const verticalShift = reference.bottom - reference.top + height;\\n      this.root.style.top = `${top - verticalShift}px`;\\n      this.root.classList.add('ql-flip');\\n    }\\n    return shift;\\n  }\\n\\n  show() {\\n    this.root.classList.remove('ql-editing');\\n    this.root.classList.remove('ql-hidden');\\n  }\\n}\\n\\nexports.default = Tooltip;\\n\\n//# sourceURL=webpack://Quill/./ui/tooltip.js?\");\n\n/***/ }),\n\n/***/ 0:\n/*!************************!*\\\n  !*** multi ./quill.js ***!\n  \\************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\neval(\"module.exports = __webpack_require__(/*! ./quill.js */\\\"./quill.js\\\");\\n\\n\\n//# sourceURL=webpack://Quill/multi_./quill.js?\");\n\n/***/ })\n\n/******/ })[\"default\"];\n});","import Quill from 'quill';\n\n// replace <p> tag with <div>\nconst Block = Quill.import('blots/block');\nBlock.tagName = 'DIV';\nQuill.register(Block, true);\n\nconst CodeBlockContainer = Quill.import('formats/code-block-container');\nCodeBlockContainer.tagName = 'PRE';\nQuill.register(CodeBlockContainer, true);\n\n// table\nconst Table = Quill.import('formats/table-container');\nconst superCreate = Table.create.bind(Table);\nTable.create = (value) => {\n\tconst node = superCreate(value);\n\tnode.classList.add('table');\n\tnode.classList.add('table-bordered');\n\treturn node;\n}\nQuill.register(Table, true);\n\n// link without href\nvar Link = Quill.import('formats/link');\n\nclass MyLink extends Link {\n\tstatic create(value) {\n\t\tlet node = super.create(value);\n\t\tvalue = this.sanitize(value);\n\t\tnode.setAttribute('href', value);\n\t\tif(value.startsWith('/') || value.indexOf(window.location.host)) {\n\t\t\t// no href if internal link\n\t\t\tnode.removeAttribute('target');\n\t\t}\n\t\treturn node;\n\t}\n}\n\nQuill.register(MyLink);\n\n\n// hidden blot\nclass HiddenBlock extends Block {\n\tstatic create(value) {\n\t\tconst node = super.create(value);\n\t\tnode.setAttribute('data-comment', value);\n\t\tnode.classList.add('hidden');\n\t\treturn node;\n\t}\n\n\tstatic formats(node) {\n\t\treturn node.getAttribute('data-comment');\n\t}\n}\nHiddenBlock.blotName = 'hiddenblot';\nHiddenBlock.tagName = 'SPAN';\nQuill.register(HiddenBlock, true);\n\n// image uploader\nconst Uploader = Quill.import('modules/uploader');\nUploader.DEFAULTS.mimetypes.push('image/gif');\n\n// inline style\nconst BackgroundStyle = Quill.import('attributors/style/background');\nconst ColorStyle = Quill.import('attributors/style/color');\nconst FontStyle = Quill.import('attributors/style/font');\nconst AlignStyle = Quill.import('attributors/style/align');\nconst DirectionStyle = Quill.import('attributors/style/direction');\nQuill.register(BackgroundStyle, true);\nQuill.register(ColorStyle, true);\nQuill.register(FontStyle, true);\nQuill.register(AlignStyle, true);\nQuill.register(DirectionStyle, true);\n\nfrappe.ui.form.ControlTextEditor = frappe.ui.form.ControlCode.extend({\n\tmake_input() {\n\t\tthis.has_input = true;\n\t\tthis.make_quill_editor();\n\t},\n\n\tmake_quill_editor() {\n\t\tif (this.quill) return;\n\t\tthis.quill_container = $('<div>').appendTo(this.input_area);\n\t\tthis.quill = new Quill(this.quill_container[0], this.get_quill_options());\n\t\tthis.bind_events();\n\t},\n\n\tbind_events() {\n\t\tthis.quill.on('text-change', frappe.utils.debounce((delta, oldDelta, source) => {\n\t\t\tif (!this.is_quill_dirty(source)) return;\n\n\t\t\tconst input_value = this.get_input_value();\n\t\t\tthis.parse_validate_and_set_in_model(input_value);\n\t\t}, 300));\n\n\t\t$(this.quill.root).on('keydown', (e) => {\n\t\t\tconst key = frappe.ui.keys.get_key(e);\n\t\t\tif (['ctrl+b', 'meta+b'].includes(key)) {\n\t\t\t\te.stopPropagation();\n\t\t\t}\n\t\t});\n\n\t\t$(this.quill.root).on('drop', (e) => {\n\t\t\te.stopPropagation();\n\t\t});\n\n\t\t// table commands\n\t\tthis.$wrapper.on('click', '.ql-table .ql-picker-item', (e) => {\n\t\t\tconst $target = $(e.currentTarget);\n\t\t\tconst action = $target.data().value;\n\t\t\te.preventDefault();\n\n\t\t\tconst table = this.quill.getModule('table');\n\t\t\tif (action === 'insert-table') {\n\t\t\t\ttable.insertTable(2, 2);\n\t\t\t} else if (action === 'insert-row-above') {\n\t\t\t\ttable.insertRowAbove();\n\t\t\t} else if (action === 'insert-row-below') {\n\t\t\t\ttable.insertRowBelow();\n\t\t\t} else if (action === 'insert-column-left') {\n\t\t\t\ttable.insertColumnLeft();\n\t\t\t} else if (action === 'insert-column-right') {\n\t\t\t\ttable.insertColumnRight();\n\t\t\t} else if (action === 'delete-row') {\n\t\t\t\ttable.deleteRow();\n\t\t\t} else if (action === 'delete-column') {\n\t\t\t\ttable.deleteColumn();\n\t\t\t} else if (action === 'delete-table') {\n\t\t\t\ttable.deleteTable();\n\t\t\t}\n\n\t\t\tif (action !== 'delete-row') {\n\t\t\t\ttable.balanceTables();\n\t\t\t}\n\n\t\t\te.preventDefault();\n\t\t});\n\t},\n\n\tis_quill_dirty(source) {\n\t\tif (source === 'api') return false;\n\t\tlet input_value = this.get_input_value();\n\t\treturn this.value !== input_value;\n\t},\n\n\tget_quill_options() {\n\t\treturn {\n\t\t\tmodules: {\n\t\t\t\ttoolbar: this.get_toolbar_options(),\n\t\t\t\ttable: true\n\t\t\t},\n\t\t\ttheme: 'snow'\n\t\t};\n\t},\n\n\tget_toolbar_options() {\n\t\treturn [\n\t\t\t[{ 'header': [1, 2, 3, false] }],\n\t\t\t['bold', 'italic', 'underline'],\n\t\t\t[{ 'color': [] }, { 'background': [] }],\n\t\t\t['blockquote', 'code-block'],\n\t\t\t['link', 'image'],\n\t\t\t[{ 'list': 'ordered' }, { 'list': 'bullet' }],\n\t\t\t[{ 'align': [] }],\n\t\t\t[{ 'indent': '-1'}, { 'indent': '+1' }],\n\t\t\t[{'table': [\n\t\t\t\t'insert-table',\n\t\t\t\t'insert-row-above',\n\t\t\t\t'insert-row-below',\n\t\t\t\t'insert-column-right',\n\t\t\t\t'insert-column-left',\n\t\t\t\t'delete-row',\n\t\t\t\t'delete-column',\n\t\t\t\t'delete-table',\n\t\t\t]}],\n\t\t\t['clean']\n\t\t];\n\t},\n\n\tparse(value) {\n\t\tif (value == null) {\n\t\t\tvalue = \"\";\n\t\t}\n\t\treturn frappe.dom.remove_script_and_style(value);\n\t},\n\n\tset_formatted_input(value) {\n\t\tif (!this.quill) return;\n\t\tif (value === this.get_input_value()) return;\n\t\tif (!value) {\n\t\t\t// clear contents for falsy values like '', undefined or null\n\t\t\tthis.quill.setText('');\n\t\t\treturn;\n\t\t}\n\n\t\t// set html without triggering a focus\n\t\tconst delta = this.quill.clipboard.convert({ html: value, text: '' });\n\t\tthis.quill.setContents(delta);\n\t},\n\n\tget_input_value() {\n\t\tlet value = this.quill ? this.quill.root.innerHTML : '';\n\t\t// quill keeps ol as a common container for both type of lists\n\t\t// and uses css for appearances, this is not semantic\n\t\t// so we convert ol to ul if it is unordered\n\t\tconst $value = $(`<div>${value}</div>`);\n\t\t$value.find('ol li[data-list=bullet]:first-child').each((i, li) => {\n\t\t\tlet $li = $(li);\n\t\t\tlet $parent = $li.parent();\n\t\t\tlet $children = $parent.children();\n\t\t\tlet $ul = $('<ul>').append($children);\n\t\t\t$parent.replaceWith($ul);\n\t\t});\n\t\tvalue = $value.html();\n\t\treturn value;\n\t}\n});\n","/* eslint-disable */\nconst Keys = {\n  TAB: 'Tab',\n  ENTER: 'Enter',\n  ESCAPE: 27,\n  UP: 'ArrowUp',\n  DOWN: 'ArrowDown',\n};\n\nexport default Keys;\n","/* eslint-disable */\nimport Quill from 'quill';\n\nconst Embed = Quill.import('blots/embed');\n\n\nclass MentionBlot extends Embed {\n  static create(data) {\n    const node = super.create();\n    const denotationChar = document.createElement('span');\n    denotationChar.className = 'ql-mention-denotation-char';\n    denotationChar.innerHTML = data.denotationChar;\n    node.appendChild(denotationChar);\n    node.innerHTML += data.value;\n    node.dataset.id = data.id;\n    node.dataset.value = data.value;\n    node.dataset.denotationChar = data.denotationChar;\n    if (data.link) {\n      node.dataset.link = data.link;\n    }\n    return node;\n  }\n\n  static value(domNode) {\n    return {\n      id: domNode.dataset.id,\n      value: domNode.dataset.value,\n      link: domNode.dataset.link || null,\n      denotationChar: domNode.dataset.denotationChar,\n    };\n  }\n}\n\nMentionBlot.blotName = 'mention';\nMentionBlot.tagName = 'span';\nMentionBlot.className = 'mention';\n\nQuill.register(MentionBlot);\n","/* eslint-disable */\nimport Quill from 'quill';\nimport Keys from './constants/keys';\nimport './quill.mention.css';\nimport './blots/mention';\n\n\nclass Mention {\n  constructor(quill, options) {\n    this.isOpen = false;\n    this.itemIndex = 0;\n    this.mentionCharPos = null;\n    this.cursorPos = null;\n    this.values = [];\n    this.suspendMouseEnter = false;\n\n    this.quill = quill;\n\n    this.options = {\n      source: null,\n      renderItem(item, searchTerm) {\n        return `${item.value}`;\n      },\n      mentionDenotationChars: ['@'],\n      allowedChars: /^[a-zA-Z0-9_]*$/,\n      minChars: 0,\n      maxChars: 31,\n      offsetTop: 2,\n      offsetLeft: 0,\n      isolateCharacter: false,\n      fixMentionsToQuill: false,\n      defaultMenuOrientation: 'bottom',\n    };\n\n    Object.assign(this.options, options);\n\n    this.mentionContainer = document.createElement('div');\n    this.mentionContainer.className = 'ql-mention-list-container';\n    this.mentionContainer.style.cssText = 'display: none; position: absolute;';\n    this.mentionContainer.onmousemove = this.onContainerMouseMove.bind(this);\n\n    if (this.options.fixMentionsToQuill) {\n      this.mentionContainer.style.width = 'auto';\n    }\n\n    this.mentionList = document.createElement('ul');\n    this.mentionList.className = 'ql-mention-list';\n    this.mentionContainer.appendChild(this.mentionList);\n\n    this.quill.container.appendChild(this.mentionContainer);\n\n    quill.on('text-change', this.onTextChange.bind(this));\n    quill.on('selection-change', this.onSelectionChange.bind(this));\n\n    quill.keyboard.addBinding({\n      key: Keys.TAB,\n    }, this.selectHandler.bind(this));\n    quill.keyboard.bindings[Keys.TAB].unshift(quill.keyboard.bindings[Keys.TAB].pop());\n\n    quill.keyboard.addBinding({\n      key: Keys.ENTER,\n    }, this.selectHandler.bind(this));\n    quill.keyboard.bindings[Keys.ENTER].unshift(quill.keyboard.bindings[Keys.ENTER].pop());\n\n    quill.keyboard.addBinding({\n      key: Keys.ESCAPE,\n    }, this.escapeHandler.bind(this));\n\n    quill.keyboard.addBinding({\n      key: Keys.UP,\n    }, this.upHandler.bind(this));\n\n    quill.keyboard.addBinding({\n      key: Keys.DOWN,\n    }, this.downHandler.bind(this));\n  }\n\n  selectHandler() {\n    if (this.isOpen) {\n      this.selectItem();\n      return false;\n    }\n    return true;\n  }\n\n  escapeHandler() {\n    if (this.isOpen) {\n      this.hideMentionList();\n      return false;\n    }\n    return true;\n  }\n\n  upHandler() {\n    if (this.isOpen) {\n      this.prevItem();\n      return false;\n    }\n    return true;\n  }\n\n  downHandler() {\n    if (this.isOpen) {\n      this.nextItem();\n      return false;\n    }\n    return true;\n  }\n\n  showMentionList() {\n    this.mentionContainer.style.visibility = 'hidden';\n    this.mentionContainer.style.display = '';\n    this.setMentionContainerPosition();\n    this.isOpen = true;\n  }\n\n  hideMentionList() {\n    this.mentionContainer.style.display = 'none';\n    this.isOpen = false;\n  }\n\n  highlightItem(scrollItemInView = true) {\n    for (let i = 0; i < this.mentionList.childNodes.length; i += 1) {\n      this.mentionList.childNodes[i].classList.remove('selected');\n    }\n    this.mentionList.childNodes[this.itemIndex].classList.add('selected');\n\n    if (scrollItemInView) {\n      const itemHeight = this.mentionList.childNodes[this.itemIndex].offsetHeight;\n      const itemPos = this.itemIndex * itemHeight;\n      const containerTop = this.mentionContainer.scrollTop;\n      const containerBottom = containerTop + this.mentionContainer.offsetHeight;\n\n      if (itemPos < containerTop) {\n        // Scroll up if the item is above the top of the container\n        this.mentionContainer.scrollTop = itemPos;\n      } else if (itemPos > (containerBottom - itemHeight)) {\n        // scroll down if any part of the element is below the bottom of the container\n        this.mentionContainer.scrollTop += (itemPos - containerBottom) + itemHeight;\n      }\n    }\n  }\n\n  getItemData() {\n    const itemLink = this.mentionList.childNodes[this.itemIndex].dataset.link;\n    return {\n      id: this.mentionList.childNodes[this.itemIndex].dataset.id,\n      value: itemLink ?\n        `<a href=\"${itemLink}\" target=\"_blank\">${this.mentionList.childNodes[this.itemIndex].dataset.value}` :\n        this.mentionList.childNodes[this.itemIndex].dataset.value,\n      link: itemLink || null,\n      denotationChar: this.mentionList.childNodes[this.itemIndex].dataset.denotationChar,\n    };\n  }\n\n  onContainerMouseMove() {\n    this.suspendMouseEnter = false;\n  }\n\n  selectItem() {\n    const data = this.getItemData();\n    this.quill\n      .deleteText(this.mentionCharPos, this.cursorPos - this.mentionCharPos, Quill.sources.API);\n    this.quill.insertEmbed(this.mentionCharPos, 'mention', data, Quill.sources.API);\n    this.quill.insertText(this.mentionCharPos + 1, ' ', Quill.sources.API);\n    this.quill.setSelection(this.mentionCharPos + 2, Quill.sources.API);\n    this.hideMentionList();\n  }\n\n  onItemMouseEnter(e) {\n    if (this.suspendMouseEnter) {\n      return;\n    }\n\n    const index = Number(e.target.dataset.index);\n\n    if (!Number.isNaN(index) && index !== this.itemIndex) {\n      this.itemIndex = index;\n      this.highlightItem(false);\n    }\n  }\n\n  onItemClick(e) {\n    e.stopImmediatePropagation();\n    e.preventDefault();\n    this.itemIndex = e.currentTarget.dataset.index;\n    this.highlightItem();\n    this.selectItem();\n  }\n\n  renderList(mentionChar, data, searchTerm) {\n    if (data && data.length > 0) {\n      this.values = data;\n      this.mentionList.innerHTML = '';\n      for (let i = 0; i < data.length; i += 1) {\n        const li = document.createElement('li');\n        li.className = 'ql-mention-list-item';\n        li.dataset.index = i;\n        li.dataset.id = data[i].id;\n        li.dataset.value = data[i].value;\n        li.dataset.denotationChar = mentionChar;\n        if (data[i].link) {\n          li.dataset.link = data[i].link;\n        }\n        li.innerHTML = this.options.renderItem(data[i], searchTerm);\n        li.onmouseenter = this.onItemMouseEnter.bind(this);\n        li.onclick = this.onItemClick.bind(this);\n        this.mentionList.appendChild(li);\n      }\n      this.itemIndex = 0;\n      this.highlightItem();\n      this.showMentionList();\n    } else {\n      this.hideMentionList();\n    }\n  }\n\n  nextItem() {\n    this.itemIndex = (this.itemIndex + 1) % this.values.length;\n    this.suspendMouseEnter = true;\n    this.highlightItem();\n  }\n\n  prevItem() {\n    this.itemIndex = ((this.itemIndex + this.values.length) - 1) % this.values.length;\n    this.suspendMouseEnter = true;\n    this.highlightItem();\n  }\n\n  hasValidChars(s) {\n    return this.options.allowedChars.test(s);\n  }\n\n  containerBottomIsNotVisible(topPos, containerPos) {\n    const mentionContainerBottom = topPos + this.mentionContainer.offsetHeight + containerPos.top;\n    return mentionContainerBottom > window.pageYOffset + window.innerHeight;\n  }\n\n  containerRightIsNotVisible(leftPos, containerPos) {\n    if (this.options.fixMentionsToQuill) {\n      return false;\n    }\n\n    const rightPos = leftPos + this.mentionContainer.offsetWidth + containerPos.left;\n    const browserWidth = window.pageXOffset + document.documentElement.clientWidth;\n    return rightPos > browserWidth;\n  }\n\n  setMentionContainerPosition() {\n    const containerPos = this.quill.container.getBoundingClientRect();\n    const mentionCharPos = this.quill.getBounds(this.mentionCharPos);\n    const containerHeight = this.mentionContainer.offsetHeight;\n\n    let topPos = this.options.offsetTop;\n    let leftPos = this.options.offsetLeft;\n\n    // handle horizontal positioning\n    if (this.options.fixMentionsToQuill) {\n      const rightPos = 0;\n      this.mentionContainer.style.right = `${rightPos}px`;\n    } else {\n      leftPos += mentionCharPos.left;\n    }\n\n    if (this.containerRightIsNotVisible(leftPos, containerPos)) {\n      const containerWidth = this.mentionContainer.offsetWidth + this.options.offsetLeft;\n      const quillWidth = containerPos.width;\n      leftPos = quillWidth - containerWidth;\n    }\n\n    // handle vertical positioning\n    if (this.options.defaultMenuOrientation === 'top') {\n      // Attempt to align the mention container with the top of the quill editor\n      if (this.options.fixMentionsToQuill) {\n        topPos = -1 * (containerHeight + this.options.offsetTop);\n      } else {\n        topPos = mentionCharPos.top - (containerHeight + this.options.offsetTop);\n      }\n\n      // default to bottom if the top is not visible\n      if (topPos + containerPos.top <= 0) {\n        let overMentionCharPos = this.options.offsetTop;\n\n        if (this.options.fixMentionsToQuill) {\n          overMentionCharPos += containerPos.height;\n        } else {\n          overMentionCharPos += mentionCharPos.bottom;\n        }\n\n        topPos = overMentionCharPos;\n      }\n    } else {\n      // Attempt to align the mention container with the bottom of the quill editor\n      if (this.options.fixMentionsToQuill) {\n        topPos += containerPos.height;\n      } else {\n        topPos += mentionCharPos.bottom;\n      }\n\n      // default to the top if the bottom is not visible\n      if (this.containerBottomIsNotVisible(topPos, containerPos)) {\n        let overMentionCharPos = this.options.offsetTop * -1;\n\n        if (!this.options.fixMentionsToQuill) {\n          overMentionCharPos += mentionCharPos.top;\n        }\n\n        topPos = overMentionCharPos - containerHeight;\n      }\n    }\n\n    this.mentionContainer.style.top = `${topPos}px`;\n    this.mentionContainer.style.left = `${leftPos}px`;\n\n    this.mentionContainer.style.visibility = 'visible';\n  }\n\n  onSomethingChange() {\n    const range = this.quill.getSelection();\n    if (range == null) return;\n    this.cursorPos = range.index;\n    const startPos = Math.max(0, this.cursorPos - this.options.maxChars);\n    const beforeCursorPos = this.quill.getText(startPos, this.cursorPos - startPos);\n    const mentionCharIndex = this.options.mentionDenotationChars.reduce((prev, cur) => {\n      const previousIndex = prev;\n      const mentionIndex = beforeCursorPos.lastIndexOf(cur);\n\n      return mentionIndex > previousIndex ? mentionIndex : previousIndex;\n    }, -1);\n    if (mentionCharIndex > -1) {\n      if (this.options.isolateCharacter && !(mentionCharIndex == 0 || !!beforeCursorPos[mentionCharIndex - 1].match(/\\s/g))) {\n        this.hideMentionList();\n        return;\n      }\n      const mentionCharPos = this.cursorPos - (beforeCursorPos.length - mentionCharIndex);\n      this.mentionCharPos = mentionCharPos;\n      const textAfter = beforeCursorPos.substring(mentionCharIndex + 1);\n      if (textAfter.length >= this.options.minChars && this.hasValidChars(textAfter)) {\n        const mentionChar = beforeCursorPos[mentionCharIndex];\n        this.options.source(textAfter, this.renderList.bind(this, mentionChar), mentionChar);\n      } else {\n        this.hideMentionList();\n      }\n    } else {\n      this.hideMentionList();\n    }\n  }\n\n  onTextChange(delta, oldDelta, source) {\n    if (source === 'user') {\n      this.onSomethingChange();\n    }\n  }\n\n  onSelectionChange(range) {\n    if (range && range.length === 0) {\n      this.onSomethingChange();\n    } else {\n      this.hideMentionList();\n    }\n  }\n}\n\nQuill.register('modules/mention', Mention);\n\nexport default Mention;\n","import Quill from 'quill';\nimport Mention from './quill-mention/quill.mention';\n\nQuill.register('modules/mention', Mention);\n\nfrappe.ui.form.ControlComment = frappe.ui.form.ControlTextEditor.extend({\n\tmake_wrapper() {\n\t\tthis.comment_wrapper = !this.no_wrapper ? $(`\n\t\t\t\t<div class=\"comment-input-wrapper\">\n\t\t\t\t\t<div class=\"comment-input-header\">\n\t\t\t\t\t<span class=\"small text-muted\">${__(\"Add a comment\")}</span>\n\t\t\t\t\t<button class=\"btn btn-default btn-comment btn-xs pull-right\">\n\t\t\t\t\t\t${__(\"Comment\")}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"comment-input-container\">\n\t\t\t\t\t<div class=\"frappe-control\"></div>\n\t\t\t\t\t<div class=\"text-muted small\">\n\t\t\t\t\t\t${__(\"Ctrl+Enter to add comment\")}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`) : $('<div class=\"frappe-control\"></div>');\n\n\t\tthis.comment_wrapper.appendTo(this.parent);\n\n\t\t// wrapper should point to frappe-control\n\t\tthis.$wrapper = !this.no_wrapper\n\t\t\t? this.comment_wrapper.find('.frappe-control')\n\t\t\t: this.comment_wrapper;\n\n\t\tthis.wrapper = this.$wrapper;\n\n\t\tthis.button = this.comment_wrapper.find('.btn-comment');\n\t},\n\n\tbind_events() {\n\t\tthis._super();\n\n\t\tthis.button.click(() => {\n\t\t\tthis.submit();\n\t\t});\n\n\t\tthis.$wrapper.on('keydown', e => {\n\t\t\tconst key = frappe.ui.keys.get_key(e);\n\t\t\tif (key === 'ctrl+enter') {\n\t\t\t\te.preventDefault();\n\t\t\t\tthis.submit();\n\t\t\t}\n\t\t});\n\n\t\tthis.quill.on('text-change', frappe.utils.debounce(() => {\n\t\t\tthis.update_state();\n\t\t}, 300));\n\t},\n\n\tsubmit() {\n\t\tthis.on_submit && this.on_submit(this.get_value());\n\t},\n\n\tupdate_state() {\n\t\tconst value = this.get_value();\n\t\tif (strip_html(value)) {\n\t\t\tthis.button.removeClass('btn-default').addClass('btn-primary');\n\t\t} else {\n\t\t\tthis.button.addClass('btn-default').removeClass('btn-primary');\n\t\t}\n\t},\n\n\tget_quill_options() {\n\t\tconst options = this._super();\n\t\treturn Object.assign(options, {\n\t\t\ttheme: 'bubble',\n\t\t\tmodules: Object.assign(options.modules, {\n\t\t\t\tmention: this.get_mention_options()\n\t\t\t})\n\t\t});\n\t},\n\n\tget_mention_options() {\n\t\tif (!(this.mentions && this.mentions.length)) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst at_values = this.mentions.map((value, i) => {\n\t\t\treturn {\n\t\t\t\tid: i,\n\t\t\t\tvalue\n\t\t\t};\n\t\t});\n\n\t\treturn {\n\t\t\tallowedChars: /^[A-Za-z0-9_]*$/,\n\t\t\tmentionDenotationChars: [\"@\"],\n\t\t\tisolateCharacter: true,\n\t\t\tsource: function (searchTerm, renderList, mentionChar) {\n\t\t\t\tlet values;\n\n\t\t\t\tif (mentionChar === \"@\") {\n\t\t\t\t\tvalues = at_values;\n\t\t\t\t}\n\n\t\t\t\tif (searchTerm.length === 0) {\n\t\t\t\t\trenderList(values, searchTerm);\n\t\t\t\t} else {\n\t\t\t\t\tconst matches = [];\n\t\t\t\t\tfor (let i = 0; i < values.length; i++) {\n\t\t\t\t\t\tif (~values[i].value.toLowerCase().indexOf(searchTerm.toLowerCase())) {\n\t\t\t\t\t\t\tmatches.push(values[i]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\trenderList(matches, searchTerm);\n\t\t\t\t}\n\t\t\t},\n\t\t};\n\t},\n\n\tget_toolbar_options() {\n\t\treturn [\n\t\t\t['bold', 'italic', 'underline'],\n\t\t\t['blockquote', 'code-block'],\n\t\t\t['link', 'image'],\n\t\t\t[{ 'list': 'ordered' }, { 'list': 'bullet' }],\n\t\t\t['clean']\n\t\t];\n\t},\n\n\tclear() {\n\t\tthis.quill.setText('');\n\t}\n});\n","frappe.ui.form.ControlCheck = frappe.ui.form.ControlData.extend({\n\tinput_type: \"checkbox\",\n\tmake_wrapper: function() {\n\t\tthis.$wrapper = $('<div class=\"form-group frappe-control\">\\\n\t\t\t<div class=\"checkbox\">\\\n\t\t\t\t<label>\\\n\t\t\t\t\t<span class=\"input-area\"></span>\\\n\t\t\t\t\t<span class=\"disp-area\"></span>\\\n\t\t\t\t\t<span class=\"label-area small\"></span>\\\n\t\t\t\t</label>\\\n\t\t\t\t<p class=\"help-box small text-muted\"></p>\\\n\t\t\t</div>\\\n\t\t</div>').appendTo(this.parent);\n\t},\n\tset_input_areas: function() {\n\t\tthis.label_area = this.label_span = this.$wrapper.find(\".label-area\").get(0);\n\t\tthis.input_area = this.$wrapper.find(\".input-area\").get(0);\n\t\tthis.disp_area = this.$wrapper.find(\".disp-area\").get(0);\n\t},\n\tmake_input: function() {\n\t\tthis._super();\n\t\tthis.$input.removeClass(\"form-control\");\n\t},\n\tget_input_value: function() {\n\t\treturn this.input && this.input.checked ? 1 : 0;\n\t},\n\tvalidate: function(value) {\n\t\treturn cint(value);\n\t},\n\tset_input: function(value) {\n\t\tif(this.input) {\n\t\t\tthis.input.checked = (value ? 1 : 0);\n\t\t}\n\t\tthis.last_value = value;\n\t\tthis.set_mandatory(value);\n\t\tthis.set_disp_area(value);\n\t}\n});\n","frappe.ui.form.ControlImage = frappe.ui.form.Control.extend({\n\tmake: function() {\n\t\tthis._super();\n\t\tthis.$wrapper.css({\"margin\": \"0px\"});\n\t\tthis.$body = $(\"<div></div>\").appendTo(this.$wrapper)\n\t\t\t.css({\"margin-bottom\": \"10px\"});\n\t\t$('<div class=\"clearfix\"></div>').appendTo(this.$wrapper);\n\t},\n\trefresh_input: function() {\n\t\tthis.$body.empty();\n\n\t\tvar doc = this.get_doc();\n\t\tif(doc && this.df.options && doc[this.df.options]) {\n\t\t\tthis.$img = $(\"<img src='\"+doc[this.df.options]+\"' class='img-responsive'>\")\n\t\t\t\t.appendTo(this.$body);\n\t\t} else {\n\t\t\tthis.$buffer = $(\"<div class='missing-image'><i class='octicon octicon-circle-slash'></i></div>\")\n\t\t\t\t.appendTo(this.$body);\n\t\t}\n\t\treturn false;\n\t}\n});\n","frappe.ui.form.ControlAttach = frappe.ui.form.ControlData.extend({\n\tmake_input: function() {\n\t\tvar me = this;\n\t\tthis.$input = $('<button class=\"btn btn-default btn-sm btn-attach\">')\n\t\t\t.html(__(\"Attach\"))\n\t\t\t.prependTo(me.input_area)\n\t\t\t.on(\"click\", function() {\n\t\t\t\tme.onclick();\n\t\t\t});\n\t\tthis.$value = $(\n\t\t\t`<div class=\"attached-file\">\n\t\t\t\t<div class=\"ellipsis\">\n\t\t\t\t\t<i class=\"fa fa-paperclip\"></i>\n\t\t\t\t\t<a class=\"attached-file-link\" target=\"_blank\"></a>\n\t\t\t\t</div>\n\t\t\t\t<a class=\"close\">&times;</a>\n\t\t\t</div>`)\n\t\t\t.prependTo(me.input_area)\n\t\t\t.toggle(false);\n\t\tthis.input = this.$input.get(0);\n\t\tthis.set_input_attributes();\n\t\tthis.has_input = true;\n\n\t\tthis.$value.find(\".close\").on(\"click\", function() {\n\t\t\tme.clear_attachment();\n\t\t});\n\t},\n\tclear_attachment: function() {\n\t\tvar me = this;\n\t\tif(this.frm) {\n\t\t\tme.frm.attachments.remove_attachment_by_filename(me.value, function() {\n\t\t\t\tme.parse_validate_and_set_in_model(null);\n\t\t\t\tme.refresh();\n\t\t\t\tme.frm.doc.docstatus == 1 ? me.frm.save('Update') : me.frm.save();\n\t\t\t});\n\t\t} else {\n\t\t\tthis.dataurl = null;\n\t\t\tthis.fileobj = null;\n\t\t\tthis.set_input(null);\n\t\t\tthis.refresh();\n\t\t}\n\t},\n\tonclick: function() {\n\t\tvar me = this;\n\t\tif(this.doc) {\n\t\t\tvar doc = this.doc.parent && frappe.model.get_doc(this.doc.parenttype, this.doc.parent) || this.doc;\n\t\t\tif (doc.__islocal) {\n\t\t\t\tfrappe.msgprint(__(\"Please save the document before uploading.\"));\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tif(!this.dialog) {\n\t\t\tthis.dialog = new frappe.ui.Dialog({\n\t\t\t\ttitle: __(this.df.label || __(\"Upload\")),\n\t\t\t\tfields: [\n\t\t\t\t\t{fieldtype:\"HTML\", fieldname:\"upload_area\"},\n\t\t\t\t\t{fieldtype:\"HTML\", fieldname:\"or_attach\", options: __(\"Or\")},\n\t\t\t\t\t{fieldtype:\"Select\", fieldname:\"select\", label:__(\"Select from existing attachments\") },\n\t\t\t\t\t{fieldtype:\"Button\", fieldname:\"clear\",\n\t\t\t\t\t\tlabel:__(\"Clear Attachment\"), click: function() {\n\t\t\t\t\t\t\tme.clear_attachment();\n\t\t\t\t\t\t\tme.dialog.hide();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t]\n\t\t\t});\n\t\t}\n\n\t\tthis.dialog.show();\n\n\t\tthis.dialog.get_field(\"upload_area\").$wrapper.empty();\n\n\t\t// select from existing attachments\n\t\tvar attachments = this.frm && this.frm.attachments.get_attachments() || [];\n\t\tvar select = this.dialog.get_field(\"select\");\n\t\tif(attachments.length) {\n\t\t\tattachments = $.map(attachments, function(o) { return o.file_url; });\n\t\t\tselect.df.options = [\"\"].concat(attachments);\n\t\t\tselect.toggle(true);\n\t\t\tthis.dialog.get_field(\"or_attach\").toggle(true);\n\t\t\tselect.refresh();\n\t\t} else {\n\t\t\tthis.dialog.get_field(\"or_attach\").toggle(false);\n\t\t\tselect.toggle(false);\n\t\t}\n\t\tselect.$input.val(\"\");\n\n\t\t// show button if attachment exists\n\t\tthis.dialog.get_field('clear').$wrapper.toggle(this.get_model_value() ? true : false);\n\n\t\tthis.set_upload_options();\n\t\tfrappe.upload.make(this.upload_options);\n\t},\n\n\tset_upload_options: function() {\n\t\tvar me = this;\n\t\tthis.upload_options = {\n\t\t\tparent: this.dialog.get_field(\"upload_area\").$wrapper,\n\t\t\targs: {},\n\t\t\tallow_multiple: 0,\n\t\t\tmax_width: this.df.max_width,\n\t\t\tmax_height: this.df.max_height,\n\t\t\toptions: this.df.options,\n\t\t\tbtn: this.dialog.set_primary_action(__(\"Upload\")),\n\t\t\ton_no_attach: function() {\n\t\t\t\t// if no attachmemts,\n\t\t\t\t// check if something is selected\n\t\t\t\tvar selected = me.dialog.get_field(\"select\").get_value();\n\t\t\t\tif(selected) {\n\t\t\t\t\tme.parse_validate_and_set_in_model(selected);\n\t\t\t\t\tme.dialog.hide();\n\t\t\t\t\tme.frm.save();\n\t\t\t\t} else {\n\t\t\t\t\tfrappe.msgprint(__(\"Please attach a file or set a URL\"));\n\t\t\t\t}\n\t\t\t},\n\t\t\tcallback: function(attachment) {\n\t\t\t\tme.on_upload_complete(attachment);\n\t\t\t\tme.dialog.hide();\n\t\t\t},\n\t\t\tonerror: function() {\n\t\t\t\tme.dialog.hide();\n\t\t\t}\n\t\t};\n\n\t\tif (\"is_private\" in this.df) {\n\t\t\tthis.upload_options.is_private = this.df.is_private;\n\t\t}\n\n\t\tif(this.frm) {\n\t\t\tthis.upload_options.args = {\n\t\t\t\tfrom_form: 1,\n\t\t\t\tdoctype: this.frm.doctype,\n\t\t\t\tdocname: this.frm.docname\n\t\t\t};\n\t\t} else {\n\t\t\tthis.upload_options.on_attach = function(fileobj, dataurl) {\n\t\t\t\tme.dialog.hide();\n\t\t\t\tme.fileobj = fileobj;\n\t\t\t\tme.dataurl = dataurl;\n\t\t\t\tif(me.on_attach) {\n\t\t\t\t\tme.on_attach();\n\t\t\t\t}\n\t\t\t\tif(me.df.on_attach) {\n\t\t\t\t\tme.df.on_attach(fileobj, dataurl);\n\t\t\t\t}\n\t\t\t\tme.on_upload_complete();\n\t\t\t};\n\t\t}\n\t},\n\n\tset_input: function(value, dataurl) {\n\t\tthis.value = value;\n\t\tif(this.value) {\n\t\t\tthis.$input.toggle(false);\n\t\t\tif(this.value.indexOf(\",\")!==-1) {\n\t\t\t\tvar parts = this.value.split(\",\");\n\t\t\t\tvar filename = parts[0];\n\t\t\t\tdataurl = parts[1];\n\t\t\t}\n\t\t\tthis.$value.toggle(true).find(\".attached-file-link\")\n\t\t\t\t.html(filename || this.value)\n\t\t\t\t.attr(\"href\", dataurl || this.value);\n\t\t} else {\n\t\t\tthis.$input.toggle(true);\n\t\t\tthis.$value.toggle(false);\n\t\t}\n\t},\n\n\tget_value: function() {\n\t\tif ( this.fileobj ) {\n\t\t\tif ( this.fileobj.file_url ) {\n\t\t\t\treturn this.fileobj.file_url;\n\t\t\t} else if ( this.fileobj.filename ) {\n\t\t\t\tvar dataURI = this.fileobj.filename + ',' + this.dataurl;\n\n\t\t\t\treturn dataURI;\n\t\t\t}\n\t\t} else {\n\t\t\treturn this.value || null;\n\t\t}\n\t},\n\n\ton_upload_complete: function(attachment) {\n\t\tif(this.frm) {\n\t\t\tthis.parse_validate_and_set_in_model(attachment.file_url);\n\t\t\tthis.refresh();\n\t\t\tthis.frm.attachments.update_attachment(attachment);\n\t\t\tthis.frm.doc.docstatus == 1 ? this.frm.save('Update') : this.frm.save();\n\t\t} else {\n\t\t\tthis.value = this.get_value();\n\t\t\tthis.refresh();\n\t\t\tfrappe.hide_progress();\n\t\t}\n\t},\n});\n","frappe.ui.form.ControlAttachImage = frappe.ui.form.ControlAttach.extend({\n\tmake: function() {\n\t\tvar me = this;\n\t\tthis._super();\n\n\t\tthis.container = $('<div class=\"control-container\">').insertAfter($(this.wrapper));\n\t\t$(this.wrapper).detach();\n\t\tthis.container.attr('data-fieldtype', this.df.fieldtype).append(this.wrapper);\n\t\tif(this.df.align === 'center') {\n\t\t\tthis.container.addClass(\"flex-justify-center\");\n\t\t} else if (this.df.align === 'right') {\n\t\t\tthis.container.addClass(\"flex-justify-end\");\n\t\t}\n\n\t\tthis.img_wrapper = $('<div style=\"width: 100%; height: calc(100% - 40px); position: relative;\">\\\n\t\t\t<div class=\"missing-image attach-missing-image\"><i class=\"octicon octicon-device-camera\"></i></div></div>')\n\t\t\t.appendTo(this.wrapper);\n\n\t\tthis.img_container = $(`<div class='img-container'></div>`);\n\t\tthis.img = $(`<img class='img-responsive attach-image-display'>`)\n\t\t\t.appendTo(this.img_container);\n\n\t\tthis.img_overlay = $(`<div class='img-overlay'>\n\t\t\t\t<span class=\"overlay-text\">Change</span>\n\t\t\t</div>`).appendTo(this.img_container);\n\n\t\tthis.remove_image_link = $('<a style=\"font-size: 12px;color: #8D99A6;\">Remove</a>');\n\n\t\tthis.img_wrapper.append(this.img_container).append(this.remove_image_link);\n\t\t// this.img.toggle(false);\n\t\t// this.img_overlay.toggle(false);\n\t\tthis.img_container.toggle(false);\n\t\tthis.remove_image_link.toggle(false);\n\n\t\t// propagate click to Attach button\n\t\tthis.img_wrapper.find(\".missing-image\").on(\"click\", function() { me.$input.click(); });\n\t\tthis.img_container.on(\"click\", function() { me.$input.click(); });\n\t\tthis.remove_image_link.on(\"click\", function() { me.$value.find(\".close\").click(); });\n\n\t\tthis.set_image();\n\t},\n\trefresh_input: function() {\n\t\tthis._super();\n\t\t$(this.wrapper).find('.btn-attach').addClass('hidden');\n\t\tthis.set_image();\n\t\tif(this.get_status()==\"Read\") {\n\t\t\t$(this.disp_area).toggle(false);\n\t\t}\n\t},\n\tset_image: function() {\n\t\tif(this.get_value()) {\n\t\t\t$(this.img_wrapper).find(\".missing-image\").toggle(false);\n\t\t\t// this.img.attr(\"src\", this.dataurl ? this.dataurl : this.value).toggle(true);\n\t\t\t// this.img_overlay.toggle(true);\n\t\t\tthis.img.attr(\"src\", this.dataurl ? this.dataurl : this.value);\n\t\t\tthis.img_container.toggle(true);\n\t\t\tthis.remove_image_link.toggle(true);\n\t\t} else {\n\t\t\t$(this.img_wrapper).find(\".missing-image\").toggle(true);\n\t\t\t// this.img.toggle(false);\n\t\t\t// this.img_overlay.toggle(false);\n\t\t\tthis.img_container.toggle(false);\n\t\t\tthis.remove_image_link.toggle(false);\n\t\t}\n\t},\n\tset_upload_options() {\n\t\tthis._super();\n\t\tthis.upload_options.restrict_to_images = true;\n\t}\n});\n","export default class GridRowForm {\n\tconstructor(opts) {\n\t\t$.extend(this, opts);\n\t\tthis.wrapper = $('<div class=\"form-in-grid\"></div>')\n\t\t\t.appendTo(this.row.wrapper);\n\n\t}\n\trender() {\n\t\tvar me = this;\n\t\tthis.make_form();\n\t\tthis.form_area.empty();\n\n\t\tthis.layout = new frappe.ui.form.Layout({\n\t\t\tfields: this.row.docfields,\n\t\t\tbody: this.form_area,\n\t\t\tno_submit_on_enter: true,\n\t\t\tfrm: this.row.frm,\n\t\t});\n\t\tthis.layout.make();\n\n\t\tthis.fields = this.layout.fields;\n\t\tthis.fields_dict = this.layout.fields_dict;\n\n\t\tthis.layout.refresh(this.row.doc);\n\n\t\t// copy get_query to fields\n\t\tfor(var fieldname in (this.row.grid.fieldinfo || {})) {\n\t\t\tvar fi = this.row.grid.fieldinfo[fieldname];\n\t\t\t$.extend(me.fields_dict[fieldname], fi);\n\t\t}\n\n\t\tthis.toggle_add_delete_button_display(this.wrapper);\n\n\t\tthis.row.grid.open_grid_row = this;\n\n\t\tthis.set_focus();\n\t}\n\tmake_form() {\n\t\tif(!this.form_area) {\n\t\t\tlet template = `<div class=\"grid-form-heading\">\n\t\t\t\t<div class=\"toolbar grid-header-toolbar\">\n\t\t\t\t\t<span class=\"panel-title\">\n\t\t\t\t\t\t${ __(\"Editing Row\") } #<span class=\"grid-form-row-index\"></span></span>\n\t\t\t\t\t<button class=\"btn btn-default btn-xs pull-right\" style=\"margin-left: 7px;\">\n\t\t\t\t\t\t<i class=\"octicon octicon-check visible-xs\" style=\"padding-bottom: 2px;\"></i>\n\t\t\t\t\t\t<span class=\"hidden-xs octicon octicon-triangle-up\"></span></button>\n\t\t\t\t\t<button class=\"btn btn-default btn-xs pull-right grid-insert-row\"\n\t\t\t\t\t\tstyle=\"margin-left: 7px;\">\n\t\t\t\t\t\t${ __(\"Insert Above\") }</button>\n\t\t\t\t\t<button class=\"btn btn-default btn-xs pull-right grid-insert-row-below hidden-xs\"\n\t\t\t\t\t\tstyle=\"margin-left: 7px;\">\n\t\t\t\t\t\t${ __(\"Insert Below\") }</button>\n\t\t\t\t\t<button class=\"btn btn-danger btn-xs pull-right grid-delete-row\">\n\t\t\t\t\t\t<i class=\"octicon octicon-trashcan\"\n\t\t\t\t\t\t\tstyle=\"padding-bottom: 2px; margin-top: 1px;\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"grid-form-body\">\n\t\t\t\t<div class=\"form-area\"></div>\n\t\t\t\t<div class=\"grid-footer-toolbar clearfix hidden-xs\">\n\t\t\t\t\t<span class=\"text-muted\">\n\t\t\t\t\t\t<i class=\"octicon octicon-keyboard\"></i> &ndash;\n\t\t\t\t\t\t<kbd>${ __(\"Ctrl + Up\") }</kbd>, <kbd>${ __(\"Ctrl + Down\") }</kbd>, <kbd>${ __(\"ESC\") }</kbd>\n\t\t\t\t\t</span>\n\t\t\t\t\t<button class=\"btn btn-default btn-xs pull-right grid-append-row\"\n\t\t\t\t\t\tstyle=\"margin-left: 7px;\">\n\t\t\t\t\t\t${ __(\"Insert Below\") }</button>\n\t\t\t\t</div>\n\t\t\t</div>`;\n\n\t\t\t$(template).appendTo(this.wrapper);\n\t\t\tthis.form_area = this.wrapper.find(\".form-area\");\n\t\t\tthis.row.set_row_index();\n\t\t\tthis.set_form_events();\n\t\t}\n\t}\n\tset_form_events() {\n\t\tvar me = this;\n\t\tthis.wrapper.find(\".grid-delete-row\")\n\t\t\t.on('click', function() {\n\t\t\t\tme.row.remove(); return false;\n\t\t\t});\n\t\tthis.wrapper.find(\".grid-insert-row\")\n\t\t\t.on('click', function() {\n\t\t\t\tme.row.insert(true); return false;\n\t\t\t});\n\t\tthis.wrapper.find(\".grid-insert-row-below\")\n\t\t\t.on('click', function() {\n\t\t\t\tme.row.insert(true, true); return false;\n\t\t\t});\n\t\tthis.wrapper.find(\".grid-append-row\")\n\t\t\t.on('click', function() {\n\t\t\t\tme.row.toggle_view(false);\n\t\t\t\tme.row.grid.add_new_row(me.row.doc.idx+1, null, true);\n\t\t\t\treturn false;\n\t\t\t});\n\t\tthis.wrapper.find(\".grid-form-heading, .grid-footer-toolbar\").on(\"click\", function() {\n\t\t\tme.row.toggle_view();\n\t\t\treturn false;\n\t\t});\n\t}\n\ttoggle_add_delete_button_display($parent) {\n\t\t$parent.find(\".grid-header-toolbar .btn, .grid-footer-toolbar .btn\")\n\t\t\t.toggle(this.row.grid.is_editable());\n\t}\n\trefresh_field(fieldname) {\n\t\tif(this.fields_dict[fieldname]) {\n\t\t\tthis.fields_dict[fieldname].refresh();\n\t\t\tthis.layout && this.layout.refresh_dependency();\n\t\t}\n\t}\n\tset_focus() {\n\t\t// wait for animation and then focus on the first row\n\t\tvar me = this;\n\t\tsetTimeout(function() {\n\t\t\tif(me.row.frm && me.row.frm.doc.docstatus===0 || !me.row.frm) {\n\t\t\t\tvar first = me.form_area.find(\"input:first\");\n\t\t\t\tif(first.length && !in_list([\"Date\", \"Datetime\", \"Time\"], first.attr(\"data-fieldtype\"))) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tfirst.get(0).focus();\n\t\t\t\t\t} catch(e) {\n\t\t\t\t\t\t//\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}, 500);\n\t}\n};\n","import GridRowForm from './grid_row_form';\n\nexport default class GridRow {\n\tconstructor(opts) {\n\t\tthis.on_grid_fields_dict = {};\n\t\tthis.on_grid_fields = [];\n\t\tthis.columns = {};\n\t\tthis.columns_list = [];\n\t\t$.extend(this, opts);\n\t\tthis.row_check_html = '<input type=\"checkbox\" class=\"grid-row-check pull-left\">';\n\t\tthis.make();\n\t}\n\tmake() {\n\t\tvar me = this;\n\n\t\tthis.wrapper = $('<div class=\"grid-row\"></div>').appendTo(this.parent).data(\"grid_row\", this);\n\t\tthis.row = $('<div class=\"data-row row\"></div>').appendTo(this.wrapper)\n\t\t\t.on(\"click\", function(e) {\n\t\t\t\tif($(e.target).hasClass('grid-row-check') || $(e.target).hasClass('row-index') || $(e.target).parent().hasClass('row-index')) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif(me.grid.allow_on_grid_editing() && me.grid.is_editable()) {\n\t\t\t\t\t// pass\n\t\t\t\t} else {\n\t\t\t\t\tme.toggle_view();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t// no checkboxes if too small\n\t\t// if(this.is_too_small()) {\n\t\t// \tthis.row_check_html = '';\n\t\t// }\n\n\t\tif(this.grid.template && !this.grid.meta.editable_grid) {\n\t\t\tthis.render_template();\n\t\t} else {\n\t\t\tthis.render_row();\n\t\t}\n\t\tif(this.doc) {\n\t\t\tthis.set_data();\n\t\t}\n\t}\n\tset_data() {\n\t\tthis.wrapper.data({\n\t\t\t\"doc\": this.doc\n\t\t})\n\t}\n\tset_row_index() {\n\t\tif(this.doc) {\n\t\t\tthis.wrapper\n\t\t\t\t.attr('data-name', this.doc.name)\n\t\t\t\t.attr(\"data-idx\", this.doc.idx)\n\t\t\t\t.find(\".row-index span, .grid-form-row-index\").html(this.doc.idx)\n\n\t\t}\n\t}\n\tselect(checked) {\n\t\tthis.doc.__checked = checked ? 1 : 0;\n\t}\n\trefresh_check() {\n\t\tthis.wrapper.find('.grid-row-check').prop('checked', this.doc ? !!this.doc.__checked : false);\n\t\tthis.grid.refresh_remove_rows_button();\n\t}\n\tremove() {\n\t\tvar me = this;\n\t\tif(this.grid.is_editable()) {\n\t\t\tif(this.frm) {\n\t\t\t\tif(this.get_open_form()) {\n\t\t\t\t\tthis.hide_form();\n\t\t\t\t}\n\n\t\t\t\tfrappe.run_serially([\n\t\t\t\t\t() => {\n\t\t\t\t\t\treturn this.frm.script_manager.trigger(\"before_\" + this.grid.df.fieldname + \"_remove\",\n\t\t\t\t\t\t\tthis.doc.doctype, this.doc.name);\n\t\t\t\t\t},\n\t\t\t\t\t() => {\n\t\t\t\t\t\tfrappe.model.clear_doc(this.doc.doctype, this.doc.name);\n\n\t\t\t\t\t\tthis.frm.script_manager.trigger(this.grid.df.fieldname + \"_remove\",\n\t\t\t\t\t\t\tthis.doc.doctype, this.doc.name);\n\t\t\t\t\t\tthis.frm.dirty();\n\t\t\t\t\t\tthis.grid.refresh();\n\t\t\t\t\t},\n\t\t\t\t]).catch((e) => {\n\t\t\t\t\t// aborted\n\t\t\t\t\tconsole.trace(e); // eslint-disable-line\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tlet data = null;\n\t\t\t\tif (this.grid.df.get_data) {\n\t\t\t\t\tdata = this.grid.df.get_data();\n\t\t\t\t} else {\n\t\t\t\t\tdata = this.grid.df.data;\n\t\t\t\t}\n\n\t\t\t\tconst index = data.findIndex(d => d.name === me.doc.name);\n\n\t\t\t\tif (index > -1) {\n\t\t\t\t\t// mutate array directly,\n\t\t\t\t\t// else the object reference will be lost\n\t\t\t\t\tdata.splice(index, 1);\n\t\t\t\t}\n\t\t\t\t// remap idxs\n\t\t\t\tdata.forEach(function(d, i) {\n\t\t\t\t\td.idx = i+1;\n\t\t\t\t});\n\n\t\t\t\tthis.grid.refresh();\n\t\t\t}\n\t\t}\n\t}\n\tinsert(show, below) {\n\t\tvar idx = this.doc.idx;\n\t\tif(below) idx ++;\n\t\tthis.toggle_view(false);\n\t\tthis.grid.add_new_row(idx, null, show);\n\t}\n\trefresh() {\n\t\tif(this.frm && this.doc) {\n\t\t\tthis.doc = locals[this.doc.doctype][this.doc.name];\n\t\t}\n\n\t\tif(this.grid.template && !this.grid.meta.editable_grid) {\n\t\t\tthis.render_template();\n\t\t} else {\n\t\t\tthis.render_row(true);\n\t\t}\n\n\t\t// refersh form fields\n\t\tif(this.grid_form) {\n\t\t\tthis.grid_form.layout && this.grid_form.layout.refresh(this.doc);\n\t\t}\n\t}\n\trender_template() {\n\t\tthis.set_row_index();\n\n\t\tif(this.row_display) {\n\t\t\tthis.row_display.remove();\n\t\t}\n\n\t\t// row index\n\t\tif(this.doc) {\n\t\t\tif(!this.row_index) {\n\t\t\t\tthis.row_index = $('<div style=\"float: left; margin-left: 15px; margin-top: 8px; \\\n\t\t\t\t\tmargin-right: -20px;\">'+this.row_check_html+' <span></span></div>').appendTo(this.row);\n\t\t\t}\n\t\t\tthis.row_index.find('span').html(this.doc.idx);\n\t\t}\n\n\t\tthis.row_display = $('<div class=\"row-data sortable-handle template-row\">'+\n\t\t\t+'</div>').appendTo(this.row)\n\t\t\t.html(frappe.render(this.grid.template, {\n\t\t\t\tdoc: this.doc ? frappe.get_format_helper(this.doc) : null,\n\t\t\t\tfrm: this.frm,\n\t\t\t\trow: this\n\t\t\t}));\n\t}\n\trender_row(refresh) {\n\t\tvar me = this;\n\t\tthis.set_row_index();\n\n\t\t// index (1, 2, 3 etc)\n\t\tif(!this.row_index) {\n\t\t\tvar txt = (this.doc ? this.doc.idx : \"&nbsp;\");\n\t\t\tthis.row_index = $(\n\t\t\t\t`<div class=\"row-index sortable-handle col col-xs-1\">\n\t\t\t\t\t${this.row_check_html}\n\t\t\t\t<span>${txt}</span></div>`)\n\t\t\t\t.appendTo(this.row)\n\t\t\t\t.on('click', function(e) {\n\t\t\t\t\tif(!$(e.target).hasClass('grid-row-check')) {\n\t\t\t\t\t\tme.toggle_view();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t} else {\n\t\t\tthis.row_index.find('span').html(txt);\n\t\t}\n\n\t\tthis.setup_columns();\n\t\tthis.add_open_form_button();\n\t\tthis.refresh_check();\n\n\t\tif(this.frm && this.doc) {\n\t\t\t$(this.frm.wrapper).trigger(\"grid-row-render\", [this]);\n\t\t}\n\t}\n\n\tmake_editable() {\n\t\tthis.row.toggleClass('editable-row', this.grid.is_editable());\n\t}\n\n\tis_too_small() {\n\t\treturn this.row.width() ? this.row.width() < 300 : false;\n\t}\n\n\tadd_open_form_button() {\n\t\tvar me = this;\n\t\tif(this.doc && !this.grid.df.in_place_edit) {\n\t\t\t// remove row\n\t\t\tif(!this.open_form_button) {\n\t\t\t\tthis.open_form_button = $('<a class=\"close btn-open-row\">\\\n\t\t\t\t\t<span class=\"octicon octicon-triangle-down\"></span></a>')\n\t\t\t\t\t.appendTo($('<div class=\"col col-xs-1 sortable-handle\"></div>').appendTo(this.row))\n\t\t\t\t\t.on('click', function() { me.toggle_view(); return false; });\n\n\t\t\t\tif(this.is_too_small()) {\n\t\t\t\t\t// narrow\n\t\t\t\t\tthis.open_form_button.css({'margin-right': '-2px'});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tsetup_columns() {\n\t\tthis.focus_set = false;\n\t\tthis.grid.setup_visible_columns();\n\n\t\tfor(var ci in this.grid.visible_columns) {\n\t\t\tvar df = this.grid.visible_columns[ci][0],\n\t\t\t\tcolsize = this.grid.visible_columns[ci][1],\n\t\t\t\ttxt = this.doc ?\n\t\t\t\t\tfrappe.format(this.doc[df.fieldname], df, null, this.doc) :\n\t\t\t\t\t__(df.label);\n\n\t\t\tif(this.doc && df.fieldtype === \"Select\") {\n\t\t\t\ttxt = __(txt);\n\t\t\t}\n\n\t\t\tif(!this.columns[df.fieldname]) {\n\t\t\t\tvar column = this.make_column(df, colsize, txt, ci);\n\t\t\t} else {\n\t\t\t\tvar column = this.columns[df.fieldname];\n\t\t\t\tthis.refresh_field(df.fieldname, txt);\n\t\t\t}\n\n\t\t\t// background color for cellz\n\t\t\tif(this.doc) {\n\t\t\t\tif(df.reqd && !txt) {\n\t\t\t\t\tcolumn.addClass('error');\n\t\t\t\t}\n\t\t\t\tif (df.reqd || df.bold) {\n\t\t\t\t\tcolumn.addClass('bold');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tmake_column(df, colsize, txt, ci) {\n\t\tlet me = this;\n\t\tvar add_class = (([\"Text\", \"Small Text\"].indexOf(df.fieldtype)!==-1) ?\n\t\t\t\" grid-overflow-no-ellipsis\" : \"\");\n\t\tadd_class += ([\"Int\", \"Currency\", \"Float\", \"Percent\"].indexOf(df.fieldtype)!==-1) ?\n\t\t\t\" text-right\": \"\";\n\t\tadd_class += ([\"Check\"].indexOf(df.fieldtype)!==-1) ?\n\t\t\t\" text-center\": \"\";\n\n\t\tvar $col = $('<div class=\"col grid-static-col col-xs-'+colsize+' '+add_class+'\"></div>')\n\t\t\t.attr(\"data-fieldname\", df.fieldname)\n\t\t\t.attr(\"data-fieldtype\", df.fieldtype)\n\t\t\t.data(\"df\", df)\n\t\t\t.appendTo(this.row)\n\t\t\t.on('click', function() {\n\t\t\t\tif(frappe.ui.form.editable_row===me) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar out = me.toggle_editable_row();\n\t\t\t\tvar col = this;\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t$(col).find('input[type=\"Text\"]:first').focus();\n\t\t\t\t}, 500);\n\t\t\t\treturn out;\n\t\t\t});\n\n\t\t$col.field_area = $('<div class=\"field-area\"></div>').appendTo($col).toggle(false);\n\t\t$col.static_area = $('<div class=\"static-area ellipsis\"></div>').appendTo($col).html(txt);\n\t\t$col.df = df;\n\t\t$col.column_index = ci;\n\n\t\tthis.columns[df.fieldname] = $col;\n\t\tthis.columns_list.push($col);\n\n\t\treturn $col;\n\t}\n\n\tactivate() {\n\t\tthis.toggle_editable_row(true);\n\t\treturn this;\n\t}\n\n\ttoggle_editable_row(show) {\n\t\tvar me = this;\n\t\t// show static for field based on\n\t\t// whether grid is editable\n\t\tif(this.grid.allow_on_grid_editing() && this.grid.is_editable() && this.doc && show !== false) {\n\n\t\t\t// disable other editable row\n\t\t\tif(frappe.ui.form.editable_row\n\t\t\t\t&& frappe.ui.form.editable_row !== this) {\n\t\t\t\tfrappe.ui.form.editable_row.toggle_editable_row(false);\n\t\t\t}\n\n\t\t\tthis.row.toggleClass('editable-row', true);\n\n\t\t\t// setup controls\n\t\t\tthis.columns_list.forEach(function(column) {\n\t\t\t\tme.make_control(column);\n\t\t\t\tcolumn.static_area.toggle(false);\n\t\t\t\tcolumn.field_area.toggle(true);\n\t\t\t});\n\n\t\t\tfrappe.ui.form.editable_row = this;\n\t\t\treturn false;\n\t\t} else {\n\t\t\tthis.row.toggleClass('editable-row', false);\n\n\t\t\tthis.columns_list.forEach((column, index) => {\n\n\t\t\t\tif(!this.frm) {\n\t\t\t\t\tlet df = this.grid.visible_columns[index][0]\n\n\t\t\t\t\tlet txt = this.doc ?\n\t\t\t\t\t\tfrappe.format(this.doc[df.fieldname], df, null, this.doc) :\n\t\t\t\t\t\t__(df.label);\n\n\t\t\t\t\tthis.refresh_field(df.fieldname, txt)\n\t\t\t\t}\n\n\t\t\t\tif (!column.df.hidden) {\n\t\t\t\t\tcolumn.static_area.toggle(true);\n\t\t\t\t}\n\n\t\t\t\tcolumn.field_area && column.field_area.toggle(false);\n\t\t\t});\n\t\t\tfrappe.ui.form.editable_row = null;\n\t\t}\n\t}\n\n\tmake_control(column) {\n\t\tif(column.field) return;\n\n\t\tvar me = this,\n\t\t\tparent = column.field_area,\n\t\t\tdf = column.df;\n\n\t\t// no text editor in grid\n\t\tif (df.fieldtype=='Text Editor') {\n\t\t\tdf.fieldtype = 'Text';\n\t\t}\n\n\t\tvar field = frappe.ui.form.make_control({\n\t\t\tdf: df,\n\t\t\tparent: parent,\n\t\t\tonly_input: true,\n\t\t\twith_link_btn: true,\n\t\t\tdoc: this.doc,\n\t\t\tdoctype: this.doc.doctype,\n\t\t\tdocname: this.doc.name,\n\t\t\tfrm: this.grid.frm,\n\t\t\tgrid: this.grid,\n\t\t\tgrid_row: this,\n\t\t\tvalue: this.doc[df.fieldname]\n\t\t});\n\n\t\t// sync get_query\n\t\tfield.get_query = this.grid.get_field(df.fieldname).get_query;\n\t\tfield.df.onchange = function() {\n\t\t\tme.grid.grid_rows[this.doc.idx-1].refresh_field(this.df.fieldname);\n\t\t};\n\t\tfield.refresh();\n\t\tif(field.$input) {\n\t\t\tfield.$input\n\t\t\t\t.addClass('input-sm')\n\t\t\t\t.attr('data-col-idx', column.column_index)\n\t\t\t\t.attr('placeholder', __(df.label));\n\t\t\t// flag list input\n\t\t\tif (this.columns_list && this.columns_list.slice(-1)[0]===column) {\n\t\t\t\tfield.$input.attr('data-last-input', 1);\n\t\t\t}\n\t\t}\n\n\t\tthis.set_arrow_keys(field);\n\t\tcolumn.field = field;\n\t\tthis.on_grid_fields_dict[df.fieldname] = field;\n\t\tthis.on_grid_fields.push(field);\n\n\t}\n\n\tset_arrow_keys(field) {\n\t\tvar me = this;\n\t\tif(field.$input) {\n\t\t\tfield.$input.on('keydown', function(e) {\n\t\t\t\tvar { TAB, UP_ARROW, DOWN_ARROW } = frappe.ui.keyCode;\n\t\t\t\tif(!in_list([TAB, UP_ARROW, DOWN_ARROW], e.which)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar values = me.grid.get_data();\n\t\t\t\tvar fieldname = $(this).attr('data-fieldname');\n\t\t\t\tvar fieldtype = $(this).attr('data-fieldtype');\n\n\t\t\t\tvar move_up_down = function(base) {\n\t\t\t\t\tif(in_list(['Text', 'Small Text'], fieldtype)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tbase.toggle_editable_row();\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tvar input = base.columns[fieldname].field.$input;\n\t\t\t\t\t\tif(input) {\n\t\t\t\t\t\t\tinput.focus();\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 400)\n\n\t\t\t\t}\n\n\t\t\t\t// TAB\n\t\t\t\tif(e.which==TAB && !e.shiftKey) {\n\t\t\t\t\t// last column\n\t\t\t\t\tif($(this).attr('data-last-input') ||\n\t\t\t\t\t\tme.grid.wrapper.find('.grid-row :input:enabled:last').get(0)===this) {\n\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\tif(me.doc.idx === values.length) {\n\t\t\t\t\t\t\t\t// last row\n\t\t\t\t\t\t\t\tme.grid.add_new_row(null, null, true);\n\t\t\t\t\t\t\t\tme.grid.grid_rows[me.grid.grid_rows.length - 1].toggle_editable_row();\n\t\t\t\t\t\t\t\tme.grid.set_focus_on_row();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tme.grid.grid_rows[me.doc.idx].toggle_editable_row();\n\t\t\t\t\t\t\t\tme.grid.set_focus_on_row(me.doc.idx+1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, 500);\n\t\t\t\t\t}\n\t\t\t\t} else if(e.which==UP_ARROW) {\n\t\t\t\t\tif(me.doc.idx > 1) {\n\t\t\t\t\t\tvar prev = me.grid.grid_rows[me.doc.idx-2];\n\t\t\t\t\t\tmove_up_down(prev);\n\t\t\t\t\t}\n\t\t\t\t} else if(e.which==DOWN_ARROW) {\n\t\t\t\t\tif(me.doc.idx < values.length) {\n\t\t\t\t\t\tvar next = me.grid.grid_rows[me.doc.idx];\n\t\t\t\t\t\tmove_up_down(next);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t});\n\t\t}\n\t}\n\n\tget_open_form() {\n\t\treturn frappe.ui.form.get_open_grid_form();\n\t}\n\n\ttoggle_view(show, callback) {\n\t\tif(!this.doc) {\n\t\t\treturn this;\n\t\t}\n\n\t\tif(this.frm) {\n\t\t\t// reload doc\n\t\t\tthis.doc = locals[this.doc.doctype][this.doc.name];\n\t\t}\n\n\t\t// hide other\n\t\tvar open_row = this.get_open_form();\n\n\t\tif (show===undefined) show = !!!open_row;\n\n\t\t// call blur\n\t\tdocument.activeElement && document.activeElement.blur();\n\n\t\tif(show && open_row) {\n\t\t\tif(open_row==this) {\n\t\t\t\t// already open, do nothing\n\t\t\t\tcallback && callback();\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\t// close other views\n\t\t\t\topen_row.toggle_view(false);\n\t\t\t}\n\t\t}\n\n\t\tif(show) {\n\t\t\tthis.show_form();\n\t\t} else {\n\t\t\tthis.hide_form();\n\t\t}\n\t\tcallback && callback();\n\n\t\treturn this;\n\t}\n\tshow_form() {\n\t\tif(!this.grid_form) {\n\t\t\tthis.grid_form = new GridRowForm({\n\t\t\t\trow: this\n\t\t\t});\n\t\t}\n\t\tthis.grid_form.render();\n\t\tthis.row.toggle(false);\n\t\t// this.form_panel.toggle(true);\n\t\tfrappe.dom.freeze(\"\", \"dark\");\n\t\tif(cur_frm) cur_frm.cur_grid = this;\n\t\tthis.wrapper.addClass(\"grid-row-open\");\n\t\tif(!frappe.dom.is_element_in_viewport(this.wrapper)) {\n\t\t\tfrappe.utils.scroll_to(this.wrapper, true, 15);\n\t\t}\n\n\t\tif(this.frm) {\n\t\t\tthis.frm.script_manager.trigger(this.doc.parentfield + \"_on_form_rendered\");\n\t\t\tthis.frm.script_manager.trigger(\"form_render\", this.doc.doctype, this.doc.name);\n\t\t}\n\t}\n\thide_form() {\n\t\tfrappe.dom.unfreeze();\n\t\tthis.row.toggle(true);\n\t\tthis.refresh();\n\t\tif(cur_frm) cur_frm.cur_grid = null;\n\t\tthis.wrapper.removeClass(\"grid-row-open\");\n\t}\n\topen_prev() {\n\t\tif(this.grid.grid_rows[this.doc.idx-2]) {\n\t\t\tthis.grid.grid_rows[this.doc.idx-2].toggle_view(true);\n\t\t}\n\t}\n\topen_next() {\n\t\tif(this.grid.grid_rows[this.doc.idx]) {\n\t\t\tthis.grid.grid_rows[this.doc.idx].toggle_view(true);\n\t\t} else {\n\t\t\tthis.grid.add_new_row(null, null, true);\n\t\t}\n\t}\n\trefresh_field(fieldname, txt) {\n\t\tvar df = this.grid.get_docfield(fieldname) || undefined;\n\n\t\t// format values if no frm\n\t\tif(!df) {\n\t\t\tdf = this.grid.visible_columns.find((col) => {\n\t\t\t\treturn col[0].fieldname === fieldname;\n\t\t\t});\n\t\t\tif(df && this.doc) {\n\t\t\t\tvar txt = frappe.format(this.doc[fieldname], df[0],\n\t\t\t\t\tnull, this.doc);\n\t\t\t}\n\t\t}\n\n\t\tif(txt===undefined && this.frm) {\n\t\t\tvar txt = frappe.format(this.doc[fieldname], df,\n\t\t\t\tnull, this.frm.doc);\n\t\t}\n\n\t\t// reset static value\n\t\tvar column = this.columns[fieldname];\n\t\tif(column) {\n\t\t\tcolumn.static_area.html(txt || \"\");\n\t\t\tif(df && df.reqd) {\n\t\t\t\tcolumn.toggleClass('error', !!(txt===null || txt===''));\n\t\t\t}\n\t\t}\n\n\t\t// reset field value\n\t\tvar field = this.on_grid_fields_dict[fieldname];\n\t\tif(field) {\n\t\t\tfield.docname = this.doc.name;\n\t\t\tfield.refresh();\n\t\t}\n\n\t\t// in form\n\t\tif(this.grid_form) {\n\t\t\tthis.grid_form.refresh_field(fieldname);\n\t\t}\n\t}\n\tget_field(fieldname) {\n\t\tlet field = this.on_grid_fields_dict[fieldname];\n\t\tif (field) {\n\t\t\treturn field;\n\t\t} else if(this.grid_form) {\n\t\t\treturn this.grid_form.fields_dict[fieldname];\n\t\t} else {\n\t\t\tthrow `fieldname ${fieldname} not found`;\n\t\t}\n\t}\n\n\tget_visible_columns(blacklist) {\n\t\tvar me = this;\n\t\tvar visible_columns = $.map(this.docfields, function(df) {\n\t\t\tvar visible = !df.hidden && df.in_list_view && me.grid.frm.get_perm(df.permlevel, \"read\")\n\t\t\t\t&& !in_list(frappe.model.layout_fields, df.fieldtype) && !in_list(blacklist, df.fieldname);\n\n\t\t\treturn visible ? df : null;\n\t\t});\n\t\treturn visible_columns;\n\t}\n\tset_field_property(fieldname, property, value) {\n\t\t// set a field property for open form / grid form\n\t\tvar me = this;\n\n\t\tvar set_property = function(field) {\n\t\t\tif(!field) return;\n\t\t\tfield.df[property] = value;\n\t\t\tfield.refresh();\n\t\t}\n\n\t\t// set property in grid form\n\t\tif(this.grid_form) {\n\t\t\tset_property(this.grid_form.fields_dict[fieldname]);\n\t\t\tthis.grid_form.layout && this.grid_form.layout.refresh_sections();\n\t\t}\n\n\t\t// set property in on grid fields\n\t\tset_property(this.on_grid_fields_dict[fieldname]);\n\t}\n\ttoggle_reqd(fieldname, reqd) {\n\t\tthis.set_field_property(fieldname, 'reqd', reqd ? 1 : 0);\n\t}\n\ttoggle_display(fieldname, show) {\n\t\tthis.set_field_property(fieldname, 'hidden', show ? 0 : 1);\n\t}\n\ttoggle_editable(fieldname, editable) {\n\t\tthis.set_field_property(fieldname, 'read_only', editable ? 0 : 1);\n\t}\n};","// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors\n// MIT License. See license.txt\n\nimport GridRow from \"./grid_row\";\n\nfrappe.ui.form.get_open_grid_form = function() {\n\treturn $(\".grid-row-open\").data(\"grid_row\");\n}\n\nfrappe.ui.form.close_grid_form = function() {\n\tvar open_form = frappe.ui.form.get_open_grid_form();\n\topen_form && open_form.hide_form();\n\n\t// hide editable row too\n\tif(frappe.ui.form.editable_row) {\n\t\tfrappe.ui.form.editable_row.toggle_editable_row(false);\n\t}\n}\n\n\nexport default class Grid {\n\tconstructor(opts) {\n\t\t$.extend(this, opts);\n\t\tthis.fieldinfo = {};\n\t\tthis.doctype = this.df.options;\n\n\t\tif(this.doctype) {\n\t\t\tthis.meta = frappe.get_meta(this.doctype);\n\t\t}\n\t\tthis.fields_map = {};\n\t\tthis.template = null;\n\t\tthis.multiple_set = false;\n\t\tif(this.frm && this.frm.meta.__form_grid_templates\n\t\t\t&& this.frm.meta.__form_grid_templates[this.df.fieldname]) {\n\t\t\tthis.template = this.frm.meta.__form_grid_templates[this.df.fieldname];\n\t\t}\n\n\t\tthis.is_grid = true;\n\t}\n\n\tallow_on_grid_editing() {\n\t\tif(frappe.utils.is_xs()) {\n\t\t\treturn false;\n\t\t} else if(this.meta && this.meta.editable_grid || !this.meta) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\tmake() {\n\t\tvar me = this;\n\n\t\tlet template = `<div>\n\t\t\t<div class=\"form-grid\">\n\t\t\t\t<div class=\"grid-heading-row\"></div>\n\t\t\t\t<div class=\"grid-body\">\n\t\t\t\t\t<div class=\"rows\"></div>\n\t\t\t\t\t<div class=\"grid-empty text-center hide\">${__(\"No Data\")}</div>\n\t\t\t\t\t<div class=\"small form-clickable-section grid-footer\">\n\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t<div class=\"col-sm-6 grid-buttons\">\n\t\t\t\t\t\t\t\t<button type=\"reset\"\n\t\t\t\t\t\t\t\t\tclass=\"btn btn-xs btn-danger grid-remove-rows hide\"\n\t\t\t\t\t\t\t\t\tstyle=\"margin-right: 4px;\">\n\t\t\t\t\t\t\t\t\t${__(\"Delete\")}</button>\n\t\t\t\t\t\t\t\t<button type=\"reset\"\n\t\t\t\t\t\t\t\t\tclass=\"grid-add-multiple-rows btn btn-xs btn-default hide\"\n\t\t\t\t\t\t\t\t\tstyle=\"margin-right: 4px;\">\n\t\t\t\t\t\t\t\t\t${__(\"Add Multiple\")}</a>\n\t\t\t\t\t\t\t\t<!-- hack to allow firefox include this in tabs -->\n\t\t\t\t\t\t\t\t<button type=\"reset\" class=\"btn btn-xs btn-default grid-add-row\">\n\t\t\t\t\t\t\t\t\t${__(\"Add Row\")}</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"col-sm-6 text-right\">\n\t\t\t\t\t\t\t\t<a href=\"#\" class=\"grid-download btn btn-xs btn-default hide\"\n\t\t\t\t\t\t\t\t\tstyle=\"margin-left: 10px;\">\n\t\t\t\t\t\t\t\t\t${__(\"Download\")}</a>\n\t\t\t\t\t\t\t\t<a href=\"#\" class=\"grid-upload btn btn-xs btn-default hide\"\n\t\t\t\t\t\t\t\t\tstyle=\"margin-left: 10px;\">\n\t\t\t\t\t\t\t\t\t${__(\"Upload\")}</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>`;\n\n\t\tthis.wrapper = $(template)\n\t\t\t.appendTo(this.parent)\n\t\t\t.attr(\"data-fieldname\", this.df.fieldname);\n\n\t\tthis.form_grid = this.wrapper.find('.form-grid');\n\n\t\tthis.wrapper.find(\".grid-add-row\").click(function() {\n\t\t\tme.add_new_row(null, null, true);\n\t\t\tme.set_focus_on_row();\n\n\t\t\treturn false;\n\t\t});\n\n\t\tthis.custom_buttons = {};\n\t\tthis.grid_buttons = this.wrapper.find('.grid-buttons');\n\t\tthis.remove_rows_button = this.grid_buttons.find('.grid-remove-rows')\n\n\t\tthis.setup_allow_bulk_edit();\n\t\tthis.setup_check();\n\t\tif(this.df.on_setup) {\n\t\t\tthis.df.on_setup(this);\n\t\t}\n\t}\n\n\tsetup_check() {\n\t\tvar me = this;\n\n\t\tthis.wrapper.on('click', '.grid-row-check', function(e) {\n\t\t\tvar $check = $(this);\n\t\t\tif($check.parents('.grid-heading-row:first').length!==0) {\n\t\t\t\t// select all?\n\t\t\t\tvar checked = $check.prop('checked');\n\t\t\t\t$check.parents('.form-grid:first')\n\t\t\t\t\t.find('.grid-row-check').prop('checked', checked);\n\n\t\t\t\t// set all\n\t\t\t\t(me.grid_rows || []).forEach(function(row) { row.doc.__checked = checked ? 1 : 0; });\n\t\t\t} else {\n\t\t\t\tvar docname = $check.parents('.grid-row:first').attr('data-name');\n\t\t\t\tme.grid_rows_by_docname[docname].select($check.prop('checked'));\n\t\t\t}\n\t\t\tme.refresh_remove_rows_button();\n\t\t});\n\n\t\tthis.remove_rows_button.on('click', function() {\n\t\t\tvar dirty = false;\n\n\t\t\tlet tasks = [];\n\t\t\tme.deleted_docs = [];\n\n\t\t\tme.get_selected().forEach((docname) => {\n\t\t\t\ttasks.push(() => {\n\t\t\t\t\tif (!me.frm) {\n\t\t\t\t\t\tme.deleted_docs.push(docname);\n\t\t\t\t\t}\n\t\t\t\t\tme.grid_rows_by_docname[docname].remove();\n\t\t\t\t\tdirty = true;\n\t\t\t\t});\n\t\t\t\ttasks.push(() => frappe.timeout(0.1));\n\t\t\t});\n\n\t\t\ttasks.push(() => {\n\t\t\t\tif (dirty) me.refresh();\n\t\t\t});\n\n\t\t\tfrappe.run_serially(tasks);\n\t\t});\n\t}\n\tselect_row(name) {\n\t\tthis.grid_rows_by_docname[name].select();\n\t}\n\tremove_all() {\n\t\tthis.grid_rows.forEach(row => {\n\t\t\trow.remove();\n\t\t});\n\t}\n\trefresh_remove_rows_button() {\n\t\tthis.remove_rows_button.toggleClass('hide',\n\t\t\tthis.wrapper.find('.grid-body .grid-row-check:checked:first').length ? false : true);\n\t}\n\tget_selected() {\n\t\treturn (this.grid_rows || []).map(function(row) { return row.doc.__checked ? row.doc.name : null; })\n\t\t\t.filter(function(d) { return d; });\n\t}\n\tget_selected_children() {\n\t\treturn (this.grid_rows || []).map(function(row) { return row.doc.__checked ? row.doc : null; })\n\t\t\t.filter(function(d) { return d; });\n\t}\n\tmake_head() {\n\t\t// labels\n\t\tif(!this.header_row) {\n\t\t\tthis.header_row = new GridRow({\n\t\t\t\tparent: $(this.parent).find(\".grid-heading-row\"),\n\t\t\t\tparent_df: this.df,\n\t\t\t\tdocfields: this.docfields,\n\t\t\t\tfrm: this.frm,\n\t\t\t\tgrid: this\n\t\t\t});\n\t\t}\n\t}\n\trefresh(force) {\n\t\t!this.wrapper && this.make();\n\t\tvar me = this,\n\t\t\t$rows = $(me.parent).find(\".rows\"),\n\t\t\tdata = this.get_data();\n\n\t\tthis.setup_fields();\n\n\t\tif(this.frm) {\n\t\t\tthis.display_status = frappe.perm.get_field_display_status(this.df, this.frm.doc,\n\t\t\t\tthis.perm);\n\t\t} else {\n\t\t\t// not in form\n\t\t\tthis.display_status = 'Write';\n\t\t}\n\n\t\tif(this.display_status===\"None\") return;\n\n\t\t// redraw\n\t\tvar _scroll_y = $(document).scrollTop();\n\t\tthis.make_head();\n\n\t\tif(!this.grid_rows) {\n\t\t\tthis.grid_rows = [];\n\t\t}\n\n\t\tthis.truncate_rows(data);\n\t\tthis.grid_rows_by_docname = {};\n\n\t\tfor(var ri=0; ri < data.length; ri++) {\n\t\t\tvar d = data[ri];\n\n\t\t\tif(d.idx===undefined) {\n\t\t\t\td.idx = ri + 1;\n\t\t\t}\n\n\t\t\tif(this.grid_rows[ri]) {\n\t\t\t\tvar grid_row = this.grid_rows[ri];\n\t\t\t\tgrid_row.doc = d;\n\t\t\t\tgrid_row.refresh();\n\t\t\t} else {\n\t\t\t\tvar grid_row = new GridRow({\n\t\t\t\t\tparent: $rows,\n\t\t\t\t\tparent_df: this.df,\n\t\t\t\t\tdocfields: this.docfields,\n\t\t\t\t\tdoc: d,\n\t\t\t\t\tfrm: this.frm,\n\t\t\t\t\tgrid: this\n\t\t\t\t});\n\t\t\t\tthis.grid_rows.push(grid_row);\n\t\t\t}\n\n\t\t\tthis.grid_rows_by_docname[d.name] = grid_row;\n\t\t}\n\n\t\tthis.wrapper.find(\".grid-empty\").toggleClass(\"hide\", !!data.length);\n\n\t\t// toolbar\n\t\tthis.setup_toolbar();\n\n\t\t// sortable\n\t\tif(this.frm && this.is_sortable() && !this.sortable_setup_done) {\n\t\t\tthis.make_sortable($rows);\n\t\t\tthis.sortable_setup_done = true;\n\t\t}\n\n\t\tthis.last_display_status = this.display_status;\n\t\tthis.last_docname = this.frm && this.frm.docname;\n\n\t\t// frappe.utils.scroll_to(_scroll_y);\n\n\t\t// red if mandatory\n\t\tthis.form_grid.toggleClass('error', !!(this.df.reqd && !(data && data.length)));\n\n\t\tthis.refresh_remove_rows_button();\n\n\t\tthis.wrapper.trigger('change');\n\t}\n\tsetup_toolbar() {\n\t\tif(this.is_editable()) {\n\t\t\tthis.wrapper.find(\".grid-footer\").toggle(true);\n\n\t\t\t// show, hide buttons to add rows\n\t\t\tif(this.cannot_add_rows || (this.df && this.df.cannot_add_rows)) {\n\t\t\t\t// add 'hide' to buttons\n\t\t\t\tthis.wrapper.find(\".grid-add-row, .grid-add-multiple-rows\")\n\t\t\t\t\t.addClass('hide');\n\t\t\t} else {\n\t\t\t\t// show buttons\n\t\t\t\tthis.wrapper.find(\".grid-add-row\").removeClass('hide');\n\n\t\t\t\tif(this.multiple_set) {\n\t\t\t\t\tthis.wrapper.find(\".grid-add-multiple-rows\").removeClass('hide')\n\t\t\t\t}\n\t\t\t}\n\n\t\t} else {\n\t\t\tthis.wrapper.find(\".grid-footer\").toggle(false);\n\t\t}\n\n\t}\n\ttruncate_rows(data) {\n\t\tif(this.grid_rows.length > data.length) {\n\t\t\t// remove extra rows\n\t\t\tfor(var i=data.length; i < this.grid_rows.length; i++) {\n\t\t\t\tvar grid_row = this.grid_rows[i];\n\t\t\t\tgrid_row.wrapper.remove();\n\t\t\t}\n\t\t\tthis.grid_rows.splice(data.length);\n\t\t}\n\t}\n\tsetup_fields() {\n\t\tvar me = this;\n\t\t// reset docfield\n\t\tif (this.frm && this.frm.docname) {\n\t\t\t// use doc specific docfield object\n\t\t\tthis.df = frappe.meta.get_docfield(this.frm.doctype, this.df.fieldname,\n\t\t\t\tthis.frm.docname);\n\t\t} else {\n\t\t\t// use non-doc specific docfield\n\t\t\tif(this.df.options) {\n\t\t\t\tthis.df = frappe.meta.get_docfield(this.df.options, this.df.fieldname);\n\t\t\t}\n\t\t}\n\n\t\tif(this.doctype && this.frm) {\n\t\t\tthis.docfields = frappe.meta.get_docfields(this.doctype, this.frm.docname);\n\t\t} else {\n\t\t\t// fields given in docfield\n\t\t\tthis.docfields = this.df.fields;\n\t\t}\n\n\t\tthis.docfields.forEach(function(df) {\n\t\t\tme.fields_map[df.fieldname] = df;\n\t\t});\n\t}\n\trefresh_row(docname) {\n\t\tthis.grid_rows_by_docname[docname] &&\n\t\t\tthis.grid_rows_by_docname[docname].refresh();\n\t}\n\tmake_sortable($rows) {\n\t\tvar me =this;\n\t\tif ('ontouchstart' in window) {\n\t\t\treturn;\n\t\t}\n\n\t\tnew Sortable($rows.get(0), {\n\t\t\tgroup: {name: me.df.fieldname},\n\t\t\thandle: '.sortable-handle',\n\t\t\tdraggable: '.grid-row',\n\t\t\tfilter: 'li, a',\n\t\t\tonUpdate: function(event, ui) {\n\t\t\t\tme.frm.doc[me.df.fieldname] = [];\n\t\t\t\t$rows.find(\".grid-row\").each(function(i, item) {\n\t\t\t\t\tvar doc = locals[me.doctype][$(item).attr('data-name')];\n\t\t\t\t\tdoc.idx = i + 1;\n\t\t\t\t\tme.frm.doc[me.df.fieldname].push(doc);\n\t\t\t\t});\n\n\t\t\t\t// re-order grid-rows by name\n\t\t\t\tme.grid_rows = [];\n\t\t\t\tme.frm.doc[me.df.fieldname].forEach(function(d) {\n\t\t\t\t\tme.grid_rows.push(me.grid_rows_by_docname[d.name]);\n\t\t\t\t});\n\t\t\t\tme.frm.script_manager.trigger(me.df.fieldname + \"_move\", me.df.options, me.frm.doc[me.df.fieldname][event.newIndex].name);\n\t\t\t\tme.refresh();\n\n\t\t\t\tme.frm.dirty();\n\t\t\t}\n\t\t});\n\n\t\t$(this.frm.wrapper).trigger(\"grid-make-sortable\", [this.frm]);\n\t}\n\tget_data() {\n\t\tvar data = this.frm ?\n\t\t\tthis.frm.doc[this.df.fieldname] || []\n\t\t\t: this.get_modal_data();\n\t\tdata.sort(function(a, b) { return a.idx - b.idx});\n\t\treturn data;\n\t}\n\tget_modal_data() {\n\t\treturn this.df.get_data ? this.df.get_data().filter(data => {\n\t\t\tif (!this.deleted_docs || !in_list(this.deleted_docs, data.name)) {\n\t\t\t\treturn data;\n\t\t\t}\n\t\t}) : [];\n\t}\n\tset_column_disp(fieldname, show) {\n\t\tif($.isArray(fieldname)) {\n\t\t\tvar me = this;\n\t\t\tfor(var i=0, l=fieldname.length; i<l; i++) {\n\t\t\t\tvar fname = fieldname[i];\n\t\t\t\tme.get_docfield(fname).hidden = show ? 0 : 1;\n\t\t\t\tthis.set_editable_grid_column_disp(fname, show);\n\t\t\t}\n\t\t} else {\n\t\t\tthis.get_docfield(fieldname).hidden = show ? 0 : 1;\n\t\t\tthis.set_editable_grid_column_disp(fieldname, show);\n\t\t}\n\n\t\tthis.refresh(true);\n\t}\n\tset_editable_grid_column_disp(fieldname, show) {\n\t\t//Hide columns for editable grids\n\t\tif (this.meta.editable_grid && this.grid_rows) {\n\t\t\tthis.grid_rows.forEach(function(row) {\n\t\t\t\trow.columns_list.forEach(function(column) {\n\t\t\t\t\t//Hide the column specified\n\t\t\t\t\tif (column.df.fieldname == fieldname) {\n\t\t\t\t\t\tif (show) {\n\t\t\t\t\t\t\tcolumn.df.hidden = false;\n\n\t\t\t\t\t\t\t//Show the static area and hide field area if it is not the editable row\n\t\t\t\t\t\t\tif  (row != frappe.ui.form.editable_row) {\n\t\t\t\t\t\t\t\tcolumn.static_area.show();\n\t\t\t\t\t\t\t\tcolumn.field_area && column.field_area.toggle(false);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t//Hide the static area and show field area if it is the editable row\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tcolumn.static_area.hide();\n\t\t\t\t\t\t\t\tcolumn.field_area && column.field_area.toggle(true);\n\n\t\t\t\t\t\t\t\t//Format the editable column appropriately if it is now visible\n\t\t\t\t\t\t\t\tif (column.field) {\n\t\t\t\t\t\t\t\t\tcolumn.field.refresh();\n\t\t\t\t\t\t\t\t\tif (column.field.$input) column.field.$input.toggleClass('input-sm', true);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tcolumn.df.hidden = true;\n\t\t\t\t\t\t\tcolumn.static_area.hide();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\tthis.refresh();\n\t}\n\ttoggle_reqd(fieldname, reqd) {\n\t\tthis.get_docfield(fieldname).reqd = reqd;\n\t\tthis.refresh();\n\t}\n\ttoggle_enable(fieldname, enable) {\n\t\tthis.get_docfield(fieldname).read_only = enable ? 0 : 1;\n\t\tthis.refresh();\n\t}\n\ttoggle_display(fieldname, show) {\n\t\tthis.get_docfield(fieldname).hidden = show ? 0 : 1;\n\t\tthis.refresh();\n\t}\n\tget_docfield(fieldname) {\n\t\treturn frappe.meta.get_docfield(this.doctype, fieldname, this.frm ? this.frm.docname : null);\n\t}\n\tget_row(key) {\n\t\tif(typeof key == 'number') {\n\t\t\tif(key < 0) {\n\t\t\t\treturn this.grid_rows[this.grid_rows.length + key];\n\t\t\t} else {\n\t\t\t\treturn this.grid_rows[key];\n\t\t\t}\n\t\t} else {\n\t\t\treturn this.grid_rows_by_docname[key];\n\t\t}\n\t}\n\tget_grid_row(key) {\n\t\treturn this.get_row(key);\n\t}\n\tget_field(fieldname) {\n\t\t// Note: workaround for get_query\n\t\tif(!this.fieldinfo[fieldname])\n\t\t\tthis.fieldinfo[fieldname] = {\n\t\t\t}\n\t\treturn this.fieldinfo[fieldname];\n\t}\n\tset_value(fieldname, value, doc) {\n\t\tif(this.display_status!==\"None\" && this.grid_rows_by_docname[doc.name]) {\n\t\t\tthis.grid_rows_by_docname[doc.name].refresh_field(fieldname, value);\n\t\t}\n\t}\n\tadd_new_row(idx, callback, show) {\n\t\tif(this.is_editable()) {\n\t\t\tif(this.frm) {\n\t\t\t\tvar d = frappe.model.add_child(this.frm.doc, this.df.options, this.df.fieldname, idx);\n\t\t\t\td.__unedited = true;\n\t\t\t\tthis.frm.script_manager.trigger(this.df.fieldname + \"_add\", d.doctype, d.name);\n\t\t\t\tthis.refresh();\n\t\t\t} else {\n\t\t\t\tthis.df.data.push({name: \"batch \" + (this.df.data.length+1), idx: this.df.data.length+1});\n\t\t\t\tthis.refresh();\n\t\t\t}\n\n\t\t\tif(show) {\n\t\t\t\tif(idx) {\n\t\t\t\t\t// always open inserted rows\n\t\t\t\t\tthis.wrapper.find(\"[data-idx='\"+idx+\"']\").data(\"grid_row\")\n\t\t\t\t\t\t.toggle_view(true, callback);\n\t\t\t\t} else {\n\t\t\t\t\tif(!this.allow_on_grid_editing()) {\n\t\t\t\t\t\t// open last row only if on-grid-editing is disabled\n\t\t\t\t\t\tthis.wrapper.find(\".grid-row:last\").data(\"grid_row\")\n\t\t\t\t\t\t\t.toggle_view(true, callback);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn d;\n\t\t}\n\t}\n\n\tset_focus_on_row(idx) {\n\t\tvar me = this;\n\t\tif(!idx) {\n\t\t\tidx = me.grid_rows.length - 1;\n\t\t}\n\t\tsetTimeout(function() {\n\t\t\tme.grid_rows[idx].row\n\t\t\t\t.find('input[type=\"Text\"],textarea,select').filter(':visible:first').focus();\n\t\t}, 100);\n\t}\n\n\tsetup_visible_columns() {\n\t\tif (this.visible_columns) return;\n\n\t\tvar total_colsize = 1,\n\t\t\tfields = this.editable_fields || this.docfields;\n\n\t\tthis.visible_columns = [];\n\n\t\tfor(var ci in fields) {\n\t\t\tvar _df = fields[ci];\n\n\t\t\t// get docfield if from fieldname\n\t\t\tdf = this.fields_map[_df.fieldname];\n\n\t\t\tif(!df.hidden\n\t\t\t\t&& (this.editable_fields || df.in_list_view)\n\t\t\t\t&& (this.frm && this.frm.get_perm(df.permlevel, \"read\") || !this.frm)\n\t\t\t\t&& !in_list(frappe.model.layout_fields, df.fieldtype)) {\n\n\t\t\t\tif(df.columns) {\n\t\t\t\t\tdf.colsize=df.columns;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tvar colsize = 2;\n\t\t\t\t\tswitch(df.fieldtype) {\n\t\t\t\t\t\tcase \"Text\":\n\t\t\t\t\t\tcase \"Small Text\": colsize = 3; break;\n\t\t\t\t\t\tcase \"Check\": colsize = 1;\n\t\t\t\t\t}\n\t\t\t\t\tdf.colsize = colsize;\n\t\t\t\t}\n\n\t\t\t\t// attach formatter on refresh\n\t\t\t\tif (df.fieldtype == 'Link' && !df.formatter && df.parent && frappe.meta.docfield_map[df.parent]) {\n\t\t\t\t\tconst docfield = frappe.meta.docfield_map[df.parent][df.fieldname];\n\t\t\t\t\tif (docfield && docfield.formatter) {\n\t\t\t\t\t\tdf.formatter = docfield.formatter;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\ttotal_colsize += df.colsize;\n\t\t\t\tif(total_colsize > 11)\n\t\t\t\t\treturn false;\n\t\t\t\tthis.visible_columns.push([df, df.colsize]);\n\t\t\t}\n\t\t}\n\n\t\t// redistribute if total-col size is less than 12\n\t\tvar passes = 0;\n\t\twhile(total_colsize < 11 && passes < 12) {\n\t\t\tfor(var i in this.visible_columns) {\n\t\t\t\tvar df = this.visible_columns[i][0];\n\t\t\t\tvar colsize = this.visible_columns[i][1];\n\t\t\t\tif(colsize > 1 && colsize < 11\n\t\t\t\t\t&& !in_list(frappe.model.std_fields_list, df.fieldname)) {\n\n\t\t\t\t\tif (passes < 3 && [\"Int\", \"Currency\", \"Float\", \"Check\", \"Percent\"].indexOf(df.fieldtype)!==-1) {\n\t\t\t\t\t\t// don't increase col size of these fields in first 3 passes\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.visible_columns[i][1] += 1;\n\t\t\t\t\ttotal_colsize++;\n\t\t\t\t}\n\n\t\t\t\tif(total_colsize > 10)\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tpasses++;\n\t\t}\n\t}\n\n\n\tis_editable() {\n\t\treturn this.display_status==\"Write\" && !this.static_rows;\n\t}\n\tis_sortable() {\n\t\treturn this.sortable_status || this.is_editable();\n\t}\n\tonly_sortable(status) {\n\t\tif(status===undefined ? true : status) {\n\t\t\tthis.sortable_status = true;\n\t\t\tthis.static_rows = true;\n\t\t}\n\t}\n\tset_multiple_add(link, qty) {\n\t\tif(this.multiple_set) return;\n\t\tvar me = this;\n\t\tvar link_field = frappe.meta.get_docfield(this.df.options, link);\n\t\tvar btn = $(this.wrapper).find(\".grid-add-multiple-rows\");\n\n\t\t// show button\n\t\tbtn.removeClass('hide');\n\n\t\t// open link selector on click\n\t\tbtn.on(\"click\", function() {\n\t\t\tnew frappe.ui.form.LinkSelector({\n\t\t\t\tdoctype: link_field.options,\n\t\t\t\tfieldname: link,\n\t\t\t\tqty_fieldname: qty,\n\t\t\t\ttarget: me,\n\t\t\t\ttxt: \"\"\n\t\t\t});\n\t\t\treturn false;\n\t\t});\n\t\tthis.multiple_set = true;\n\t}\n\tsetup_allow_bulk_edit() {\n\t\tvar me = this;\n\t\tif(this.frm && this.frm.get_docfield(this.df.fieldname).allow_bulk_edit) {\n\t\t\t// download\n\t\t\tme.setup_download();\n\n\t\t\t// upload\n\t\t\tfrappe.flags.no_socketio = true;\n\t\t\t$(this.wrapper).find(\".grid-upload\").removeClass(\"hide\").on(\"click\", function() {\n\t\t\t\tfrappe.prompt({fieldtype:\"Attach\", label:\"Upload File\", fieldname: \"upload_file\"},\n\t\t\t\t\tfunction(data) {\n\t\t\t\t\t\tvar data = frappe.utils.csv_to_array(frappe.upload.get_string(data.upload_file));\n\t\t\t\t\t\t// row #2 contains fieldnames;\n\t\t\t\t\t\tvar fieldnames = data[2];\n\n\t\t\t\t\t\tme.frm.clear_table(me.df.fieldname);\n\t\t\t\t\t\t$.each(data, function(i, row) {\n\t\t\t\t\t\t\tif(i > 6) {\n\t\t\t\t\t\t\t\tvar blank_row = true;\n\t\t\t\t\t\t\t\t$.each(row, function(ci, value) {\n\t\t\t\t\t\t\t\t\tif(value) {\n\t\t\t\t\t\t\t\t\t\tblank_row = false;\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\tif(!blank_row) {\n\t\t\t\t\t\t\t\t\tvar d = me.frm.add_child(me.df.fieldname);\n\t\t\t\t\t\t\t\t\t$.each(row, function(ci, value) {\n\t\t\t\t\t\t\t\t\t\tvar fieldname = fieldnames[ci];\n\t\t\t\t\t\t\t\t\t\tvar df = frappe.meta.get_docfield(me.df.options, fieldname);\n\n\t\t\t\t\t\t\t\t\t\t// convert date formatting\n\t\t\t\t\t\t\t\t\t\tif(df.fieldtype===\"Date\" && value) {\n\t\t\t\t\t\t\t\t\t\t\tvalue = frappe.datetime.user_to_str(value);\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif(df.fieldtype===\"Int\" || df.fieldtype===\"Check\") {\n\t\t\t\t\t\t\t\t\t\t\tvalue = cint(value);\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\td[fieldnames[ci]] = value;\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tme.frm.refresh_field(me.df.fieldname);\n\t\t\t\t\t\tfrappe.msgprint({message:__('Table updated'), title:__('Success'), indicator:'green'})\n\n\t\t\t\t\t}, __(\"Edit via Upload\"), __(\"Update\"));\n\t\t\t\treturn false;\n\t\t\t});\n\t\t}\n\t}\n\tsetup_download() {\n\t\tvar me = this;\n\t\tlet title = me.df.label || frappe.model.unscrub(me.df.fieldname);\n\t\t$(this.wrapper).find(\".grid-download\").removeClass(\"hide\").on(\"click\", function() {\n\t\t\tvar data = [];\n\t\t\tvar docfields = [];\n\t\t\tdata.push([__(\"Bulk Edit {0}\", [title])]);\n\t\t\tdata.push([]);\n\t\t\tdata.push([]);\n\t\t\tdata.push([]);\n\t\t\tdata.push([__(\"The CSV format is case sensitive\")]);\n\t\t\tdata.push([__(\"Do not edit headers which are preset in the template\")]);\n\t\t\tdata.push([\"------\"]);\n\t\t\t$.each(frappe.get_meta(me.df.options).fields, function(i, df) {\n\t\t\t\t// don't include the read-only field in the template\n\t\t\t\tif(frappe.model.is_value_type(df.fieldtype)) {\n\t\t\t\t\tdata[1].push(df.label);\n\t\t\t\t\tdata[2].push(df.fieldname);\n\t\t\t\t\tlet description = (df.description || \"\") + ' ';\n\t\t\t\t\tif (df.fieldtype === \"Date\") {\n\t\t\t\t\t\tdescription += frappe.boot.sysdefaults.date_format;\n\t\t\t\t\t}\n\t\t\t\t\tdata[3].push(description);\n\t\t\t\t\tdocfields.push(df);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// add data\n\t\t\t$.each(me.frm.doc[me.df.fieldname] || [], function(i, d) {\n\t\t\t\tvar row = [];\n\t\t\t\t$.each(data[2], function(i, fieldname) {\n\t\t\t\t\tvar value = d[fieldname];\n\n\t\t\t\t\t// format date\n\t\t\t\t\tif(docfields[i].fieldtype===\"Date\" && value) {\n\t\t\t\t\t\tvalue = frappe.datetime.str_to_user(value);\n\t\t\t\t\t}\n\n\t\t\t\t\trow.push(value || \"\");\n\t\t\t\t});\n\t\t\t\tdata.push(row);\n\t\t\t});\n\n\t\t\tfrappe.tools.downloadify(data, null, title);\n\t\t\treturn false;\n\t\t});\n\t}\n\tadd_custom_button(label, click) {\n\t\t// add / unhide a custom button\n\t\tvar btn = this.custom_buttons[label];\n\t\tif(!btn) {\n\t\t\tbtn = $('<button class=\"btn btn-default btn-xs btn-custom\">' + label + '</button>')\n\t\t\t\t.css('margin-right', '4px')\n\t\t\t\t.prependTo(this.grid_buttons)\n\t\t\t\t.on('click', click);\n\t\t\tthis.custom_buttons[label] = btn;\n\t\t} else {\n\t\t\tbtn.removeClass('hidden');\n\t\t}\n\t}\n\tclear_custom_buttons() {\n\t\t// hide all custom buttons\n\t\tthis.grid_buttons.find('.btn-custom').addClass('hidden');\n\t}\n};\n","import Grid from '../grid';\n\nfrappe.ui.form.ControlTable = frappe.ui.form.Control.extend({\n\tmake: function() {\n\t\tthis._super();\n\n\t\t// add title if prev field is not column / section heading or html\n\t\tthis.grid = new Grid({\n\t\t\tfrm: this.frm,\n\t\t\tdf: this.df,\n\t\t\tperm: this.perm || (this.frm && this.frm.perm) || this.df.perm,\n\t\t\tparent: this.wrapper\n\t\t});\n\t\tif(this.frm) {\n\t\t\tthis.frm.grids[this.frm.grids.length] = this;\n\t\t}\n\n\t\t// description\n\t\tif(this.df.description) {\n\t\t\t$('<p class=\"text-muted small\">' + __(this.df.description) + '</p>')\n\t\t\t\t.appendTo(this.wrapper);\n\t\t}\n\t\tthis.$wrapper.on('paste',':text', function(e) {\n\t\t\tvar cur_table_field =$(e.target).closest('div [data-fieldtype=\"Table\"]').data('fieldname');\n\t\t\tvar cur_field = $(e.target).data('fieldname');\n\t\t\tvar cur_grid= cur_frm.get_field(cur_table_field).grid;\n\t\t\tvar cur_grid_rows = cur_grid.grid_rows;\n\t\t\tvar cur_doctype = cur_grid.doctype;\n\t\t\tvar cur_row_docname =$(e.target).closest('div .grid-row').data('name');\n\t\t\tvar row_idx = locals[cur_doctype][cur_row_docname].idx;\n\t\t\tvar clipboardData, pastedData;\n\t\t\t// Get pasted data via clipboard API\n\t\t\tclipboardData = event.clipboardData || window.clipboardData || event.originalEvent.clipboardData;\n\t\t\tpastedData = clipboardData.getData('Text');\n\t\t\tif (!pastedData) return;\n\t\t\tvar data = frappe.utils.csv_to_array(pastedData,'\\t');\n\t\t\tif (data.length === 1 & data[0].length === 1) return;\n\t\t\tif (data.length > 100){\n\t\t\t\tdata = data.slice(0, 100);\n\t\t\t\tfrappe.msgprint('for performance, only the first 100 rows processed!');\n\t\t\t}\n\t\t\tvar fieldnames = [];\n\t\t\tvar get_field = function(name_or_label){\n\t\t\t\tvar fieldname;\n\t\t\t\t$.each(cur_grid.meta.fields,(ci,field)=>{\n\t\t\t\t\tname_or_label = name_or_label.toLowerCase()\n\t\t\t\t\tif (field.fieldname.toLowerCase() === name_or_label ||\n\t\t\t\t\t\t(field.label && field.label.toLowerCase() === name_or_label)){\n\t\t\t\t\t\t  fieldname = field.fieldname;\n\t\t\t\t\t\t  return false;\n\t\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn fieldname;\n\t\t\t}\n\t\t\tif (get_field(data[0][0])){ // for raw data with column header\n\t\t\t\t$.each(data[0], (ci, column)=>{fieldnames.push(get_field(column));});\n\t\t\t\tdata.shift();\n\t\t\t}\n\t\t\telse{ // no column header, map to the existing visible columns\n\t\t\t\tvar visible_columns = cur_grid_rows[0].get_visible_columns();\n\t\t\t\tvar find;\n\t\t\t\t$.each(visible_columns, (ci, column)=>{\n\t\t\t\t\tif (column.fieldname === cur_field) find = true;\n\t\t\t\t\tfind && fieldnames.push(column.fieldname);\n\t\t\t\t})\n\t\t\t}\n\t\t\t$.each(data, function(i, row) {\n\t\t\t\tvar blank_row = true;\n\t\t\t\t$.each(row, function(ci, value) {\n\t\t\t\t\tif(value) {\n\t\t\t\t\t\tblank_row = false;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif(!blank_row) {\n\t\t\t\t\tif (row_idx > cur_frm.doc[cur_table_field].length){\n\t\t\t\t\t\tcur_grid.add_new_row();\n\t\t\t\t\t}\n\t\t\t\t\tvar cur_row = cur_grid_rows[row_idx - 1];\n\t\t\t\t\trow_idx ++;\n\t\t\t\t\tvar row_name = cur_row.doc.name;\n\t\t\t\t\t$.each(row, function(ci, value) {\n\t\t\t\t\t\tif (fieldnames[ci]) frappe.model.set_value(cur_doctype, row_name, fieldnames[ci], value);\n\t\t\t\t\t});\n\t\t\t\t\tfrappe.show_progress(__('Processing'), i, data.length);\n\t\t\t\t}\n\t\t\t});\n\t\t\tfrappe.hide_progress();\n\t\t\treturn false; // Prevent the default handler from running.\n\t\t})\t\t\n\t},\n\trefresh_input: function() {\n\t\tthis.grid.refresh();\n\t},\n\tget_value: function() {\n\t\tif(this.grid) {\n\t\t\treturn this.grid.get_data();\n\t\t}\n\t},\n\tset_input: function( ) {\n\t\t//\n\t},\n\tvalidate: function() {\n\t\treturn true\n\t}\n});\n","frappe.ui.form.ControlColor = frappe.ui.form.ControlData.extend({\n\tmake_input: function () {\n\t\tthis._super();\n\t\tthis.colors = [\n\t\t\t\"#ffc4c4\", \"#ff8989\", \"#ff4d4d\", \"#a83333\",\n\t\t\t\"#ffe8cd\", \"#ffd19c\", \"#ffb868\", \"#a87945\",\n\t\t\t\"#ffd2c2\", \"#ffa685\", \"#ff7846\", \"#a85b5b\",\n\t\t\t\"#ffd7d7\", \"#ffb1b1\", \"#ff8989\", \"#a84f2e\",\n\t\t\t\"#fffacd\", \"#fff168\", \"#fff69c\", \"#a89f45\",\n\t\t\t\"#ebf8cc\", \"#d9f399\", \"#c5ec63\", \"#7b933d\",\n\t\t\t\"#cef6d1\", \"#9deca2\", \"#6be273\", \"#428b46\",\n\t\t\t\"#d2f8ed\", \"#a4f3dd\", \"#77ecca\", \"#49937e\",\n\t\t\t\"#d2f1ff\", \"#a6e4ff\", \"#78d6ff\", \"#4f8ea8\",\n\t\t\t\"#d2d2ff\", \"#a3a3ff\", \"#7575ff\", \"#4d4da8\",\n\t\t\t\"#dac7ff\", \"#b592ff\", \"#8e58ff\", \"#5e3aa8\",\n\t\t\t\"#f8d4f8\", \"#f3aaf0\", \"#ec7dea\", \"#934f92\"\n\t\t];\n\t\tthis.make_color_input();\n\t},\n\tmake_color_input: function () {\n\t\tthis.$wrapper\n\t\t\t.find('.control-input-wrapper')\n\t\t\t.append(`<div class=\"color-picker\">\n\t\t\t\t<div class=\"color-picker-pallete\"></div>\n\t\t\t</div>`);\n\t\tthis.$color_pallete = this.$wrapper.find('.color-picker-pallete');\n\n\t\tvar color_html = this.colors.map(this.get_color_box).join(\"\");\n\t\tthis.$color_pallete.append(color_html);\n\t\tthis.$color_pallete.hide();\n\t\tthis.bind_events();\n\t},\n\tget_color_box: function (hex) {\n\t\treturn `<div class=\"color-box\" data-color=\"${hex}\" style=\"background-color: ${hex}\"></div>`;\n\t},\n\tset_formatted_input: function(value) {\n\t\tthis._super(value);\n\n\t\tif (!value) value = '#FFFFFF';\n\t\tconst contrast    = frappe.ui.color.get_contrast_color(value);\n\n\t\tthis.$input.css({\n\t\t\t\"background-color\": value, \"color\": contrast\n\t\t});\n\t},\n\tbind_events: function () {\n\t\tvar mousedown_happened = false;\n\t\tthis.$wrapper.on(\"click\", \".color-box\", (e) => {\n\t\t\tmousedown_happened = false;\n\n\t\t\tvar color_val = $(e.target).data(\"color\");\n\t\t\tthis.set_value(color_val);\n\t\t\t// set focus so that we can blur it later\n\t\t\tthis.set_focus();\n\t\t});\n\n\t\tthis.$wrapper.find(\".color-box\").mousedown(() => {\n\t\t\tmousedown_happened = true;\n\t\t});\n\n\t\tthis.$input.on(\"focus\", () => {\n\t\t\tthis.$color_pallete.show();\n\t\t});\n\t\tthis.$input.on(\"blur\", () => {\n\t\t\tif (mousedown_happened) {\n\t\t\t\t// cancel the blur event\n\t\t\t\tmousedown_happened = false;\n\t\t\t} else {\n\t\t\t\t// blur event is okay\n\t\t\t\t$(this.$color_pallete).hide();\n\t\t\t}\n\t\t});\n\t},\n\tvalidate: function (value) {\n\t\tif(value === '') {\n\t\t\treturn '';\n\t\t}\n\t\tvar is_valid = /^#[0-9A-F]{6}$/i.test(value);\n\t\tif(is_valid) {\n\t\t\treturn value;\n\t\t}\n\t\treturn null;\n\t}\n});\n","frappe.ui.form.ControlSignature = frappe.ui.form.ControlData.extend({\n\tsaving: false,\n\tloading: false,\n\tmake: function() {\n\t\tvar me = this;\n\t\tthis._super();\n\n\t\t// make jSignature field\n\t\tthis.body = $('<div class=\"signature-field\"></div>').appendTo(me.wrapper);\n\n\t\tif (this.body.is(':visible')) {\n\t\t\tthis.make_pad();\n\t\t} else {\n\t\t\t$(document).on('frappe.ui.Dialog:shown', () => {\n\t\t\t\tthis.make_pad();\n\t\t\t});\n\t\t}\n\n\t\tthis.img_wrapper = $(`<div class=\"signature-display\">\n\t\t\t<div class=\"missing-image attach-missing-image\">\n\t\t\t\t<i class=\"octicon octicon-circle-slash\"></i>\n\t\t\t</div></div>`)\n\t\t\t.appendTo(this.wrapper);\n\t\tthis.img = $(\"<img class='img-responsive attach-image-display'>\")\n\t\t\t.appendTo(this.img_wrapper).toggle(false);\n\n\t},\n\tmake_pad: function() {\n\t\tlet width = this.body.width();\n\t\tif (width > 0 && !this.$pad) {\n\t\t\tthis.$pad = this.body.jSignature({\n\t\t\t\theight: 300,\n\t\t\t\twidth: this.body.width(),\n\t\t\t\tlineWidth: 3\n\t\t\t}).on('change',\n\t\t\t\tthis.on_save_sign.bind(this));\n\t\t\tthis.load_pad();\n\t\t\tthis.$reset_button_wrapper = $(`<div class=\"signature-btn-row\">\n\t\t\t\t<a href=\"#\" type=\"button\" class=\"signature-reset btn btn-default\">\n\t\t\t\t<i class=\"glyphicon glyphicon-repeat\"></i></a>`)\n\t\t\t\t.appendTo(this.$pad)\n\t\t\t\t.on(\"click\", '.signature-reset', () => {\n\t\t\t\t\tthis.on_reset_sign();\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\n\t\t}\n\t},\n\trefresh_input: function(e) {\n\t\t// prevent to load the second time\n\t\tthis.make_pad();\n\t\tthis.$wrapper.find(\".control-input\").toggle(false);\n\t\tthis.set_editable(this.get_status()==\"Write\");\n\t\tthis.load_pad();\n\t\tif(this.get_status()==\"Read\") {\n\t\t\t$(this.disp_area).toggle(false);\n\t\t}\n\t},\n\tset_image: function(value) {\n\t\tif(value) {\n\t\t\t$(this.img_wrapper).find(\".missing-image\").toggle(false);\n\t\t\tthis.img.attr(\"src\", value).toggle(true);\n\t\t} else {\n\t\t\t$(this.img_wrapper).find(\".missing-image\").toggle(true);\n\t\t\tthis.img.toggle(false);\n\t\t}\n\t},\n\tload_pad: function() {\n\t\t// make sure not triggered during saving\n\t\tif (this.saving) return;\n\t\t// get value\n\t\tvar value = this.get_value();\n\t\t// import data for pad\n\t\tif (this.$pad) {\n\t\t\tthis.loading = true;\n\t\t\t// reset in all cases\n\t\t\tthis.$pad.jSignature('reset');\n\t\t\tif (value) {\n\t\t\t\t// load the image to find out the size, because scaling will affect\n\t\t\t\t// stroke width\n\t\t\t\ttry {\n\t\t\t\t\tthis.$pad.jSignature('setData', value);\n\t\t\t\t\tthis.set_image(value);\n\t\t\t\t}\n\t\t\t\tcatch (e){\n\t\t\t\t\tconsole.log(\"Cannot set data for signature\", value, e);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.loading = false;\n\t\t}\n\t},\n\tset_editable: function(editable) {\n\t\tthis.$pad && this.$pad.toggle(editable);\n\t\tthis.img_wrapper.toggle(!editable);\n\t\tif (this.$reset_button_wrapper) {\n\t\t\tthis.$reset_button_wrapper.toggle(editable);\n\t\t\tif (editable) {\n\t\t\t\tthis.$reset_button_wrapper.addClass('editing');\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.$reset_button_wrapper.removeClass('editing');\n\t\t\t}\n\t\t}\n\t},\n\tset_my_value: function(value) {\n\t\tif (this.saving || this.loading) return;\n\t\tthis.saving = true;\n\t\tthis.set_value(value);\n\t\tthis.saving = false;\n\t},\n\tget_value: function() {\n\t\treturn this.value ? this.value: this.get_model_value();\n\t},\n\t// reset signature canvas\n\ton_reset_sign: function() {\n\t\tthis.$pad.jSignature(\"reset\");\n\t\tthis.set_my_value(\"\");\n\t},\n\t// save signature value to model and display\n\ton_save_sign: function() {\n\t\tif (this.saving || this.loading) return;\n\t\tvar base64_img = this.$pad.jSignature(\"getData\");\n\t\tthis.set_my_value(base64_img);\n\t\tthis.set_image(this.get_value());\n\t}\n});\n","frappe.ui.form.ControlPassword = frappe.ui.form.ControlData.extend({\n\tinput_type: \"password\",\n\tmake: function() {\n\t\tthis._super();\n\t},\n\tmake_input: function() {\n\t\tvar me = this;\n\t\tthis._super();\n\t\tthis.$input.parent().append($('<span class=\"password-strength-indicator indicator\"></span>'));\n\t\tthis.$wrapper.find('.control-input-wrapper').append($('<p class=\"password-strength-message text-muted small hidden\"></p>'));\n\n\t\tthis.indicator = this.$wrapper.find('.password-strength-indicator');\n\t\tthis.message = this.$wrapper.find('.help-box');\n\n\t\tthis.$input.on('keyup', () => {\n\t\t\tclearTimeout(this.check_password_timeout);\n\t\t\tthis.check_password_timeout = setTimeout (() => {\n\t\t\t\tme.get_password_strength(me.$input.val());\n\t\t\t}, 500);\n\t\t});\n\t},\n\tget_password_strength: function(value) {\n\t\tvar me = this;\n\t\tfrappe.call({\n\t\t\ttype: 'POST',\n\t\t\tmethod: 'frappe.core.doctype.user.user.test_password_strength',\n\t\t\targs: {\n\t\t\t\tnew_password: value || ''\n\t\t\t},\n\t\t\tcallback: function(r) {\n\t\t\t\tif (r.message && r.message.entropy) {\n\t\t\t\t\tvar score = r.message.score,\n\t\t\t\t\t\tfeedback = r.message.feedback;\n\n\t\t\t\t\tfeedback.crack_time_display = r.message.crack_time_display;\n\n\t\t\t\t\tvar indicators = ['grey', 'red', 'orange', 'yellow', 'green'];\n\t\t\t\t\tme.set_strength_indicator(indicators[score]);\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t});\n\t},\n\tset_strength_indicator: function(color) {\n\t\tvar message = __(\"Include symbols, numbers and capital letters in the password\");\n\t\tthis.indicator.removeClass().addClass('password-strength-indicator indicator ' + color);\n\t\tthis.message.html(message).removeClass('hidden');\n\t}\n});\n","frappe.ui.form.ControlReadOnly = frappe.ui.form.ControlData.extend({\n\tget_status: function(explain) {\n\t\tvar status = this._super(explain);\n\t\tif(status===\"Write\")\n\t\t\tstatus = \"Read\";\n\t\treturn;\n\t},\n});\n","frappe.ui.form.ControlButton = frappe.ui.form.ControlData.extend({\n\tmake_input: function() {\n\t\tvar me = this;\n\t\tthis.$input = $('<button class=\"btn btn-default btn-xs\">')\n\t\t\t.prependTo(me.input_area)\n\t\t\t.on(\"click\", function() {\n\t\t\t\tme.onclick();\n\t\t\t});\n\t\tthis.input = this.$input.get(0);\n\t\tthis.set_input_attributes();\n\t\tthis.has_input = true;\n\t\tthis.toggle_label(false);\n\t},\n\tonclick: function() {\n\t\tif(this.frm && this.frm.doc) {\n\t\t\tif(this.frm.script_manager.has_handlers(this.df.fieldname, this.doctype)) {\n\t\t\t\tthis.frm.script_manager.trigger(this.df.fieldname, this.doctype, this.docname);\n\t\t\t} else {\n\t\t\t\tthis.frm.runscript(this.df.options, this);\n\t\t\t}\n\t\t}\n\t\telse if(this.df.click) {\n\t\t\tthis.df.click();\n\t\t}\n\t},\n\thide() {\n\t\tthis.$input.hide();\n\t},\n\tset_input_areas: function() {\n\t\tthis._super();\n\t\t$(this.disp_area).removeClass().addClass(\"hide\");\n\t},\n\tset_empty_description: function() {\n\t\tthis.$wrapper.find(\".help-box\").empty().toggle(false);\n\t},\n\tset_label: function() {\n\t\t$(this.label_span).html(\"&nbsp;\");\n\t\tthis.$input && this.$input.html((this.df.icon ?\n\t\t\t('<i class=\"'+this.df.icon+' fa-fw\"></i> ') : \"\") + __(this.df.label));\n\t}\n});\n","frappe.ui.form.ControlHTML = frappe.ui.form.Control.extend({\n\tmake: function() {\n\t\tthis._super();\n\t\tthis.disp_area = this.wrapper;\n\t},\n\trefresh_input: function() {\n\t\tvar content = this.get_content();\n\t\tif(content) this.$wrapper.html(content);\n\t},\n\tget_content: function() {\n\t\tvar content = this.df.options || \"\";\n\t\ttry {\n\t\t\treturn frappe.render(content, this);\n\t\t} catch (e) {\n\t\t\treturn content;\n\t\t}\n\t},\n\thtml: function(html) {\n\t\tthis.$wrapper.html(html || this.get_content());\n\t},\n\tset_value: function(html) {\n\t\tif(html.appendTo) {\n\t\t\t// jquery object\n\t\t\thtml.appendTo(this.$wrapper.empty());\n\t\t} else {\n\t\t\t// html\n\t\t\tthis.df.options = html;\n\t\t\tthis.html(html);\n\t\t}\n\t}\n});\n","frappe.ui.form.ControlHTMLEditor = frappe.ui.form.ControlCode.extend({\n\tmake_input() {\n\t\tthis._super();\n\t\tthis.$input.height(150);\n\t\tthis.make_preview_container();\n\t},\n\n\tmake_preview_container() {\n\t\tthis.html_preview_container = $('<div>').appendTo(this.input_area).addClass('html-preview-container');\n\t\tthis.preview_label = $('<div>').appendTo(this.html_preview_container).addClass('html-preview-label');\n\t\tthis.html_preview_area = $('<div>').appendTo(this.html_preview_container).addClass('html-preview-area');\n\t\tthis.$input.on('change keyup paste', frappe.utils.debounce(() => {\n\t\t\tthis.build_preview();\n\t\t}, 300));\n\t},\n\n\tset_formatted_input(value) {\n\t\tthis._super(value);\n\t\tthis.build_preview();\n\t},\n\n\tbuild_preview() {\n\t\tif (this.get_value() == '') {\n\t\t\tthis.preview_label.text(__('No Preview available'));\n\t\t\tthis.html_preview_area.hide();\n\t\t} else {\n\t\t\tthis.preview_label.text(__('Preview'));\n\t\t\tthis.html_preview_area.show();\n\t\t\tthis.html_preview_area.html(this.get_value());\n\t\t}\n\t}\n});\n","frappe.ui.form.ControlHeading = frappe.ui.form.ControlHTML.extend({\n\tget_content: function() {\n\t\treturn \"<h4>\" + __(this.df.label) + \"</h4>\";\n\t}\n});\n","import Awesomplete from 'awesomplete';\n\nfrappe.ui.form.ControlAutocomplete = frappe.ui.form.ControlData.extend({\n\tmake_input() {\n\t\tthis._super();\n\t\tthis.setup_awesomplete();\n\t\tthis.set_options();\n\t},\n\n\tset_options() {\n\t\tif (this.df.options) {\n\t\t\tlet options = this.df.options || [];\n\t\t\tif (typeof options === 'string') {\n\t\t\t\toptions = options.split('\\n');\n\t\t\t}\n\t\t\tif (typeof options[0] === 'string') {\n\t\t\t\toptions = options.map(o => ({label: o, value: o}));\n\t\t\t}\n\t\t\tthis._data = options;\n\t\t}\n\t},\n\n\tget_awesomplete_settings() {\n\t\tvar me = this;\n\t\treturn {\n\t\t\tminChars: 0,\n\t\t\tmaxItems: 99,\n\t\t\tautoFirst: true,\n\t\t\tlist: this.get_data(),\n\t\t\tdata: function(item) {\n\t\t\t\tif(!(item instanceof Object)) {\n\t\t\t\t\tvar d = {\"value\": item};\n\t\t\t\t\titem = d;\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\tlabel: item.label || item.value,\n\t\t\t\t\tvalue: item.value\n\t\t\t\t};\n\t\t\t},\n\t\t\titem: function(item) {\n\t\t\t\tvar d = this.get_item(item.value);\n\t\t\t\tif(!d) {\n\t\t\t\t\td = item;\n\t\t\t\t}\n\n\t\t\t\tif (!d.label) {\n\t\t\t\t\td.label = d.value;\n\t\t\t\t}\n\n\t\t\t\tvar _label = (me.translate_values) ? __(d.label) : d.label;\n\t\t\t\tvar html = \"<strong>\" + _label + \"</strong>\";\n\t\t\t\tif(d.description && d.value!==d.description) {\n\t\t\t\t\thtml += '<br><span class=\"small\">' + __(d.description) + '</span>';\n\t\t\t\t}\n\n\t\t\t\treturn $('<li></li>')\n\t\t\t\t\t.data('item.autocomplete', d)\n\t\t\t\t\t.prop('aria-selected', 'false')\n\t\t\t\t\t.html('<a><p>' + html + '</p></a>')\n\t\t\t\t\t.get(0);\n\t\t\t},\n\t\t\tsort: () => {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t};\n\t},\n\n\tsetup_awesomplete() {\n\t\tthis.awesomplete = new Awesomplete(this.input, this.get_awesomplete_settings());\n\n\t\t$(this.input_area).find('.awesomplete ul').css('min-width', '100%');\n\n\t\tthis.$input.on('input', frappe.utils.debounce(() => {\n\t\t\tthis.awesomplete.list = this.get_data();\n\t\t}, 500));\n\n\t\tthis.$input.on('focus', () => {\n\t\t\tif (!this.$input.val()) {\n\t\t\t\tthis.$input.val('');\n\t\t\t\tthis.$input.trigger('input');\n\t\t\t}\n\t\t});\n\n\t\tthis.$input.on('awesomplete-selectcomplete', () => {\n\t\t\tthis.$input.trigger('change');\n\t\t});\n\t},\n\n\tget_data() {\n\t\treturn this._data || [];\n\t},\n\n\tset_data(data) {\n\t\tif (this.awesomplete) {\n\t\t\tthis.awesomplete.list = data;\n\t\t}\n\t\tthis._data = data;\n\t}\n});\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Barcode = function Barcode(data, options) {\n\t_classCallCheck(this, Barcode);\n\n\tthis.data = data;\n\tthis.text = options.text || data;\n\tthis.options = options;\n};\n\nexports.default = Barcode;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.CODE39 = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Barcode2 = require(\"../Barcode.js\");\n\nvar _Barcode3 = _interopRequireDefault(_Barcode2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // Encoding documentation:\n// https://en.wikipedia.org/wiki/Code_39#Encoding\n\nvar CODE39 = function (_Barcode) {\n\t_inherits(CODE39, _Barcode);\n\n\tfunction CODE39(data, options) {\n\t\t_classCallCheck(this, CODE39);\n\n\t\tdata = data.toUpperCase();\n\n\t\t// Calculate mod43 checksum if enabled\n\t\tif (options.mod43) {\n\t\t\tdata += getCharacter(mod43checksum(data));\n\t\t}\n\n\t\treturn _possibleConstructorReturn(this, (CODE39.__proto__ || Object.getPrototypeOf(CODE39)).call(this, data, options));\n\t}\n\n\t_createClass(CODE39, [{\n\t\tkey: \"encode\",\n\t\tvalue: function encode() {\n\t\t\t// First character is always a *\n\t\t\tvar result = getEncoding(\"*\");\n\n\t\t\t// Take every character and add the binary representation to the result\n\t\t\tfor (var i = 0; i < this.data.length; i++) {\n\t\t\t\tresult += getEncoding(this.data[i]) + \"0\";\n\t\t\t}\n\n\t\t\t// Last character is always a *\n\t\t\tresult += getEncoding(\"*\");\n\n\t\t\treturn {\n\t\t\t\tdata: result,\n\t\t\t\ttext: this.text\n\t\t\t};\n\t\t}\n\t}, {\n\t\tkey: \"valid\",\n\t\tvalue: function valid() {\n\t\t\treturn this.data.search(/^[0-9A-Z\\-\\.\\ \\$\\/\\+\\%]+$/) !== -1;\n\t\t}\n\t}]);\n\n\treturn CODE39;\n}(_Barcode3.default);\n\n// All characters. The position in the array is the (checksum) value\n\n\nvar characters = [\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\", \"I\", \"J\", \"K\", \"L\", \"M\", \"N\", \"O\", \"P\", \"Q\", \"R\", \"S\", \"T\", \"U\", \"V\", \"W\", \"X\", \"Y\", \"Z\", \"-\", \".\", \" \", \"$\", \"/\", \"+\", \"%\", \"*\"];\n\n// The decimal representation of the characters, is converted to the\n// corresponding binary with the getEncoding function\nvar encodings = [20957, 29783, 23639, 30485, 20951, 29813, 23669, 20855, 29789, 23645, 29975, 23831, 30533, 22295, 30149, 24005, 21623, 29981, 23837, 22301, 30023, 23879, 30545, 22343, 30161, 24017, 21959, 30065, 23921, 22385, 29015, 18263, 29141, 17879, 29045, 18293, 17783, 29021, 18269, 17477, 17489, 17681, 20753, 35770];\n\n// Get the binary representation of a character by converting the encodings\n// from decimal to binary\nfunction getEncoding(character) {\n\treturn getBinary(characterValue(character));\n}\n\nfunction getBinary(characterValue) {\n\treturn encodings[characterValue].toString(2);\n}\n\nfunction getCharacter(characterValue) {\n\treturn characters[characterValue];\n}\n\nfunction characterValue(character) {\n\treturn characters.indexOf(character);\n}\n\nfunction mod43checksum(data) {\n\tvar checksum = 0;\n\tfor (var i = 0; i < data.length; i++) {\n\t\tchecksum += characterValue(data[i]);\n\t}\n\n\tchecksum = checksum % 43;\n\treturn checksum;\n}\n\nexports.CODE39 = CODE39;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _SET_BY_CODE;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// constants for internal usage\nvar SET_A = exports.SET_A = 0;\nvar SET_B = exports.SET_B = 1;\nvar SET_C = exports.SET_C = 2;\n\n// Special characters\nvar SHIFT = exports.SHIFT = 98;\nvar START_A = exports.START_A = 103;\nvar START_B = exports.START_B = 104;\nvar START_C = exports.START_C = 105;\nvar MODULO = exports.MODULO = 103;\nvar STOP = exports.STOP = 106;\nvar FNC1 = exports.FNC1 = 207;\n\n// Get set by start code\nvar SET_BY_CODE = exports.SET_BY_CODE = (_SET_BY_CODE = {}, _defineProperty(_SET_BY_CODE, START_A, SET_A), _defineProperty(_SET_BY_CODE, START_B, SET_B), _defineProperty(_SET_BY_CODE, START_C, SET_C), _SET_BY_CODE);\n\n// Get next set by code\nvar SWAP = exports.SWAP = {\n\t101: SET_A,\n\t100: SET_B,\n\t99: SET_C\n};\n\nvar A_START_CHAR = exports.A_START_CHAR = String.fromCharCode(208); // START_A + 105\nvar B_START_CHAR = exports.B_START_CHAR = String.fromCharCode(209); // START_B + 105\nvar C_START_CHAR = exports.C_START_CHAR = String.fromCharCode(210); // START_C + 105\n\n// 128A (Code Set A)\n// ASCII characters 00 to 95 (0–9, A–Z and control codes), special characters, and FNC 1–4\nvar A_CHARS = exports.A_CHARS = \"[\\x00-\\x5F\\xC8-\\xCF]\";\n\n// 128B (Code Set B)\n// ASCII characters 32 to 127 (0–9, A–Z, a–z), special characters, and FNC 1–4\nvar B_CHARS = exports.B_CHARS = \"[\\x20-\\x7F\\xC8-\\xCF]\";\n\n// 128C (Code Set C)\n// 00–99 (encodes two digits with a single code point) and FNC1\nvar C_CHARS = exports.C_CHARS = \"(\\xCF*[0-9]{2}\\xCF*)\";\n\n// CODE128 includes 107 symbols:\n// 103 data symbols, 3 start symbols (A, B and C), and 1 stop symbol (the last one)\n// Each symbol consist of three black bars (1) and three white spaces (0).\nvar BARS = exports.BARS = [11011001100, 11001101100, 11001100110, 10010011000, 10010001100, 10001001100, 10011001000, 10011000100, 10001100100, 11001001000, 11001000100, 11000100100, 10110011100, 10011011100, 10011001110, 10111001100, 10011101100, 10011100110, 11001110010, 11001011100, 11001001110, 11011100100, 11001110100, 11101101110, 11101001100, 11100101100, 11100100110, 11101100100, 11100110100, 11100110010, 11011011000, 11011000110, 11000110110, 10100011000, 10001011000, 10001000110, 10110001000, 10001101000, 10001100010, 11010001000, 11000101000, 11000100010, 10110111000, 10110001110, 10001101110, 10111011000, 10111000110, 10001110110, 11101110110, 11010001110, 11000101110, 11011101000, 11011100010, 11011101110, 11101011000, 11101000110, 11100010110, 11101101000, 11101100010, 11100011010, 11101111010, 11001000010, 11110001010, 10100110000, 10100001100, 10010110000, 10010000110, 10000101100, 10000100110, 10110010000, 10110000100, 10011010000, 10011000010, 10000110100, 10000110010, 11000010010, 11001010000, 11110111010, 11000010100, 10001111010, 10100111100, 10010111100, 10010011110, 10111100100, 10011110100, 10011110010, 11110100100, 11110010100, 11110010010, 11011011110, 11011110110, 11110110110, 10101111000, 10100011110, 10001011110, 10111101000, 10111100010, 11110101000, 11110100010, 10111011110, 10111101110, 11101011110, 11110101110, 11010000100, 11010010000, 11010011100, 1100011101011];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Barcode2 = require('../Barcode.js');\n\nvar _Barcode3 = _interopRequireDefault(_Barcode2);\n\nvar _constants = require('./constants');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// This is the master class,\n// it does require the start code to be included in the string\nvar CODE128 = function (_Barcode) {\n\t_inherits(CODE128, _Barcode);\n\n\tfunction CODE128(data, options) {\n\t\t_classCallCheck(this, CODE128);\n\n\t\t// Get array of ascii codes from data\n\t\tvar _this = _possibleConstructorReturn(this, (CODE128.__proto__ || Object.getPrototypeOf(CODE128)).call(this, data.substring(1), options));\n\n\t\t_this.bytes = data.split('').map(function (char) {\n\t\t\treturn char.charCodeAt(0);\n\t\t});\n\t\treturn _this;\n\t}\n\n\t_createClass(CODE128, [{\n\t\tkey: 'valid',\n\t\tvalue: function valid() {\n\t\t\t// ASCII value ranges 0-127, 200-211\n\t\t\treturn (/^[\\x00-\\x7F\\xC8-\\xD3]+$/.test(this.data)\n\t\t\t);\n\t\t}\n\n\t\t// The public encoding function\n\n\t}, {\n\t\tkey: 'encode',\n\t\tvalue: function encode() {\n\t\t\tvar bytes = this.bytes;\n\t\t\t// Remove the start code from the bytes and set its index\n\t\t\tvar startIndex = bytes.shift() - 105;\n\t\t\t// Get start set by index\n\t\t\tvar startSet = _constants.SET_BY_CODE[startIndex];\n\n\t\t\tif (startSet === undefined) {\n\t\t\t\tthrow new RangeError('The encoding does not start with a start character.');\n\t\t\t}\n\n\t\t\tif (this.shouldEncodeAsEan128() === true) {\n\t\t\t\tbytes.unshift(_constants.FNC1);\n\t\t\t}\n\n\t\t\t// Start encode with the right type\n\t\t\tvar encodingResult = CODE128.next(bytes, 1, startSet);\n\n\t\t\treturn {\n\t\t\t\ttext: this.text === this.data ? this.text.replace(/[^\\x20-\\x7E]/g, '') : this.text,\n\t\t\t\tdata:\n\t\t\t\t// Add the start bits\n\t\t\t\tCODE128.getBar(startIndex) +\n\t\t\t\t// Add the encoded bits\n\t\t\t\tencodingResult.result +\n\t\t\t\t// Add the checksum\n\t\t\t\tCODE128.getBar((encodingResult.checksum + startIndex) % _constants.MODULO) +\n\t\t\t\t// Add the end bits\n\t\t\t\tCODE128.getBar(_constants.STOP)\n\t\t\t};\n\t\t}\n\n\t\t// GS1-128/EAN-128\n\n\t}, {\n\t\tkey: 'shouldEncodeAsEan128',\n\t\tvalue: function shouldEncodeAsEan128() {\n\t\t\tvar isEAN128 = this.options.ean128 || false;\n\t\t\tif (typeof isEAN128 === 'string') {\n\t\t\t\tisEAN128 = isEAN128.toLowerCase() === 'true';\n\t\t\t}\n\t\t\treturn isEAN128;\n\t\t}\n\n\t\t// Get a bar symbol by index\n\n\t}], [{\n\t\tkey: 'getBar',\n\t\tvalue: function getBar(index) {\n\t\t\treturn _constants.BARS[index] ? _constants.BARS[index].toString() : '';\n\t\t}\n\n\t\t// Correct an index by a set and shift it from the bytes array\n\n\t}, {\n\t\tkey: 'correctIndex',\n\t\tvalue: function correctIndex(bytes, set) {\n\t\t\tif (set === _constants.SET_A) {\n\t\t\t\tvar charCode = bytes.shift();\n\t\t\t\treturn charCode < 32 ? charCode + 64 : charCode - 32;\n\t\t\t} else if (set === _constants.SET_B) {\n\t\t\t\treturn bytes.shift() - 32;\n\t\t\t} else {\n\t\t\t\treturn (bytes.shift() - 48) * 10 + bytes.shift() - 48;\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'next',\n\t\tvalue: function next(bytes, pos, set) {\n\t\t\tif (!bytes.length) {\n\t\t\t\treturn { result: '', checksum: 0 };\n\t\t\t}\n\n\t\t\tvar nextCode = void 0,\n\t\t\t    index = void 0;\n\n\t\t\t// Special characters\n\t\t\tif (bytes[0] >= 200) {\n\t\t\t\tindex = bytes.shift() - 105;\n\t\t\t\tvar nextSet = _constants.SWAP[index];\n\n\t\t\t\t// Swap to other set\n\t\t\t\tif (nextSet !== undefined) {\n\t\t\t\t\tnextCode = CODE128.next(bytes, pos + 1, nextSet);\n\t\t\t\t}\n\t\t\t\t// Continue on current set but encode a special character\n\t\t\t\telse {\n\t\t\t\t\t\t// Shift\n\t\t\t\t\t\tif ((set === _constants.SET_A || set === _constants.SET_B) && index === _constants.SHIFT) {\n\t\t\t\t\t\t\t// Convert the next character so that is encoded correctly\n\t\t\t\t\t\t\tbytes[0] = set === _constants.SET_A ? bytes[0] > 95 ? bytes[0] - 96 : bytes[0] : bytes[0] < 32 ? bytes[0] + 96 : bytes[0];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnextCode = CODE128.next(bytes, pos + 1, set);\n\t\t\t\t\t}\n\t\t\t}\n\t\t\t// Continue encoding\n\t\t\telse {\n\t\t\t\t\tindex = CODE128.correctIndex(bytes, set);\n\t\t\t\t\tnextCode = CODE128.next(bytes, pos + 1, set);\n\t\t\t\t}\n\n\t\t\t// Get the correct binary encoding and calculate the weight\n\t\t\tvar enc = CODE128.getBar(index);\n\t\t\tvar weight = index * pos;\n\n\t\t\treturn {\n\t\t\t\tresult: enc + nextCode.result,\n\t\t\t\tchecksum: weight + nextCode.checksum\n\t\t\t};\n\t\t}\n\t}]);\n\n\treturn CODE128;\n}(_Barcode3.default);\n\nexports.default = CODE128;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _constants = require('./constants');\n\n// Match Set functions\nvar matchSetALength = function matchSetALength(string) {\n\treturn string.match(new RegExp('^' + _constants.A_CHARS + '*'))[0].length;\n};\nvar matchSetBLength = function matchSetBLength(string) {\n\treturn string.match(new RegExp('^' + _constants.B_CHARS + '*'))[0].length;\n};\nvar matchSetC = function matchSetC(string) {\n\treturn string.match(new RegExp('^' + _constants.C_CHARS + '*'))[0];\n};\n\n// CODE128A or CODE128B\nfunction autoSelectFromAB(string, isA) {\n\tvar ranges = isA ? _constants.A_CHARS : _constants.B_CHARS;\n\tvar untilC = string.match(new RegExp('^(' + ranges + '+?)(([0-9]{2}){2,})([^0-9]|$)'));\n\n\tif (untilC) {\n\t\treturn untilC[1] + String.fromCharCode(204) + autoSelectFromC(string.substring(untilC[1].length));\n\t}\n\n\tvar chars = string.match(new RegExp('^' + ranges + '+'))[0];\n\n\tif (chars.length === string.length) {\n\t\treturn string;\n\t}\n\n\treturn chars + String.fromCharCode(isA ? 205 : 206) + autoSelectFromAB(string.substring(chars.length), !isA);\n}\n\n// CODE128C\nfunction autoSelectFromC(string) {\n\tvar cMatch = matchSetC(string);\n\tvar length = cMatch.length;\n\n\tif (length === string.length) {\n\t\treturn string;\n\t}\n\n\tstring = string.substring(length);\n\n\t// Select A/B depending on the longest match\n\tvar isA = matchSetALength(string) >= matchSetBLength(string);\n\treturn cMatch + String.fromCharCode(isA ? 206 : 205) + autoSelectFromAB(string, isA);\n}\n\n// Detect Code Set (A, B or C) and format the string\n\nexports.default = function (string) {\n\tvar newString = void 0;\n\tvar cLength = matchSetC(string).length;\n\n\t// Select 128C if the string start with enough digits\n\tif (cLength >= 2) {\n\t\tnewString = _constants.C_START_CHAR + autoSelectFromC(string);\n\t} else {\n\t\t// Select A/B depending on the longest match\n\t\tvar isA = matchSetALength(string) > matchSetBLength(string);\n\t\tnewString = (isA ? _constants.A_START_CHAR : _constants.B_START_CHAR) + autoSelectFromAB(string, isA);\n\t}\n\n\treturn newString.replace(/[\\xCD\\xCE]([^])[\\xCD\\xCE]/, // Any sequence between 205 and 206 characters\n\tfunction (match, char) {\n\t\treturn String.fromCharCode(203) + char;\n\t});\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _CODE2 = require('./CODE128');\n\nvar _CODE3 = _interopRequireDefault(_CODE2);\n\nvar _auto = require('./auto');\n\nvar _auto2 = _interopRequireDefault(_auto);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar CODE128AUTO = function (_CODE) {\n\t_inherits(CODE128AUTO, _CODE);\n\n\tfunction CODE128AUTO(data, options) {\n\t\t_classCallCheck(this, CODE128AUTO);\n\n\t\t// ASCII value ranges 0-127, 200-211\n\t\tif (/^[\\x00-\\x7F\\xC8-\\xD3]+$/.test(data)) {\n\t\t\tvar _this = _possibleConstructorReturn(this, (CODE128AUTO.__proto__ || Object.getPrototypeOf(CODE128AUTO)).call(this, (0, _auto2.default)(data), options));\n\t\t} else {\n\t\t\tvar _this = _possibleConstructorReturn(this, (CODE128AUTO.__proto__ || Object.getPrototypeOf(CODE128AUTO)).call(this, data, options));\n\t\t}\n\t\treturn _possibleConstructorReturn(_this);\n\t}\n\n\treturn CODE128AUTO;\n}(_CODE3.default);\n\nexports.default = CODE128AUTO;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _CODE2 = require('./CODE128.js');\n\nvar _CODE3 = _interopRequireDefault(_CODE2);\n\nvar _constants = require('./constants');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar CODE128A = function (_CODE) {\n\t_inherits(CODE128A, _CODE);\n\n\tfunction CODE128A(string, options) {\n\t\t_classCallCheck(this, CODE128A);\n\n\t\treturn _possibleConstructorReturn(this, (CODE128A.__proto__ || Object.getPrototypeOf(CODE128A)).call(this, _constants.A_START_CHAR + string, options));\n\t}\n\n\t_createClass(CODE128A, [{\n\t\tkey: 'valid',\n\t\tvalue: function valid() {\n\t\t\treturn new RegExp('^' + _constants.A_CHARS + '+$').test(this.data);\n\t\t}\n\t}]);\n\n\treturn CODE128A;\n}(_CODE3.default);\n\nexports.default = CODE128A;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _CODE2 = require('./CODE128.js');\n\nvar _CODE3 = _interopRequireDefault(_CODE2);\n\nvar _constants = require('./constants');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar CODE128B = function (_CODE) {\n\t_inherits(CODE128B, _CODE);\n\n\tfunction CODE128B(string, options) {\n\t\t_classCallCheck(this, CODE128B);\n\n\t\treturn _possibleConstructorReturn(this, (CODE128B.__proto__ || Object.getPrototypeOf(CODE128B)).call(this, _constants.B_START_CHAR + string, options));\n\t}\n\n\t_createClass(CODE128B, [{\n\t\tkey: 'valid',\n\t\tvalue: function valid() {\n\t\t\treturn new RegExp('^' + _constants.B_CHARS + '+$').test(this.data);\n\t\t}\n\t}]);\n\n\treturn CODE128B;\n}(_CODE3.default);\n\nexports.default = CODE128B;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _CODE2 = require('./CODE128.js');\n\nvar _CODE3 = _interopRequireDefault(_CODE2);\n\nvar _constants = require('./constants');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar CODE128C = function (_CODE) {\n\t_inherits(CODE128C, _CODE);\n\n\tfunction CODE128C(string, options) {\n\t\t_classCallCheck(this, CODE128C);\n\n\t\treturn _possibleConstructorReturn(this, (CODE128C.__proto__ || Object.getPrototypeOf(CODE128C)).call(this, _constants.C_START_CHAR + string, options));\n\t}\n\n\t_createClass(CODE128C, [{\n\t\tkey: 'valid',\n\t\tvalue: function valid() {\n\t\t\treturn new RegExp('^' + _constants.C_CHARS + '+$').test(this.data);\n\t\t}\n\t}]);\n\n\treturn CODE128C;\n}(_CODE3.default);\n\nexports.default = CODE128C;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CODE128C = exports.CODE128B = exports.CODE128A = exports.CODE128 = undefined;\n\nvar _CODE128_AUTO = require('./CODE128_AUTO.js');\n\nvar _CODE128_AUTO2 = _interopRequireDefault(_CODE128_AUTO);\n\nvar _CODE128A = require('./CODE128A.js');\n\nvar _CODE128A2 = _interopRequireDefault(_CODE128A);\n\nvar _CODE128B = require('./CODE128B.js');\n\nvar _CODE128B2 = _interopRequireDefault(_CODE128B);\n\nvar _CODE128C = require('./CODE128C.js');\n\nvar _CODE128C2 = _interopRequireDefault(_CODE128C);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.CODE128 = _CODE128_AUTO2.default;\nexports.CODE128A = _CODE128A2.default;\nexports.CODE128B = _CODE128B2.default;\nexports.CODE128C = _CODE128C2.default;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n// Standard start end and middle bits\nvar SIDE_BIN = exports.SIDE_BIN = '101';\nvar MIDDLE_BIN = exports.MIDDLE_BIN = '01010';\n\nvar BINARIES = exports.BINARIES = {\n\t'L': [// The L (left) type of encoding\n\t'0001101', '0011001', '0010011', '0111101', '0100011', '0110001', '0101111', '0111011', '0110111', '0001011'],\n\t'G': [// The G type of encoding\n\t'0100111', '0110011', '0011011', '0100001', '0011101', '0111001', '0000101', '0010001', '0001001', '0010111'],\n\t'R': [// The R (right) type of encoding\n\t'1110010', '1100110', '1101100', '1000010', '1011100', '1001110', '1010000', '1000100', '1001000', '1110100'],\n\t'O': [// The O (odd) encoding for UPC-E\n\t'0001101', '0011001', '0010011', '0111101', '0100011', '0110001', '0101111', '0111011', '0110111', '0001011'],\n\t'E': [// The E (even) encoding for UPC-E\n\t'0100111', '0110011', '0011011', '0100001', '0011101', '0111001', '0000101', '0010001', '0001001', '0010111']\n};\n\n// Define the EAN-2 structure\nvar EAN2_STRUCTURE = exports.EAN2_STRUCTURE = ['LL', 'LG', 'GL', 'GG'];\n\n// Define the EAN-5 structure\nvar EAN5_STRUCTURE = exports.EAN5_STRUCTURE = ['GGLLL', 'GLGLL', 'GLLGL', 'GLLLG', 'LGGLL', 'LLGGL', 'LLLGG', 'LGLGL', 'LGLLG', 'LLGLG'];\n\n// Define the EAN-13 structure\nvar EAN13_STRUCTURE = exports.EAN13_STRUCTURE = ['LLLLLL', 'LLGLGG', 'LLGGLG', 'LLGGGL', 'LGLLGG', 'LGGLLG', 'LGGGLL', 'LGLGLG', 'LGLGGL', 'LGGLGL'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _constants = require('./constants');\n\n// Encode data string\nvar encode = function encode(data, structure, separator) {\n\tvar encoded = data.split('').map(function (val, idx) {\n\t\treturn _constants.BINARIES[structure[idx]];\n\t}).map(function (val, idx) {\n\t\treturn val ? val[data[idx]] : '';\n\t});\n\n\tif (separator) {\n\t\tvar last = data.length - 1;\n\t\tencoded = encoded.map(function (val, idx) {\n\t\t\treturn idx < last ? val + separator : val;\n\t\t});\n\t}\n\n\treturn encoded.join('');\n};\n\nexports.default = encode;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _constants = require('./constants');\n\nvar _encoder = require('./encoder');\n\nvar _encoder2 = _interopRequireDefault(_encoder);\n\nvar _Barcode2 = require('../Barcode');\n\nvar _Barcode3 = _interopRequireDefault(_Barcode2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// Base class for EAN8 & EAN13\nvar EAN = function (_Barcode) {\n\t_inherits(EAN, _Barcode);\n\n\tfunction EAN(data, options) {\n\t\t_classCallCheck(this, EAN);\n\n\t\t// Make sure the font is not bigger than the space between the guard bars\n\t\tvar _this = _possibleConstructorReturn(this, (EAN.__proto__ || Object.getPrototypeOf(EAN)).call(this, data, options));\n\n\t\t_this.fontSize = !options.flat && options.fontSize > options.width * 10 ? options.width * 10 : options.fontSize;\n\n\t\t// Make the guard bars go down half the way of the text\n\t\t_this.guardHeight = options.height + _this.fontSize / 2 + options.textMargin;\n\t\treturn _this;\n\t}\n\n\t_createClass(EAN, [{\n\t\tkey: 'encode',\n\t\tvalue: function encode() {\n\t\t\treturn this.options.flat ? this.encodeFlat() : this.encodeGuarded();\n\t\t}\n\t}, {\n\t\tkey: 'leftText',\n\t\tvalue: function leftText(from, to) {\n\t\t\treturn this.text.substr(from, to);\n\t\t}\n\t}, {\n\t\tkey: 'leftEncode',\n\t\tvalue: function leftEncode(data, structure) {\n\t\t\treturn (0, _encoder2.default)(data, structure);\n\t\t}\n\t}, {\n\t\tkey: 'rightText',\n\t\tvalue: function rightText(from, to) {\n\t\t\treturn this.text.substr(from, to);\n\t\t}\n\t}, {\n\t\tkey: 'rightEncode',\n\t\tvalue: function rightEncode(data, structure) {\n\t\t\treturn (0, _encoder2.default)(data, structure);\n\t\t}\n\t}, {\n\t\tkey: 'encodeGuarded',\n\t\tvalue: function encodeGuarded() {\n\t\t\tvar textOptions = { fontSize: this.fontSize };\n\t\t\tvar guardOptions = { height: this.guardHeight };\n\n\t\t\treturn [{ data: _constants.SIDE_BIN, options: guardOptions }, { data: this.leftEncode(), text: this.leftText(), options: textOptions }, { data: _constants.MIDDLE_BIN, options: guardOptions }, { data: this.rightEncode(), text: this.rightText(), options: textOptions }, { data: _constants.SIDE_BIN, options: guardOptions }];\n\t\t}\n\t}, {\n\t\tkey: 'encodeFlat',\n\t\tvalue: function encodeFlat() {\n\t\t\tvar data = [_constants.SIDE_BIN, this.leftEncode(), _constants.MIDDLE_BIN, this.rightEncode(), _constants.SIDE_BIN];\n\n\t\t\treturn {\n\t\t\t\tdata: data.join(''),\n\t\t\t\ttext: this.text\n\t\t\t};\n\t\t}\n\t}]);\n\n\treturn EAN;\n}(_Barcode3.default);\n\nexports.default = EAN;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _constants = require('./constants');\n\nvar _EAN2 = require('./EAN');\n\nvar _EAN3 = _interopRequireDefault(_EAN2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // Encoding documentation:\n// https://en.wikipedia.org/wiki/International_Article_Number_(EAN)#Binary_encoding_of_data_digits_into_EAN-13_barcode\n\n// Calculate the checksum digit\n// https://en.wikipedia.org/wiki/International_Article_Number_(EAN)#Calculation_of_checksum_digit\nvar checksum = function checksum(number) {\n\tvar res = number.substr(0, 12).split('').map(function (n) {\n\t\treturn +n;\n\t}).reduce(function (sum, a, idx) {\n\t\treturn idx % 2 ? sum + a * 3 : sum + a;\n\t}, 0);\n\n\treturn (10 - res % 10) % 10;\n};\n\nvar EAN13 = function (_EAN) {\n\t_inherits(EAN13, _EAN);\n\n\tfunction EAN13(data, options) {\n\t\t_classCallCheck(this, EAN13);\n\n\t\t// Add checksum if it does not exist\n\t\tif (data.search(/^[0-9]{12}$/) !== -1) {\n\t\t\tdata += checksum(data);\n\t\t}\n\n\t\t// Adds a last character to the end of the barcode\n\t\tvar _this = _possibleConstructorReturn(this, (EAN13.__proto__ || Object.getPrototypeOf(EAN13)).call(this, data, options));\n\n\t\t_this.lastChar = options.lastChar;\n\t\treturn _this;\n\t}\n\n\t_createClass(EAN13, [{\n\t\tkey: 'valid',\n\t\tvalue: function valid() {\n\t\t\treturn this.data.search(/^[0-9]{13}$/) !== -1 && +this.data[12] === checksum(this.data);\n\t\t}\n\t}, {\n\t\tkey: 'leftText',\n\t\tvalue: function leftText() {\n\t\t\treturn _get(EAN13.prototype.__proto__ || Object.getPrototypeOf(EAN13.prototype), 'leftText', this).call(this, 1, 6);\n\t\t}\n\t}, {\n\t\tkey: 'leftEncode',\n\t\tvalue: function leftEncode() {\n\t\t\tvar data = this.data.substr(1, 6);\n\t\t\tvar structure = _constants.EAN13_STRUCTURE[this.data[0]];\n\t\t\treturn _get(EAN13.prototype.__proto__ || Object.getPrototypeOf(EAN13.prototype), 'leftEncode', this).call(this, data, structure);\n\t\t}\n\t}, {\n\t\tkey: 'rightText',\n\t\tvalue: function rightText() {\n\t\t\treturn _get(EAN13.prototype.__proto__ || Object.getPrototypeOf(EAN13.prototype), 'rightText', this).call(this, 7, 6);\n\t\t}\n\t}, {\n\t\tkey: 'rightEncode',\n\t\tvalue: function rightEncode() {\n\t\t\tvar data = this.data.substr(7, 6);\n\t\t\treturn _get(EAN13.prototype.__proto__ || Object.getPrototypeOf(EAN13.prototype), 'rightEncode', this).call(this, data, 'RRRRRR');\n\t\t}\n\n\t\t// The \"standard\" way of printing EAN13 barcodes with guard bars\n\n\t}, {\n\t\tkey: 'encodeGuarded',\n\t\tvalue: function encodeGuarded() {\n\t\t\tvar data = _get(EAN13.prototype.__proto__ || Object.getPrototypeOf(EAN13.prototype), 'encodeGuarded', this).call(this);\n\n\t\t\t// Extend data with left digit & last character\n\t\t\tif (this.options.displayValue) {\n\t\t\t\tdata.unshift({\n\t\t\t\t\tdata: '000000000000',\n\t\t\t\t\ttext: this.text.substr(0, 1),\n\t\t\t\t\toptions: { textAlign: 'left', fontSize: this.fontSize }\n\t\t\t\t});\n\n\t\t\t\tif (this.options.lastChar) {\n\t\t\t\t\tdata.push({\n\t\t\t\t\t\tdata: '00'\n\t\t\t\t\t});\n\t\t\t\t\tdata.push({\n\t\t\t\t\t\tdata: '00000',\n\t\t\t\t\t\ttext: this.options.lastChar,\n\t\t\t\t\t\toptions: { fontSize: this.fontSize }\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn data;\n\t\t}\n\t}]);\n\n\treturn EAN13;\n}(_EAN3.default);\n\nexports.default = EAN13;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _EAN2 = require('./EAN');\n\nvar _EAN3 = _interopRequireDefault(_EAN2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // Encoding documentation:\n// http://www.barcodeisland.com/ean8.phtml\n\n// Calculate the checksum digit\nvar checksum = function checksum(number) {\n\tvar res = number.substr(0, 7).split('').map(function (n) {\n\t\treturn +n;\n\t}).reduce(function (sum, a, idx) {\n\t\treturn idx % 2 ? sum + a : sum + a * 3;\n\t}, 0);\n\n\treturn (10 - res % 10) % 10;\n};\n\nvar EAN8 = function (_EAN) {\n\t_inherits(EAN8, _EAN);\n\n\tfunction EAN8(data, options) {\n\t\t_classCallCheck(this, EAN8);\n\n\t\t// Add checksum if it does not exist\n\t\tif (data.search(/^[0-9]{7}$/) !== -1) {\n\t\t\tdata += checksum(data);\n\t\t}\n\n\t\treturn _possibleConstructorReturn(this, (EAN8.__proto__ || Object.getPrototypeOf(EAN8)).call(this, data, options));\n\t}\n\n\t_createClass(EAN8, [{\n\t\tkey: 'valid',\n\t\tvalue: function valid() {\n\t\t\treturn this.data.search(/^[0-9]{8}$/) !== -1 && +this.data[7] === checksum(this.data);\n\t\t}\n\t}, {\n\t\tkey: 'leftText',\n\t\tvalue: function leftText() {\n\t\t\treturn _get(EAN8.prototype.__proto__ || Object.getPrototypeOf(EAN8.prototype), 'leftText', this).call(this, 0, 4);\n\t\t}\n\t}, {\n\t\tkey: 'leftEncode',\n\t\tvalue: function leftEncode() {\n\t\t\tvar data = this.data.substr(0, 4);\n\t\t\treturn _get(EAN8.prototype.__proto__ || Object.getPrototypeOf(EAN8.prototype), 'leftEncode', this).call(this, data, 'LLLL');\n\t\t}\n\t}, {\n\t\tkey: 'rightText',\n\t\tvalue: function rightText() {\n\t\t\treturn _get(EAN8.prototype.__proto__ || Object.getPrototypeOf(EAN8.prototype), 'rightText', this).call(this, 4, 4);\n\t\t}\n\t}, {\n\t\tkey: 'rightEncode',\n\t\tvalue: function rightEncode() {\n\t\t\tvar data = this.data.substr(4, 4);\n\t\t\treturn _get(EAN8.prototype.__proto__ || Object.getPrototypeOf(EAN8.prototype), 'rightEncode', this).call(this, data, 'RRRR');\n\t\t}\n\t}]);\n\n\treturn EAN8;\n}(_EAN3.default);\n\nexports.default = EAN8;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _constants = require('./constants');\n\nvar _encoder = require('./encoder');\n\nvar _encoder2 = _interopRequireDefault(_encoder);\n\nvar _Barcode2 = require('../Barcode');\n\nvar _Barcode3 = _interopRequireDefault(_Barcode2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // Encoding documentation:\n// https://en.wikipedia.org/wiki/EAN_5#Encoding\n\nvar checksum = function checksum(data) {\n\tvar result = data.split('').map(function (n) {\n\t\treturn +n;\n\t}).reduce(function (sum, a, idx) {\n\t\treturn idx % 2 ? sum + a * 9 : sum + a * 3;\n\t}, 0);\n\treturn result % 10;\n};\n\nvar EAN5 = function (_Barcode) {\n\t_inherits(EAN5, _Barcode);\n\n\tfunction EAN5(data, options) {\n\t\t_classCallCheck(this, EAN5);\n\n\t\treturn _possibleConstructorReturn(this, (EAN5.__proto__ || Object.getPrototypeOf(EAN5)).call(this, data, options));\n\t}\n\n\t_createClass(EAN5, [{\n\t\tkey: 'valid',\n\t\tvalue: function valid() {\n\t\t\treturn this.data.search(/^[0-9]{5}$/) !== -1;\n\t\t}\n\t}, {\n\t\tkey: 'encode',\n\t\tvalue: function encode() {\n\t\t\tvar structure = _constants.EAN5_STRUCTURE[checksum(this.data)];\n\t\t\treturn {\n\t\t\t\tdata: '1011' + (0, _encoder2.default)(this.data, structure, '01'),\n\t\t\t\ttext: this.text\n\t\t\t};\n\t\t}\n\t}]);\n\n\treturn EAN5;\n}(_Barcode3.default);\n\nexports.default = EAN5;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _constants = require('./constants');\n\nvar _encoder = require('./encoder');\n\nvar _encoder2 = _interopRequireDefault(_encoder);\n\nvar _Barcode2 = require('../Barcode');\n\nvar _Barcode3 = _interopRequireDefault(_Barcode2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // Encoding documentation:\n// https://en.wikipedia.org/wiki/EAN_2#Encoding\n\nvar EAN2 = function (_Barcode) {\n\t_inherits(EAN2, _Barcode);\n\n\tfunction EAN2(data, options) {\n\t\t_classCallCheck(this, EAN2);\n\n\t\treturn _possibleConstructorReturn(this, (EAN2.__proto__ || Object.getPrototypeOf(EAN2)).call(this, data, options));\n\t}\n\n\t_createClass(EAN2, [{\n\t\tkey: 'valid',\n\t\tvalue: function valid() {\n\t\t\treturn this.data.search(/^[0-9]{2}$/) !== -1;\n\t\t}\n\t}, {\n\t\tkey: 'encode',\n\t\tvalue: function encode() {\n\t\t\t// Choose the structure based on the number mod 4\n\t\t\tvar structure = _constants.EAN2_STRUCTURE[parseInt(this.data) % 4];\n\t\t\treturn {\n\t\t\t\t// Start bits + Encode the two digits with 01 in between\n\t\t\t\tdata: '1011' + (0, _encoder2.default)(this.data, structure, '01'),\n\t\t\t\ttext: this.text\n\t\t\t};\n\t\t}\n\t}]);\n\n\treturn EAN2;\n}(_Barcode3.default);\n\nexports.default = EAN2;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.checksum = checksum;\n\nvar _encoder = require(\"./encoder\");\n\nvar _encoder2 = _interopRequireDefault(_encoder);\n\nvar _Barcode2 = require(\"../Barcode.js\");\n\nvar _Barcode3 = _interopRequireDefault(_Barcode2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // Encoding documentation:\n// https://en.wikipedia.org/wiki/Universal_Product_Code#Encoding\n\nvar UPC = function (_Barcode) {\n\t_inherits(UPC, _Barcode);\n\n\tfunction UPC(data, options) {\n\t\t_classCallCheck(this, UPC);\n\n\t\t// Add checksum if it does not exist\n\t\tif (data.search(/^[0-9]{11}$/) !== -1) {\n\t\t\tdata += checksum(data);\n\t\t}\n\n\t\tvar _this = _possibleConstructorReturn(this, (UPC.__proto__ || Object.getPrototypeOf(UPC)).call(this, data, options));\n\n\t\t_this.displayValue = options.displayValue;\n\n\t\t// Make sure the font is not bigger than the space between the guard bars\n\t\tif (options.fontSize > options.width * 10) {\n\t\t\t_this.fontSize = options.width * 10;\n\t\t} else {\n\t\t\t_this.fontSize = options.fontSize;\n\t\t}\n\n\t\t// Make the guard bars go down half the way of the text\n\t\t_this.guardHeight = options.height + _this.fontSize / 2 + options.textMargin;\n\t\treturn _this;\n\t}\n\n\t_createClass(UPC, [{\n\t\tkey: \"valid\",\n\t\tvalue: function valid() {\n\t\t\treturn this.data.search(/^[0-9]{12}$/) !== -1 && this.data[11] == checksum(this.data);\n\t\t}\n\t}, {\n\t\tkey: \"encode\",\n\t\tvalue: function encode() {\n\t\t\tif (this.options.flat) {\n\t\t\t\treturn this.flatEncoding();\n\t\t\t} else {\n\t\t\t\treturn this.guardedEncoding();\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: \"flatEncoding\",\n\t\tvalue: function flatEncoding() {\n\t\t\tvar result = \"\";\n\n\t\t\tresult += \"101\";\n\t\t\tresult += (0, _encoder2.default)(this.data.substr(0, 6), \"LLLLLL\");\n\t\t\tresult += \"01010\";\n\t\t\tresult += (0, _encoder2.default)(this.data.substr(6, 6), \"RRRRRR\");\n\t\t\tresult += \"101\";\n\n\t\t\treturn {\n\t\t\t\tdata: result,\n\t\t\t\ttext: this.text\n\t\t\t};\n\t\t}\n\t}, {\n\t\tkey: \"guardedEncoding\",\n\t\tvalue: function guardedEncoding() {\n\t\t\tvar result = [];\n\n\t\t\t// Add the first digit\n\t\t\tif (this.displayValue) {\n\t\t\t\tresult.push({\n\t\t\t\t\tdata: \"00000000\",\n\t\t\t\t\ttext: this.text.substr(0, 1),\n\t\t\t\t\toptions: { textAlign: \"left\", fontSize: this.fontSize }\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Add the guard bars\n\t\t\tresult.push({\n\t\t\t\tdata: \"101\" + (0, _encoder2.default)(this.data[0], \"L\"),\n\t\t\t\toptions: { height: this.guardHeight }\n\t\t\t});\n\n\t\t\t// Add the left side\n\t\t\tresult.push({\n\t\t\t\tdata: (0, _encoder2.default)(this.data.substr(1, 5), \"LLLLL\"),\n\t\t\t\ttext: this.text.substr(1, 5),\n\t\t\t\toptions: { fontSize: this.fontSize }\n\t\t\t});\n\n\t\t\t// Add the middle bits\n\t\t\tresult.push({\n\t\t\t\tdata: \"01010\",\n\t\t\t\toptions: { height: this.guardHeight }\n\t\t\t});\n\n\t\t\t// Add the right side\n\t\t\tresult.push({\n\t\t\t\tdata: (0, _encoder2.default)(this.data.substr(6, 5), \"RRRRR\"),\n\t\t\t\ttext: this.text.substr(6, 5),\n\t\t\t\toptions: { fontSize: this.fontSize }\n\t\t\t});\n\n\t\t\t// Add the end bits\n\t\t\tresult.push({\n\t\t\t\tdata: (0, _encoder2.default)(this.data[11], \"R\") + \"101\",\n\t\t\t\toptions: { height: this.guardHeight }\n\t\t\t});\n\n\t\t\t// Add the last digit\n\t\t\tif (this.displayValue) {\n\t\t\t\tresult.push({\n\t\t\t\t\tdata: \"00000000\",\n\t\t\t\t\ttext: this.text.substr(11, 1),\n\t\t\t\t\toptions: { textAlign: \"right\", fontSize: this.fontSize }\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\t}]);\n\n\treturn UPC;\n}(_Barcode3.default);\n\n// Calulate the checksum digit\n// https://en.wikipedia.org/wiki/International_Article_Number_(EAN)#Calculation_of_checksum_digit\n\n\nfunction checksum(number) {\n\tvar result = 0;\n\n\tvar i;\n\tfor (i = 1; i < 11; i += 2) {\n\t\tresult += parseInt(number[i]);\n\t}\n\tfor (i = 0; i < 11; i += 2) {\n\t\tresult += parseInt(number[i]) * 3;\n\t}\n\n\treturn (10 - result % 10) % 10;\n}\n\nexports.default = UPC;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _encoder = require('./encoder');\n\nvar _encoder2 = _interopRequireDefault(_encoder);\n\nvar _Barcode2 = require('../Barcode.js');\n\nvar _Barcode3 = _interopRequireDefault(_Barcode2);\n\nvar _UPC = require('./UPC.js');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // Encoding documentation:\n// https://en.wikipedia.org/wiki/Universal_Product_Code#Encoding\n//\n// UPC-E documentation:\n// https://en.wikipedia.org/wiki/Universal_Product_Code#UPC-E\n\nvar EXPANSIONS = [\"XX00000XXX\", \"XX10000XXX\", \"XX20000XXX\", \"XXX00000XX\", \"XXXX00000X\", \"XXXXX00005\", \"XXXXX00006\", \"XXXXX00007\", \"XXXXX00008\", \"XXXXX00009\"];\n\nvar PARITIES = [[\"EEEOOO\", \"OOOEEE\"], [\"EEOEOO\", \"OOEOEE\"], [\"EEOOEO\", \"OOEEOE\"], [\"EEOOOE\", \"OOEEEO\"], [\"EOEEOO\", \"OEOOEE\"], [\"EOOEEO\", \"OEEOOE\"], [\"EOOOEE\", \"OEEEOO\"], [\"EOEOEO\", \"OEOEOE\"], [\"EOEOOE\", \"OEOEEO\"], [\"EOOEOE\", \"OEEOEO\"]];\n\nvar UPCE = function (_Barcode) {\n\t_inherits(UPCE, _Barcode);\n\n\tfunction UPCE(data, options) {\n\t\t_classCallCheck(this, UPCE);\n\n\t\tvar _this = _possibleConstructorReturn(this, (UPCE.__proto__ || Object.getPrototypeOf(UPCE)).call(this, data, options));\n\t\t// Code may be 6 or 8 digits;\n\t\t// A 7 digit code is ambiguous as to whether the extra digit\n\t\t// is a UPC-A check or number system digit.\n\n\n\t\t_this.isValid = false;\n\t\tif (data.search(/^[0-9]{6}$/) !== -1) {\n\t\t\t_this.middleDigits = data;\n\t\t\t_this.upcA = expandToUPCA(data, \"0\");\n\t\t\t_this.text = options.text || '' + _this.upcA[0] + data + _this.upcA[_this.upcA.length - 1];\n\t\t\t_this.isValid = true;\n\t\t} else if (data.search(/^[01][0-9]{7}$/) !== -1) {\n\t\t\t_this.middleDigits = data.substring(1, data.length - 1);\n\t\t\t_this.upcA = expandToUPCA(_this.middleDigits, data[0]);\n\n\t\t\tif (_this.upcA[_this.upcA.length - 1] === data[data.length - 1]) {\n\t\t\t\t_this.isValid = true;\n\t\t\t} else {\n\t\t\t\t// checksum mismatch\n\t\t\t\treturn _possibleConstructorReturn(_this);\n\t\t\t}\n\t\t} else {\n\t\t\treturn _possibleConstructorReturn(_this);\n\t\t}\n\n\t\t_this.displayValue = options.displayValue;\n\n\t\t// Make sure the font is not bigger than the space between the guard bars\n\t\tif (options.fontSize > options.width * 10) {\n\t\t\t_this.fontSize = options.width * 10;\n\t\t} else {\n\t\t\t_this.fontSize = options.fontSize;\n\t\t}\n\n\t\t// Make the guard bars go down half the way of the text\n\t\t_this.guardHeight = options.height + _this.fontSize / 2 + options.textMargin;\n\t\treturn _this;\n\t}\n\n\t_createClass(UPCE, [{\n\t\tkey: 'valid',\n\t\tvalue: function valid() {\n\t\t\treturn this.isValid;\n\t\t}\n\t}, {\n\t\tkey: 'encode',\n\t\tvalue: function encode() {\n\t\t\tif (this.options.flat) {\n\t\t\t\treturn this.flatEncoding();\n\t\t\t} else {\n\t\t\t\treturn this.guardedEncoding();\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'flatEncoding',\n\t\tvalue: function flatEncoding() {\n\t\t\tvar result = \"\";\n\n\t\t\tresult += \"101\";\n\t\t\tresult += this.encodeMiddleDigits();\n\t\t\tresult += \"010101\";\n\n\t\t\treturn {\n\t\t\t\tdata: result,\n\t\t\t\ttext: this.text\n\t\t\t};\n\t\t}\n\t}, {\n\t\tkey: 'guardedEncoding',\n\t\tvalue: function guardedEncoding() {\n\t\t\tvar result = [];\n\n\t\t\t// Add the UPC-A number system digit beneath the quiet zone\n\t\t\tif (this.displayValue) {\n\t\t\t\tresult.push({\n\t\t\t\t\tdata: \"00000000\",\n\t\t\t\t\ttext: this.text[0],\n\t\t\t\t\toptions: { textAlign: \"left\", fontSize: this.fontSize }\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Add the guard bars\n\t\t\tresult.push({\n\t\t\t\tdata: \"101\",\n\t\t\t\toptions: { height: this.guardHeight }\n\t\t\t});\n\n\t\t\t// Add the 6 UPC-E digits\n\t\t\tresult.push({\n\t\t\t\tdata: this.encodeMiddleDigits(),\n\t\t\t\ttext: this.text.substring(1, 7),\n\t\t\t\toptions: { fontSize: this.fontSize }\n\t\t\t});\n\n\t\t\t// Add the end bits\n\t\t\tresult.push({\n\t\t\t\tdata: \"010101\",\n\t\t\t\toptions: { height: this.guardHeight }\n\t\t\t});\n\n\t\t\t// Add the UPC-A check digit beneath the quiet zone\n\t\t\tif (this.displayValue) {\n\t\t\t\tresult.push({\n\t\t\t\t\tdata: \"00000000\",\n\t\t\t\t\ttext: this.text[7],\n\t\t\t\t\toptions: { textAlign: \"right\", fontSize: this.fontSize }\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\t}, {\n\t\tkey: 'encodeMiddleDigits',\n\t\tvalue: function encodeMiddleDigits() {\n\t\t\tvar numberSystem = this.upcA[0];\n\t\t\tvar checkDigit = this.upcA[this.upcA.length - 1];\n\t\t\tvar parity = PARITIES[parseInt(checkDigit)][parseInt(numberSystem)];\n\t\t\treturn (0, _encoder2.default)(this.middleDigits, parity);\n\t\t}\n\t}]);\n\n\treturn UPCE;\n}(_Barcode3.default);\n\nfunction expandToUPCA(middleDigits, numberSystem) {\n\tvar lastUpcE = parseInt(middleDigits[middleDigits.length - 1]);\n\tvar expansion = EXPANSIONS[lastUpcE];\n\n\tvar result = \"\";\n\tvar digitIndex = 0;\n\tfor (var i = 0; i < expansion.length; i++) {\n\t\tvar c = expansion[i];\n\t\tif (c === 'X') {\n\t\t\tresult += middleDigits[digitIndex++];\n\t\t} else {\n\t\t\tresult += c;\n\t\t}\n\t}\n\n\tresult = '' + numberSystem + result;\n\treturn '' + result + (0, _UPC.checksum)(result);\n}\n\nexports.default = UPCE;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.UPCE = exports.UPC = exports.EAN2 = exports.EAN5 = exports.EAN8 = exports.EAN13 = undefined;\n\nvar _EAN = require('./EAN13.js');\n\nvar _EAN2 = _interopRequireDefault(_EAN);\n\nvar _EAN3 = require('./EAN8.js');\n\nvar _EAN4 = _interopRequireDefault(_EAN3);\n\nvar _EAN5 = require('./EAN5.js');\n\nvar _EAN6 = _interopRequireDefault(_EAN5);\n\nvar _EAN7 = require('./EAN2.js');\n\nvar _EAN8 = _interopRequireDefault(_EAN7);\n\nvar _UPC = require('./UPC.js');\n\nvar _UPC2 = _interopRequireDefault(_UPC);\n\nvar _UPCE = require('./UPCE.js');\n\nvar _UPCE2 = _interopRequireDefault(_UPCE);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.EAN13 = _EAN2.default;\nexports.EAN8 = _EAN4.default;\nexports.EAN5 = _EAN6.default;\nexports.EAN2 = _EAN8.default;\nexports.UPC = _UPC2.default;\nexports.UPCE = _UPCE2.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.ITF14 = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Barcode2 = require(\"../Barcode.js\");\n\nvar _Barcode3 = _interopRequireDefault(_Barcode2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ITF14 = function (_Barcode) {\n\t_inherits(ITF14, _Barcode);\n\n\tfunction ITF14(data, options) {\n\t\t_classCallCheck(this, ITF14);\n\n\t\t// Add checksum if it does not exist\n\t\tif (data.search(/^[0-9]{13}$/) !== -1) {\n\t\t\tdata += checksum(data);\n\t\t}\n\n\t\tvar _this = _possibleConstructorReturn(this, (ITF14.__proto__ || Object.getPrototypeOf(ITF14)).call(this, data, options));\n\n\t\t_this.binaryRepresentation = {\n\t\t\t\"0\": \"00110\",\n\t\t\t\"1\": \"10001\",\n\t\t\t\"2\": \"01001\",\n\t\t\t\"3\": \"11000\",\n\t\t\t\"4\": \"00101\",\n\t\t\t\"5\": \"10100\",\n\t\t\t\"6\": \"01100\",\n\t\t\t\"7\": \"00011\",\n\t\t\t\"8\": \"10010\",\n\t\t\t\"9\": \"01010\"\n\t\t};\n\t\treturn _this;\n\t}\n\n\t_createClass(ITF14, [{\n\t\tkey: \"valid\",\n\t\tvalue: function valid() {\n\t\t\treturn this.data.search(/^[0-9]{14}$/) !== -1 && this.data[13] == checksum(this.data);\n\t\t}\n\t}, {\n\t\tkey: \"encode\",\n\t\tvalue: function encode() {\n\t\t\tvar result = \"1010\";\n\n\t\t\t// Calculate all the digit pairs\n\t\t\tfor (var i = 0; i < 14; i += 2) {\n\t\t\t\tresult += this.calculatePair(this.data.substr(i, 2));\n\t\t\t}\n\n\t\t\t// Always add the same end bits\n\t\t\tresult += \"11101\";\n\n\t\t\treturn {\n\t\t\t\tdata: result,\n\t\t\t\ttext: this.text\n\t\t\t};\n\t\t}\n\n\t\t// Calculate the data of a number pair\n\n\t}, {\n\t\tkey: \"calculatePair\",\n\t\tvalue: function calculatePair(numberPair) {\n\t\t\tvar result = \"\";\n\n\t\t\tvar number1Struct = this.binaryRepresentation[numberPair[0]];\n\t\t\tvar number2Struct = this.binaryRepresentation[numberPair[1]];\n\n\t\t\t// Take every second bit and add to the result\n\t\t\tfor (var i = 0; i < 5; i++) {\n\t\t\t\tresult += number1Struct[i] == \"1\" ? \"111\" : \"1\";\n\t\t\t\tresult += number2Struct[i] == \"1\" ? \"000\" : \"0\";\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\t}]);\n\n\treturn ITF14;\n}(_Barcode3.default);\n\n// Calulate the checksum digit\n\n\nfunction checksum(data) {\n\tvar result = 0;\n\n\tfor (var i = 0; i < 13; i++) {\n\t\tresult += parseInt(data[i]) * (3 - i % 2 * 2);\n\t}\n\n\treturn Math.ceil(result / 10) * 10 - result;\n}\n\nexports.ITF14 = ITF14;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.ITF = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Barcode2 = require(\"../Barcode.js\");\n\nvar _Barcode3 = _interopRequireDefault(_Barcode2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ITF = function (_Barcode) {\n\t_inherits(ITF, _Barcode);\n\n\tfunction ITF(data, options) {\n\t\t_classCallCheck(this, ITF);\n\n\t\tvar _this = _possibleConstructorReturn(this, (ITF.__proto__ || Object.getPrototypeOf(ITF)).call(this, data, options));\n\n\t\t_this.binaryRepresentation = {\n\t\t\t\"0\": \"00110\",\n\t\t\t\"1\": \"10001\",\n\t\t\t\"2\": \"01001\",\n\t\t\t\"3\": \"11000\",\n\t\t\t\"4\": \"00101\",\n\t\t\t\"5\": \"10100\",\n\t\t\t\"6\": \"01100\",\n\t\t\t\"7\": \"00011\",\n\t\t\t\"8\": \"10010\",\n\t\t\t\"9\": \"01010\"\n\t\t};\n\t\treturn _this;\n\t}\n\n\t_createClass(ITF, [{\n\t\tkey: \"valid\",\n\t\tvalue: function valid() {\n\t\t\treturn this.data.search(/^([0-9]{2})+$/) !== -1;\n\t\t}\n\t}, {\n\t\tkey: \"encode\",\n\t\tvalue: function encode() {\n\t\t\t// Always add the same start bits\n\t\t\tvar result = \"1010\";\n\n\t\t\t// Calculate all the digit pairs\n\t\t\tfor (var i = 0; i < this.data.length; i += 2) {\n\t\t\t\tresult += this.calculatePair(this.data.substr(i, 2));\n\t\t\t}\n\n\t\t\t// Always add the same end bits\n\t\t\tresult += \"11101\";\n\n\t\t\treturn {\n\t\t\t\tdata: result,\n\t\t\t\ttext: this.text\n\t\t\t};\n\t\t}\n\n\t\t// Calculate the data of a number pair\n\n\t}, {\n\t\tkey: \"calculatePair\",\n\t\tvalue: function calculatePair(numberPair) {\n\t\t\tvar result = \"\";\n\n\t\t\tvar number1Struct = this.binaryRepresentation[numberPair[0]];\n\t\t\tvar number2Struct = this.binaryRepresentation[numberPair[1]];\n\n\t\t\t// Take every second bit and add to the result\n\t\t\tfor (var i = 0; i < 5; i++) {\n\t\t\t\tresult += number1Struct[i] == \"1\" ? \"111\" : \"1\";\n\t\t\t\tresult += number2Struct[i] == \"1\" ? \"000\" : \"0\";\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\t}]);\n\n\treturn ITF;\n}(_Barcode3.default);\n\nexports.ITF = ITF;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Barcode2 = require(\"../Barcode.js\");\n\nvar _Barcode3 = _interopRequireDefault(_Barcode2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // Encoding documentation\n// https://en.wikipedia.org/wiki/MSI_Barcode#Character_set_and_binary_lookup\n\nvar MSI = function (_Barcode) {\n\t_inherits(MSI, _Barcode);\n\n\tfunction MSI(data, options) {\n\t\t_classCallCheck(this, MSI);\n\n\t\treturn _possibleConstructorReturn(this, (MSI.__proto__ || Object.getPrototypeOf(MSI)).call(this, data, options));\n\t}\n\n\t_createClass(MSI, [{\n\t\tkey: \"encode\",\n\t\tvalue: function encode() {\n\t\t\t// Start bits\n\t\t\tvar ret = \"110\";\n\n\t\t\tfor (var i = 0; i < this.data.length; i++) {\n\t\t\t\t// Convert the character to binary (always 4 binary digits)\n\t\t\t\tvar digit = parseInt(this.data[i]);\n\t\t\t\tvar bin = digit.toString(2);\n\t\t\t\tbin = addZeroes(bin, 4 - bin.length);\n\n\t\t\t\t// Add 100 for every zero and 110 for every 1\n\t\t\t\tfor (var b = 0; b < bin.length; b++) {\n\t\t\t\t\tret += bin[b] == \"0\" ? \"100\" : \"110\";\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// End bits\n\t\t\tret += \"1001\";\n\n\t\t\treturn {\n\t\t\t\tdata: ret,\n\t\t\t\ttext: this.text\n\t\t\t};\n\t\t}\n\t}, {\n\t\tkey: \"valid\",\n\t\tvalue: function valid() {\n\t\t\treturn this.data.search(/^[0-9]+$/) !== -1;\n\t\t}\n\t}]);\n\n\treturn MSI;\n}(_Barcode3.default);\n\nfunction addZeroes(number, n) {\n\tfor (var i = 0; i < n; i++) {\n\t\tnumber = \"0\" + number;\n\t}\n\treturn number;\n}\n\nexports.default = MSI;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.mod10 = mod10;\nexports.mod11 = mod11;\nfunction mod10(number) {\n\tvar sum = 0;\n\tfor (var i = 0; i < number.length; i++) {\n\t\tvar n = parseInt(number[i]);\n\t\tif ((i + number.length) % 2 === 0) {\n\t\t\tsum += n;\n\t\t} else {\n\t\t\tsum += n * 2 % 10 + Math.floor(n * 2 / 10);\n\t\t}\n\t}\n\treturn (10 - sum % 10) % 10;\n}\n\nfunction mod11(number) {\n\tvar sum = 0;\n\tvar weights = [2, 3, 4, 5, 6, 7];\n\tfor (var i = 0; i < number.length; i++) {\n\t\tvar n = parseInt(number[number.length - 1 - i]);\n\t\tsum += weights[i % weights.length] * n;\n\t}\n\treturn (11 - sum % 11) % 11;\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _MSI2 = require('./MSI.js');\n\nvar _MSI3 = _interopRequireDefault(_MSI2);\n\nvar _checksums = require('./checksums.js');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar MSI10 = function (_MSI) {\n\t_inherits(MSI10, _MSI);\n\n\tfunction MSI10(data, options) {\n\t\t_classCallCheck(this, MSI10);\n\n\t\treturn _possibleConstructorReturn(this, (MSI10.__proto__ || Object.getPrototypeOf(MSI10)).call(this, data + (0, _checksums.mod10)(data), options));\n\t}\n\n\treturn MSI10;\n}(_MSI3.default);\n\nexports.default = MSI10;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _MSI2 = require('./MSI.js');\n\nvar _MSI3 = _interopRequireDefault(_MSI2);\n\nvar _checksums = require('./checksums.js');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar MSI11 = function (_MSI) {\n\t_inherits(MSI11, _MSI);\n\n\tfunction MSI11(data, options) {\n\t\t_classCallCheck(this, MSI11);\n\n\t\treturn _possibleConstructorReturn(this, (MSI11.__proto__ || Object.getPrototypeOf(MSI11)).call(this, data + (0, _checksums.mod11)(data), options));\n\t}\n\n\treturn MSI11;\n}(_MSI3.default);\n\nexports.default = MSI11;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _MSI2 = require('./MSI.js');\n\nvar _MSI3 = _interopRequireDefault(_MSI2);\n\nvar _checksums = require('./checksums.js');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar MSI1010 = function (_MSI) {\n\t_inherits(MSI1010, _MSI);\n\n\tfunction MSI1010(data, options) {\n\t\t_classCallCheck(this, MSI1010);\n\n\t\tdata += (0, _checksums.mod10)(data);\n\t\tdata += (0, _checksums.mod10)(data);\n\t\treturn _possibleConstructorReturn(this, (MSI1010.__proto__ || Object.getPrototypeOf(MSI1010)).call(this, data, options));\n\t}\n\n\treturn MSI1010;\n}(_MSI3.default);\n\nexports.default = MSI1010;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _MSI2 = require('./MSI.js');\n\nvar _MSI3 = _interopRequireDefault(_MSI2);\n\nvar _checksums = require('./checksums.js');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar MSI1110 = function (_MSI) {\n\t_inherits(MSI1110, _MSI);\n\n\tfunction MSI1110(data, options) {\n\t\t_classCallCheck(this, MSI1110);\n\n\t\tdata += (0, _checksums.mod11)(data);\n\t\tdata += (0, _checksums.mod10)(data);\n\t\treturn _possibleConstructorReturn(this, (MSI1110.__proto__ || Object.getPrototypeOf(MSI1110)).call(this, data, options));\n\t}\n\n\treturn MSI1110;\n}(_MSI3.default);\n\nexports.default = MSI1110;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MSI1110 = exports.MSI1010 = exports.MSI11 = exports.MSI10 = exports.MSI = undefined;\n\nvar _MSI = require('./MSI.js');\n\nvar _MSI2 = _interopRequireDefault(_MSI);\n\nvar _MSI3 = require('./MSI10.js');\n\nvar _MSI4 = _interopRequireDefault(_MSI3);\n\nvar _MSI5 = require('./MSI11.js');\n\nvar _MSI6 = _interopRequireDefault(_MSI5);\n\nvar _MSI7 = require('./MSI1010.js');\n\nvar _MSI8 = _interopRequireDefault(_MSI7);\n\nvar _MSI9 = require('./MSI1110.js');\n\nvar _MSI10 = _interopRequireDefault(_MSI9);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.MSI = _MSI2.default;\nexports.MSI10 = _MSI4.default;\nexports.MSI11 = _MSI6.default;\nexports.MSI1010 = _MSI8.default;\nexports.MSI1110 = _MSI10.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.pharmacode = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Barcode2 = require(\"../Barcode.js\");\n\nvar _Barcode3 = _interopRequireDefault(_Barcode2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // Encoding documentation\n// http://www.gomaro.ch/ftproot/Laetus_PHARMA-CODE.pdf\n\nvar pharmacode = function (_Barcode) {\n\t_inherits(pharmacode, _Barcode);\n\n\tfunction pharmacode(data, options) {\n\t\t_classCallCheck(this, pharmacode);\n\n\t\tvar _this = _possibleConstructorReturn(this, (pharmacode.__proto__ || Object.getPrototypeOf(pharmacode)).call(this, data, options));\n\n\t\t_this.number = parseInt(data, 10);\n\t\treturn _this;\n\t}\n\n\t_createClass(pharmacode, [{\n\t\tkey: \"encode\",\n\t\tvalue: function encode() {\n\t\t\tvar z = this.number;\n\t\t\tvar result = \"\";\n\n\t\t\t// http://i.imgur.com/RMm4UDJ.png\n\t\t\t// (source: http://www.gomaro.ch/ftproot/Laetus_PHARMA-CODE.pdf, page: 34)\n\t\t\twhile (!isNaN(z) && z != 0) {\n\t\t\t\tif (z % 2 === 0) {\n\t\t\t\t\t// Even\n\t\t\t\t\tresult = \"11100\" + result;\n\t\t\t\t\tz = (z - 2) / 2;\n\t\t\t\t} else {\n\t\t\t\t\t// Odd\n\t\t\t\t\tresult = \"100\" + result;\n\t\t\t\t\tz = (z - 1) / 2;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Remove the two last zeroes\n\t\t\tresult = result.slice(0, -2);\n\n\t\t\treturn {\n\t\t\t\tdata: result,\n\t\t\t\ttext: this.text\n\t\t\t};\n\t\t}\n\t}, {\n\t\tkey: \"valid\",\n\t\tvalue: function valid() {\n\t\t\treturn this.number >= 3 && this.number <= 131070;\n\t\t}\n\t}]);\n\n\treturn pharmacode;\n}(_Barcode3.default);\n\nexports.pharmacode = pharmacode;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.codabar = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Barcode2 = require(\"../Barcode.js\");\n\nvar _Barcode3 = _interopRequireDefault(_Barcode2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // Encoding specification:\n// http://www.barcodeisland.com/codabar.phtml\n\nvar codabar = function (_Barcode) {\n\t_inherits(codabar, _Barcode);\n\n\tfunction codabar(data, options) {\n\t\t_classCallCheck(this, codabar);\n\n\t\tif (data.search(/^[0-9\\-\\$\\:\\.\\+\\/]+$/) === 0) {\n\t\t\tdata = \"A\" + data + \"A\";\n\t\t}\n\n\t\tvar _this = _possibleConstructorReturn(this, (codabar.__proto__ || Object.getPrototypeOf(codabar)).call(this, data.toUpperCase(), options));\n\n\t\t_this.text = _this.options.text || _this.text.replace(/[A-D]/g, '');\n\t\treturn _this;\n\t}\n\n\t_createClass(codabar, [{\n\t\tkey: \"valid\",\n\t\tvalue: function valid() {\n\t\t\treturn this.data.search(/^[A-D][0-9\\-\\$\\:\\.\\+\\/]+[A-D]$/) !== -1;\n\t\t}\n\t}, {\n\t\tkey: \"encode\",\n\t\tvalue: function encode() {\n\t\t\tvar result = [];\n\t\t\tvar encodings = this.getEncodings();\n\t\t\tfor (var i = 0; i < this.data.length; i++) {\n\t\t\t\tresult.push(encodings[this.data.charAt(i)]);\n\t\t\t\t// for all characters except the last, append a narrow-space (\"0\")\n\t\t\t\tif (i !== this.data.length - 1) {\n\t\t\t\t\tresult.push(\"0\");\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn {\n\t\t\t\ttext: this.text,\n\t\t\t\tdata: result.join('')\n\t\t\t};\n\t\t}\n\t}, {\n\t\tkey: \"getEncodings\",\n\t\tvalue: function getEncodings() {\n\t\t\treturn {\n\t\t\t\t\"0\": \"101010011\",\n\t\t\t\t\"1\": \"101011001\",\n\t\t\t\t\"2\": \"101001011\",\n\t\t\t\t\"3\": \"110010101\",\n\t\t\t\t\"4\": \"101101001\",\n\t\t\t\t\"5\": \"110101001\",\n\t\t\t\t\"6\": \"100101011\",\n\t\t\t\t\"7\": \"100101101\",\n\t\t\t\t\"8\": \"100110101\",\n\t\t\t\t\"9\": \"110100101\",\n\t\t\t\t\"-\": \"101001101\",\n\t\t\t\t\"$\": \"101100101\",\n\t\t\t\t\":\": \"1101011011\",\n\t\t\t\t\"/\": \"1101101011\",\n\t\t\t\t\".\": \"1101101101\",\n\t\t\t\t\"+\": \"101100110011\",\n\t\t\t\t\"A\": \"1011001001\",\n\t\t\t\t\"B\": \"1001001011\",\n\t\t\t\t\"C\": \"1010010011\",\n\t\t\t\t\"D\": \"1010011001\"\n\t\t\t};\n\t\t}\n\t}]);\n\n\treturn codabar;\n}(_Barcode3.default);\n\nexports.codabar = codabar;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.GenericBarcode = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Barcode2 = require(\"../Barcode.js\");\n\nvar _Barcode3 = _interopRequireDefault(_Barcode2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar GenericBarcode = function (_Barcode) {\n\t_inherits(GenericBarcode, _Barcode);\n\n\tfunction GenericBarcode(data, options) {\n\t\t_classCallCheck(this, GenericBarcode);\n\n\t\treturn _possibleConstructorReturn(this, (GenericBarcode.__proto__ || Object.getPrototypeOf(GenericBarcode)).call(this, data, options)); // Sets this.data and this.text\n\t}\n\n\t// Return the corresponding binary numbers for the data provided\n\n\n\t_createClass(GenericBarcode, [{\n\t\tkey: \"encode\",\n\t\tvalue: function encode() {\n\t\t\treturn {\n\t\t\t\tdata: \"10101010101010101010101010101010101010101\",\n\t\t\t\ttext: this.text\n\t\t\t};\n\t\t}\n\n\t\t// Resturn true/false if the string provided is valid for this encoder\n\n\t}, {\n\t\tkey: \"valid\",\n\t\tvalue: function valid() {\n\t\t\treturn true;\n\t\t}\n\t}]);\n\n\treturn GenericBarcode;\n}(_Barcode3.default);\n\nexports.GenericBarcode = GenericBarcode;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _CODE = require('./CODE39/');\n\nvar _CODE2 = require('./CODE128/');\n\nvar _EAN_UPC = require('./EAN_UPC/');\n\nvar _ITF = require('./ITF14/');\n\nvar _ITF2 = require('./ITF/');\n\nvar _MSI = require('./MSI/');\n\nvar _pharmacode = require('./pharmacode/');\n\nvar _codabar = require('./codabar');\n\nvar _GenericBarcode = require('./GenericBarcode/');\n\nexports.default = {\n\tCODE39: _CODE.CODE39,\n\tCODE128: _CODE2.CODE128, CODE128A: _CODE2.CODE128A, CODE128B: _CODE2.CODE128B, CODE128C: _CODE2.CODE128C,\n\tEAN13: _EAN_UPC.EAN13, EAN8: _EAN_UPC.EAN8, EAN5: _EAN_UPC.EAN5, EAN2: _EAN_UPC.EAN2, UPC: _EAN_UPC.UPC, UPCE: _EAN_UPC.UPCE,\n\tITF14: _ITF.ITF14,\n\tITF: _ITF2.ITF,\n\tMSI: _MSI.MSI, MSI10: _MSI.MSI10, MSI11: _MSI.MSI11, MSI1010: _MSI.MSI1010, MSI1110: _MSI.MSI1110,\n\tpharmacode: _pharmacode.pharmacode,\n\tcodabar: _codabar.codabar,\n\tGenericBarcode: _GenericBarcode.GenericBarcode\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.default = function (old, replaceObj) {\n  return _extends({}, old, replaceObj);\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = linearizeEncodings;\n\n// Encodings can be nestled like [[1-1, 1-2], 2, [3-1, 3-2]\n// Convert to [1-1, 1-2, 2, 3-1, 3-2]\n\nfunction linearizeEncodings(encodings) {\n\tvar linearEncodings = [];\n\tfunction nextLevel(encoded) {\n\t\tif (Array.isArray(encoded)) {\n\t\t\tfor (var i = 0; i < encoded.length; i++) {\n\t\t\t\tnextLevel(encoded[i]);\n\t\t\t}\n\t\t} else {\n\t\t\tencoded.text = encoded.text || \"\";\n\t\t\tencoded.data = encoded.data || \"\";\n\t\t\tlinearEncodings.push(encoded);\n\t\t}\n\t}\n\tnextLevel(encodings);\n\n\treturn linearEncodings;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = fixOptions;\n\n\nfunction fixOptions(options) {\n\t// Fix the margins\n\toptions.marginTop = options.marginTop || options.margin;\n\toptions.marginBottom = options.marginBottom || options.margin;\n\toptions.marginRight = options.marginRight || options.margin;\n\toptions.marginLeft = options.marginLeft || options.margin;\n\n\treturn options;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = optionsFromStrings;\n\n// Convert string to integers/booleans where it should be\n\nfunction optionsFromStrings(options) {\n\tvar intOptions = [\"width\", \"height\", \"textMargin\", \"fontSize\", \"margin\", \"marginTop\", \"marginBottom\", \"marginLeft\", \"marginRight\"];\n\n\tfor (var intOption in intOptions) {\n\t\tif (intOptions.hasOwnProperty(intOption)) {\n\t\t\tintOption = intOptions[intOption];\n\t\t\tif (typeof options[intOption] === \"string\") {\n\t\t\t\toptions[intOption] = parseInt(options[intOption], 10);\n\t\t\t}\n\t\t}\n\t}\n\n\tif (typeof options[\"displayValue\"] === \"string\") {\n\t\toptions[\"displayValue\"] = options[\"displayValue\"] != \"false\";\n\t}\n\n\treturn options;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nvar defaults = {\n\twidth: 2,\n\theight: 100,\n\tformat: \"auto\",\n\tdisplayValue: true,\n\tfontOptions: \"\",\n\tfont: \"monospace\",\n\ttext: undefined,\n\ttextAlign: \"center\",\n\ttextPosition: \"bottom\",\n\ttextMargin: 2,\n\tfontSize: 20,\n\tbackground: \"#ffffff\",\n\tlineColor: \"#000000\",\n\tmargin: 10,\n\tmarginTop: undefined,\n\tmarginBottom: undefined,\n\tmarginLeft: undefined,\n\tmarginRight: undefined,\n\tvalid: function valid() {}\n};\n\nexports.default = defaults;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _optionsFromStrings = require(\"./optionsFromStrings.js\");\n\nvar _optionsFromStrings2 = _interopRequireDefault(_optionsFromStrings);\n\nvar _defaults = require(\"../options/defaults.js\");\n\nvar _defaults2 = _interopRequireDefault(_defaults);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getOptionsFromElement(element) {\n\tvar options = {};\n\tfor (var property in _defaults2.default) {\n\t\tif (_defaults2.default.hasOwnProperty(property)) {\n\t\t\t// jsbarcode-*\n\t\t\tif (element.hasAttribute(\"jsbarcode-\" + property.toLowerCase())) {\n\t\t\t\toptions[property] = element.getAttribute(\"jsbarcode-\" + property.toLowerCase());\n\t\t\t}\n\n\t\t\t// data-*\n\t\t\tif (element.hasAttribute(\"data-\" + property.toLowerCase())) {\n\t\t\t\toptions[property] = element.getAttribute(\"data-\" + property.toLowerCase());\n\t\t\t}\n\t\t}\n\t}\n\n\toptions[\"value\"] = element.getAttribute(\"jsbarcode-value\") || element.getAttribute(\"data-value\");\n\n\t// Since all atributes are string they need to be converted to integers\n\toptions = (0, _optionsFromStrings2.default)(options);\n\n\treturn options;\n}\n\nexports.default = getOptionsFromElement;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.getTotalWidthOfEncodings = exports.calculateEncodingAttributes = exports.getBarcodePadding = exports.getEncodingHeight = exports.getMaximumHeightOfEncodings = undefined;\n\nvar _merge = require(\"../help/merge.js\");\n\nvar _merge2 = _interopRequireDefault(_merge);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getEncodingHeight(encoding, options) {\n\treturn options.height + (options.displayValue && encoding.text.length > 0 ? options.fontSize + options.textMargin : 0) + options.marginTop + options.marginBottom;\n}\n\nfunction getBarcodePadding(textWidth, barcodeWidth, options) {\n\tif (options.displayValue && barcodeWidth < textWidth) {\n\t\tif (options.textAlign == \"center\") {\n\t\t\treturn Math.floor((textWidth - barcodeWidth) / 2);\n\t\t} else if (options.textAlign == \"left\") {\n\t\t\treturn 0;\n\t\t} else if (options.textAlign == \"right\") {\n\t\t\treturn Math.floor(textWidth - barcodeWidth);\n\t\t}\n\t}\n\treturn 0;\n}\n\nfunction calculateEncodingAttributes(encodings, barcodeOptions, context) {\n\tfor (var i = 0; i < encodings.length; i++) {\n\t\tvar encoding = encodings[i];\n\t\tvar options = (0, _merge2.default)(barcodeOptions, encoding.options);\n\n\t\t// Calculate the width of the encoding\n\t\tvar textWidth;\n\t\tif (options.displayValue) {\n\t\t\ttextWidth = messureText(encoding.text, options, context);\n\t\t} else {\n\t\t\ttextWidth = 0;\n\t\t}\n\n\t\tvar barcodeWidth = encoding.data.length * options.width;\n\t\tencoding.width = Math.ceil(Math.max(textWidth, barcodeWidth));\n\n\t\tencoding.height = getEncodingHeight(encoding, options);\n\n\t\tencoding.barcodePadding = getBarcodePadding(textWidth, barcodeWidth, options);\n\t}\n}\n\nfunction getTotalWidthOfEncodings(encodings) {\n\tvar totalWidth = 0;\n\tfor (var i = 0; i < encodings.length; i++) {\n\t\ttotalWidth += encodings[i].width;\n\t}\n\treturn totalWidth;\n}\n\nfunction getMaximumHeightOfEncodings(encodings) {\n\tvar maxHeight = 0;\n\tfor (var i = 0; i < encodings.length; i++) {\n\t\tif (encodings[i].height > maxHeight) {\n\t\t\tmaxHeight = encodings[i].height;\n\t\t}\n\t}\n\treturn maxHeight;\n}\n\nfunction messureText(string, options, context) {\n\tvar ctx;\n\n\tif (context) {\n\t\tctx = context;\n\t} else if (typeof document !== \"undefined\") {\n\t\tctx = document.createElement(\"canvas\").getContext(\"2d\");\n\t} else {\n\t\t// If the text cannot be messured we will return 0.\n\t\t// This will make some barcode with big text render incorrectly\n\t\treturn 0;\n\t}\n\tctx.font = options.fontOptions + \" \" + options.fontSize + \"px \" + options.font;\n\n\t// Calculate the width of the encoding\n\tvar size = ctx.measureText(string).width;\n\n\treturn size;\n}\n\nexports.getMaximumHeightOfEncodings = getMaximumHeightOfEncodings;\nexports.getEncodingHeight = getEncodingHeight;\nexports.getBarcodePadding = getBarcodePadding;\nexports.calculateEncodingAttributes = calculateEncodingAttributes;\nexports.getTotalWidthOfEncodings = getTotalWidthOfEncodings;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _merge = require(\"../help/merge.js\");\n\nvar _merge2 = _interopRequireDefault(_merge);\n\nvar _shared = require(\"./shared.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar CanvasRenderer = function () {\n\tfunction CanvasRenderer(canvas, encodings, options) {\n\t\t_classCallCheck(this, CanvasRenderer);\n\n\t\tthis.canvas = canvas;\n\t\tthis.encodings = encodings;\n\t\tthis.options = options;\n\t}\n\n\t_createClass(CanvasRenderer, [{\n\t\tkey: \"render\",\n\t\tvalue: function render() {\n\t\t\t// Abort if the browser does not support HTML5 canvas\n\t\t\tif (!this.canvas.getContext) {\n\t\t\t\tthrow new Error('The browser does not support canvas.');\n\t\t\t}\n\n\t\t\tthis.prepareCanvas();\n\t\t\tfor (var i = 0; i < this.encodings.length; i++) {\n\t\t\t\tvar encodingOptions = (0, _merge2.default)(this.options, this.encodings[i].options);\n\n\t\t\t\tthis.drawCanvasBarcode(encodingOptions, this.encodings[i]);\n\t\t\t\tthis.drawCanvasText(encodingOptions, this.encodings[i]);\n\n\t\t\t\tthis.moveCanvasDrawing(this.encodings[i]);\n\t\t\t}\n\n\t\t\tthis.restoreCanvas();\n\t\t}\n\t}, {\n\t\tkey: \"prepareCanvas\",\n\t\tvalue: function prepareCanvas() {\n\t\t\t// Get the canvas context\n\t\t\tvar ctx = this.canvas.getContext(\"2d\");\n\n\t\t\tctx.save();\n\n\t\t\t(0, _shared.calculateEncodingAttributes)(this.encodings, this.options, ctx);\n\t\t\tvar totalWidth = (0, _shared.getTotalWidthOfEncodings)(this.encodings);\n\t\t\tvar maxHeight = (0, _shared.getMaximumHeightOfEncodings)(this.encodings);\n\n\t\t\tthis.canvas.width = totalWidth + this.options.marginLeft + this.options.marginRight;\n\n\t\t\tthis.canvas.height = maxHeight;\n\n\t\t\t// Paint the canvas\n\t\t\tctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n\t\t\tif (this.options.background) {\n\t\t\t\tctx.fillStyle = this.options.background;\n\t\t\t\tctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\n\t\t\t}\n\n\t\t\tctx.translate(this.options.marginLeft, 0);\n\t\t}\n\t}, {\n\t\tkey: \"drawCanvasBarcode\",\n\t\tvalue: function drawCanvasBarcode(options, encoding) {\n\t\t\t// Get the canvas context\n\t\t\tvar ctx = this.canvas.getContext(\"2d\");\n\n\t\t\tvar binary = encoding.data;\n\n\t\t\t// Creates the barcode out of the encoded binary\n\t\t\tvar yFrom;\n\t\t\tif (options.textPosition == \"top\") {\n\t\t\t\tyFrom = options.marginTop + options.fontSize + options.textMargin;\n\t\t\t} else {\n\t\t\t\tyFrom = options.marginTop;\n\t\t\t}\n\n\t\t\tctx.fillStyle = options.lineColor;\n\n\t\t\tfor (var b = 0; b < binary.length; b++) {\n\t\t\t\tvar x = b * options.width + encoding.barcodePadding;\n\n\t\t\t\tif (binary[b] === \"1\") {\n\t\t\t\t\tctx.fillRect(x, yFrom, options.width, options.height);\n\t\t\t\t} else if (binary[b]) {\n\t\t\t\t\tctx.fillRect(x, yFrom, options.width, options.height * binary[b]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: \"drawCanvasText\",\n\t\tvalue: function drawCanvasText(options, encoding) {\n\t\t\t// Get the canvas context\n\t\t\tvar ctx = this.canvas.getContext(\"2d\");\n\n\t\t\tvar font = options.fontOptions + \" \" + options.fontSize + \"px \" + options.font;\n\n\t\t\t// Draw the text if displayValue is set\n\t\t\tif (options.displayValue) {\n\t\t\t\tvar x, y;\n\n\t\t\t\tif (options.textPosition == \"top\") {\n\t\t\t\t\ty = options.marginTop + options.fontSize - options.textMargin;\n\t\t\t\t} else {\n\t\t\t\t\ty = options.height + options.textMargin + options.marginTop + options.fontSize;\n\t\t\t\t}\n\n\t\t\t\tctx.font = font;\n\n\t\t\t\t// Draw the text in the correct X depending on the textAlign option\n\t\t\t\tif (options.textAlign == \"left\" || encoding.barcodePadding > 0) {\n\t\t\t\t\tx = 0;\n\t\t\t\t\tctx.textAlign = 'left';\n\t\t\t\t} else if (options.textAlign == \"right\") {\n\t\t\t\t\tx = encoding.width - 1;\n\t\t\t\t\tctx.textAlign = 'right';\n\t\t\t\t}\n\t\t\t\t// In all other cases, center the text\n\t\t\t\telse {\n\t\t\t\t\t\tx = encoding.width / 2;\n\t\t\t\t\t\tctx.textAlign = 'center';\n\t\t\t\t\t}\n\n\t\t\t\tctx.fillText(encoding.text, x, y);\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: \"moveCanvasDrawing\",\n\t\tvalue: function moveCanvasDrawing(encoding) {\n\t\t\tvar ctx = this.canvas.getContext(\"2d\");\n\n\t\t\tctx.translate(encoding.width, 0);\n\t\t}\n\t}, {\n\t\tkey: \"restoreCanvas\",\n\t\tvalue: function restoreCanvas() {\n\t\t\t// Get the canvas context\n\t\t\tvar ctx = this.canvas.getContext(\"2d\");\n\n\t\t\tctx.restore();\n\t\t}\n\t}]);\n\n\treturn CanvasRenderer;\n}();\n\nexports.default = CanvasRenderer;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _merge = require(\"../help/merge.js\");\n\nvar _merge2 = _interopRequireDefault(_merge);\n\nvar _shared = require(\"./shared.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar svgns = \"http://www.w3.org/2000/svg\";\n\nvar SVGRenderer = function () {\n\tfunction SVGRenderer(svg, encodings, options) {\n\t\t_classCallCheck(this, SVGRenderer);\n\n\t\tthis.svg = svg;\n\t\tthis.encodings = encodings;\n\t\tthis.options = options;\n\t\tthis.document = options.xmlDocument || document;\n\t}\n\n\t_createClass(SVGRenderer, [{\n\t\tkey: \"render\",\n\t\tvalue: function render() {\n\t\t\tvar currentX = this.options.marginLeft;\n\n\t\t\tthis.prepareSVG();\n\t\t\tfor (var i = 0; i < this.encodings.length; i++) {\n\t\t\t\tvar encoding = this.encodings[i];\n\t\t\t\tvar encodingOptions = (0, _merge2.default)(this.options, encoding.options);\n\n\t\t\t\tvar group = this.createGroup(currentX, encodingOptions.marginTop, this.svg);\n\n\t\t\t\tthis.setGroupOptions(group, encodingOptions);\n\n\t\t\t\tthis.drawSvgBarcode(group, encodingOptions, encoding);\n\t\t\t\tthis.drawSVGText(group, encodingOptions, encoding);\n\n\t\t\t\tcurrentX += encoding.width;\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: \"prepareSVG\",\n\t\tvalue: function prepareSVG() {\n\t\t\t// Clear the SVG\n\t\t\twhile (this.svg.firstChild) {\n\t\t\t\tthis.svg.removeChild(this.svg.firstChild);\n\t\t\t}\n\n\t\t\t(0, _shared.calculateEncodingAttributes)(this.encodings, this.options);\n\t\t\tvar totalWidth = (0, _shared.getTotalWidthOfEncodings)(this.encodings);\n\t\t\tvar maxHeight = (0, _shared.getMaximumHeightOfEncodings)(this.encodings);\n\n\t\t\tvar width = totalWidth + this.options.marginLeft + this.options.marginRight;\n\t\t\tthis.setSvgAttributes(width, maxHeight);\n\n\t\t\tif (this.options.background) {\n\t\t\t\tthis.drawRect(0, 0, width, maxHeight, this.svg).setAttribute(\"style\", \"fill:\" + this.options.background + \";\");\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: \"drawSvgBarcode\",\n\t\tvalue: function drawSvgBarcode(parent, options, encoding) {\n\t\t\tvar binary = encoding.data;\n\n\t\t\t// Creates the barcode out of the encoded binary\n\t\t\tvar yFrom;\n\t\t\tif (options.textPosition == \"top\") {\n\t\t\t\tyFrom = options.fontSize + options.textMargin;\n\t\t\t} else {\n\t\t\t\tyFrom = 0;\n\t\t\t}\n\n\t\t\tvar barWidth = 0;\n\t\t\tvar x = 0;\n\t\t\tfor (var b = 0; b < binary.length; b++) {\n\t\t\t\tx = b * options.width + encoding.barcodePadding;\n\n\t\t\t\tif (binary[b] === \"1\") {\n\t\t\t\t\tbarWidth++;\n\t\t\t\t} else if (barWidth > 0) {\n\t\t\t\t\tthis.drawRect(x - options.width * barWidth, yFrom, options.width * barWidth, options.height, parent);\n\t\t\t\t\tbarWidth = 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Last draw is needed since the barcode ends with 1\n\t\t\tif (barWidth > 0) {\n\t\t\t\tthis.drawRect(x - options.width * (barWidth - 1), yFrom, options.width * barWidth, options.height, parent);\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: \"drawSVGText\",\n\t\tvalue: function drawSVGText(parent, options, encoding) {\n\t\t\tvar textElem = this.document.createElementNS(svgns, 'text');\n\n\t\t\t// Draw the text if displayValue is set\n\t\t\tif (options.displayValue) {\n\t\t\t\tvar x, y;\n\n\t\t\t\ttextElem.setAttribute(\"style\", \"font:\" + options.fontOptions + \" \" + options.fontSize + \"px \" + options.font);\n\n\t\t\t\tif (options.textPosition == \"top\") {\n\t\t\t\t\ty = options.fontSize - options.textMargin;\n\t\t\t\t} else {\n\t\t\t\t\ty = options.height + options.textMargin + options.fontSize;\n\t\t\t\t}\n\n\t\t\t\t// Draw the text in the correct X depending on the textAlign option\n\t\t\t\tif (options.textAlign == \"left\" || encoding.barcodePadding > 0) {\n\t\t\t\t\tx = 0;\n\t\t\t\t\ttextElem.setAttribute(\"text-anchor\", \"start\");\n\t\t\t\t} else if (options.textAlign == \"right\") {\n\t\t\t\t\tx = encoding.width - 1;\n\t\t\t\t\ttextElem.setAttribute(\"text-anchor\", \"end\");\n\t\t\t\t}\n\t\t\t\t// In all other cases, center the text\n\t\t\t\telse {\n\t\t\t\t\t\tx = encoding.width / 2;\n\t\t\t\t\t\ttextElem.setAttribute(\"text-anchor\", \"middle\");\n\t\t\t\t\t}\n\n\t\t\t\ttextElem.setAttribute(\"x\", x);\n\t\t\t\ttextElem.setAttribute(\"y\", y);\n\n\t\t\t\ttextElem.appendChild(this.document.createTextNode(encoding.text));\n\n\t\t\t\tparent.appendChild(textElem);\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: \"setSvgAttributes\",\n\t\tvalue: function setSvgAttributes(width, height) {\n\t\t\tvar svg = this.svg;\n\t\t\tsvg.setAttribute(\"width\", width + \"px\");\n\t\t\tsvg.setAttribute(\"height\", height + \"px\");\n\t\t\tsvg.setAttribute(\"x\", \"0px\");\n\t\t\tsvg.setAttribute(\"y\", \"0px\");\n\t\t\tsvg.setAttribute(\"viewBox\", \"0 0 \" + width + \" \" + height);\n\n\t\t\tsvg.setAttribute(\"xmlns\", svgns);\n\t\t\tsvg.setAttribute(\"version\", \"1.1\");\n\n\t\t\tsvg.setAttribute(\"style\", \"transform: translate(0,0)\");\n\t\t}\n\t}, {\n\t\tkey: \"createGroup\",\n\t\tvalue: function createGroup(x, y, parent) {\n\t\t\tvar group = this.document.createElementNS(svgns, 'g');\n\t\t\tgroup.setAttribute(\"transform\", \"translate(\" + x + \", \" + y + \")\");\n\n\t\t\tparent.appendChild(group);\n\n\t\t\treturn group;\n\t\t}\n\t}, {\n\t\tkey: \"setGroupOptions\",\n\t\tvalue: function setGroupOptions(group, options) {\n\t\t\tgroup.setAttribute(\"style\", \"fill:\" + options.lineColor + \";\");\n\t\t}\n\t}, {\n\t\tkey: \"drawRect\",\n\t\tvalue: function drawRect(x, y, width, height, parent) {\n\t\t\tvar rect = this.document.createElementNS(svgns, 'rect');\n\n\t\t\trect.setAttribute(\"x\", x);\n\t\t\trect.setAttribute(\"y\", y);\n\t\t\trect.setAttribute(\"width\", width);\n\t\t\trect.setAttribute(\"height\", height);\n\n\t\t\tparent.appendChild(rect);\n\n\t\t\treturn rect;\n\t\t}\n\t}]);\n\n\treturn SVGRenderer;\n}();\n\nexports.default = SVGRenderer;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ObjectRenderer = function () {\n\tfunction ObjectRenderer(object, encodings, options) {\n\t\t_classCallCheck(this, ObjectRenderer);\n\n\t\tthis.object = object;\n\t\tthis.encodings = encodings;\n\t\tthis.options = options;\n\t}\n\n\t_createClass(ObjectRenderer, [{\n\t\tkey: \"render\",\n\t\tvalue: function render() {\n\t\t\tthis.object.encodings = this.encodings;\n\t\t}\n\t}]);\n\n\treturn ObjectRenderer;\n}();\n\nexports.default = ObjectRenderer;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _canvas = require('./canvas.js');\n\nvar _canvas2 = _interopRequireDefault(_canvas);\n\nvar _svg = require('./svg.js');\n\nvar _svg2 = _interopRequireDefault(_svg);\n\nvar _object = require('./object.js');\n\nvar _object2 = _interopRequireDefault(_object);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = { CanvasRenderer: _canvas2.default, SVGRenderer: _svg2.default, ObjectRenderer: _object2.default };","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar InvalidInputException = function (_Error) {\n\t_inherits(InvalidInputException, _Error);\n\n\tfunction InvalidInputException(symbology, input) {\n\t\t_classCallCheck(this, InvalidInputException);\n\n\t\tvar _this = _possibleConstructorReturn(this, (InvalidInputException.__proto__ || Object.getPrototypeOf(InvalidInputException)).call(this));\n\n\t\t_this.name = \"InvalidInputException\";\n\n\t\t_this.symbology = symbology;\n\t\t_this.input = input;\n\n\t\t_this.message = '\"' + _this.input + '\" is not a valid input for ' + _this.symbology;\n\t\treturn _this;\n\t}\n\n\treturn InvalidInputException;\n}(Error);\n\nvar InvalidElementException = function (_Error2) {\n\t_inherits(InvalidElementException, _Error2);\n\n\tfunction InvalidElementException() {\n\t\t_classCallCheck(this, InvalidElementException);\n\n\t\tvar _this2 = _possibleConstructorReturn(this, (InvalidElementException.__proto__ || Object.getPrototypeOf(InvalidElementException)).call(this));\n\n\t\t_this2.name = \"InvalidElementException\";\n\t\t_this2.message = \"Not supported type to render on\";\n\t\treturn _this2;\n\t}\n\n\treturn InvalidElementException;\n}(Error);\n\nvar NoElementException = function (_Error3) {\n\t_inherits(NoElementException, _Error3);\n\n\tfunction NoElementException() {\n\t\t_classCallCheck(this, NoElementException);\n\n\t\tvar _this3 = _possibleConstructorReturn(this, (NoElementException.__proto__ || Object.getPrototypeOf(NoElementException)).call(this));\n\n\t\t_this3.name = \"NoElementException\";\n\t\t_this3.message = \"No element to render on.\";\n\t\treturn _this3;\n\t}\n\n\treturn NoElementException;\n}(Error);\n\nexports.InvalidInputException = InvalidInputException;\nexports.InvalidElementException = InvalidElementException;\nexports.NoElementException = NoElementException;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; /* global HTMLImageElement */\n/* global HTMLCanvasElement */\n/* global SVGElement */\n\nvar _getOptionsFromElement = require(\"./getOptionsFromElement.js\");\n\nvar _getOptionsFromElement2 = _interopRequireDefault(_getOptionsFromElement);\n\nvar _renderers = require(\"../renderers\");\n\nvar _renderers2 = _interopRequireDefault(_renderers);\n\nvar _exceptions = require(\"../exceptions/exceptions.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Takes an element and returns an object with information about how\n// it should be rendered\n// This could also return an array with these objects\n// {\n//   element: The element that the renderer should draw on\n//   renderer: The name of the renderer\n//   afterRender (optional): If something has to done after the renderer\n//     completed, calls afterRender (function)\n//   options (optional): Options that can be defined in the element\n// }\n\nfunction getRenderProperties(element) {\n\t// If the element is a string, query select call again\n\tif (typeof element === \"string\") {\n\t\treturn querySelectedRenderProperties(element);\n\t}\n\t// If element is array. Recursivly call with every object in the array\n\telse if (Array.isArray(element)) {\n\t\t\tvar returnArray = [];\n\t\t\tfor (var i = 0; i < element.length; i++) {\n\t\t\t\treturnArray.push(getRenderProperties(element[i]));\n\t\t\t}\n\t\t\treturn returnArray;\n\t\t}\n\t\t// If element, render on canvas and set the uri as src\n\t\telse if (typeof HTMLCanvasElement !== 'undefined' && element instanceof HTMLImageElement) {\n\t\t\t\treturn newCanvasRenderProperties(element);\n\t\t\t}\n\t\t\t// If SVG\n\t\t\telse if (element && element.nodeName === 'svg' || typeof SVGElement !== 'undefined' && element instanceof SVGElement) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\telement: element,\n\t\t\t\t\t\toptions: (0, _getOptionsFromElement2.default)(element),\n\t\t\t\t\t\trenderer: _renderers2.default.SVGRenderer\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\t// If canvas (in browser)\n\t\t\t\telse if (typeof HTMLCanvasElement !== 'undefined' && element instanceof HTMLCanvasElement) {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\telement: element,\n\t\t\t\t\t\t\toptions: (0, _getOptionsFromElement2.default)(element),\n\t\t\t\t\t\t\trenderer: _renderers2.default.CanvasRenderer\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\t// If canvas (in node)\n\t\t\t\t\telse if (element && element.getContext) {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\telement: element,\n\t\t\t\t\t\t\t\trenderer: _renderers2.default.CanvasRenderer\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t} else if (element && (typeof element === \"undefined\" ? \"undefined\" : _typeof(element)) === 'object' && !element.nodeName) {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\telement: element,\n\t\t\t\t\t\t\t\trenderer: _renderers2.default.ObjectRenderer\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthrow new _exceptions.InvalidElementException();\n\t\t\t\t\t\t}\n}\n\nfunction querySelectedRenderProperties(string) {\n\tvar selector = document.querySelectorAll(string);\n\tif (selector.length === 0) {\n\t\treturn undefined;\n\t} else {\n\t\tvar returnArray = [];\n\t\tfor (var i = 0; i < selector.length; i++) {\n\t\t\treturnArray.push(getRenderProperties(selector[i]));\n\t\t}\n\t\treturn returnArray;\n\t}\n}\n\nfunction newCanvasRenderProperties(imgElement) {\n\tvar canvas = document.createElement('canvas');\n\treturn {\n\t\telement: canvas,\n\t\toptions: (0, _getOptionsFromElement2.default)(imgElement),\n\t\trenderer: _renderers2.default.CanvasRenderer,\n\t\tafterRender: function afterRender() {\n\t\t\timgElement.setAttribute(\"src\", canvas.toDataURL());\n\t\t}\n\t};\n}\n\nexports.default = getRenderProperties;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*eslint no-console: 0 */\n\nvar ErrorHandler = function () {\n\tfunction ErrorHandler(api) {\n\t\t_classCallCheck(this, ErrorHandler);\n\n\t\tthis.api = api;\n\t}\n\n\t_createClass(ErrorHandler, [{\n\t\tkey: \"handleCatch\",\n\t\tvalue: function handleCatch(e) {\n\t\t\t// If babel supported extending of Error in a correct way instanceof would be used here\n\t\t\tif (e.name === \"InvalidInputException\") {\n\t\t\t\tif (this.api._options.valid !== this.api._defaults.valid) {\n\t\t\t\t\tthis.api._options.valid(false);\n\t\t\t\t} else {\n\t\t\t\t\tthrow e.message;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthrow e;\n\t\t\t}\n\n\t\t\tthis.api.render = function () {};\n\t\t}\n\t}, {\n\t\tkey: \"wrapBarcodeCall\",\n\t\tvalue: function wrapBarcodeCall(func) {\n\t\t\ttry {\n\t\t\t\tvar result = func.apply(undefined, arguments);\n\t\t\t\tthis.api._options.valid(true);\n\t\t\t\treturn result;\n\t\t\t} catch (e) {\n\t\t\t\tthis.handleCatch(e);\n\n\t\t\t\treturn this.api;\n\t\t\t}\n\t\t}\n\t}]);\n\n\treturn ErrorHandler;\n}();\n\nexports.default = ErrorHandler;","'use strict';\n\nvar _barcodes = require('./barcodes/');\n\nvar _barcodes2 = _interopRequireDefault(_barcodes);\n\nvar _merge = require('./help/merge.js');\n\nvar _merge2 = _interopRequireDefault(_merge);\n\nvar _linearizeEncodings = require('./help/linearizeEncodings.js');\n\nvar _linearizeEncodings2 = _interopRequireDefault(_linearizeEncodings);\n\nvar _fixOptions = require('./help/fixOptions.js');\n\nvar _fixOptions2 = _interopRequireDefault(_fixOptions);\n\nvar _getRenderProperties = require('./help/getRenderProperties.js');\n\nvar _getRenderProperties2 = _interopRequireDefault(_getRenderProperties);\n\nvar _optionsFromStrings = require('./help/optionsFromStrings.js');\n\nvar _optionsFromStrings2 = _interopRequireDefault(_optionsFromStrings);\n\nvar _ErrorHandler = require('./exceptions/ErrorHandler.js');\n\nvar _ErrorHandler2 = _interopRequireDefault(_ErrorHandler);\n\nvar _exceptions = require('./exceptions/exceptions.js');\n\nvar _defaults = require('./options/defaults.js');\n\nvar _defaults2 = _interopRequireDefault(_defaults);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// The protype of the object returned from the JsBarcode() call\n\n\n// Help functions\nvar API = function API() {};\n\n// The first call of the library API\n// Will return an object with all barcodes calls and the data that is used\n// by the renderers\n\n\n// Default values\n\n\n// Exceptions\n// Import all the barcodes\nvar JsBarcode = function JsBarcode(element, text, options) {\n\tvar api = new API();\n\n\tif (typeof element === \"undefined\") {\n\t\tthrow Error(\"No element to render on was provided.\");\n\t}\n\n\t// Variables that will be pased through the API calls\n\tapi._renderProperties = (0, _getRenderProperties2.default)(element);\n\tapi._encodings = [];\n\tapi._options = _defaults2.default;\n\tapi._errorHandler = new _ErrorHandler2.default(api);\n\n\t// If text is set, use the simple syntax (render the barcode directly)\n\tif (typeof text !== \"undefined\") {\n\t\toptions = options || {};\n\n\t\tif (!options.format) {\n\t\t\toptions.format = autoSelectBarcode();\n\t\t}\n\n\t\tapi.options(options)[options.format](text, options).render();\n\t}\n\n\treturn api;\n};\n\n// To make tests work TODO: remove\nJsBarcode.getModule = function (name) {\n\treturn _barcodes2.default[name];\n};\n\n// Register all barcodes\nfor (var name in _barcodes2.default) {\n\tif (_barcodes2.default.hasOwnProperty(name)) {\n\t\t// Security check if the propery is a prototype property\n\t\tregisterBarcode(_barcodes2.default, name);\n\t}\n}\nfunction registerBarcode(barcodes, name) {\n\tAPI.prototype[name] = API.prototype[name.toUpperCase()] = API.prototype[name.toLowerCase()] = function (text, options) {\n\t\tvar api = this;\n\t\treturn api._errorHandler.wrapBarcodeCall(function () {\n\t\t\t// Ensure text is options.text\n\t\t\toptions.text = typeof options.text === 'undefined' ? undefined : '' + options.text;\n\n\t\t\tvar newOptions = (0, _merge2.default)(api._options, options);\n\t\t\tnewOptions = (0, _optionsFromStrings2.default)(newOptions);\n\t\t\tvar Encoder = barcodes[name];\n\t\t\tvar encoded = encode(text, Encoder, newOptions);\n\t\t\tapi._encodings.push(encoded);\n\n\t\t\treturn api;\n\t\t});\n\t};\n}\n\n// encode() handles the Encoder call and builds the binary string to be rendered\nfunction encode(text, Encoder, options) {\n\t// Ensure that text is a string\n\ttext = \"\" + text;\n\n\tvar encoder = new Encoder(text, options);\n\n\t// If the input is not valid for the encoder, throw error.\n\t// If the valid callback option is set, call it instead of throwing error\n\tif (!encoder.valid()) {\n\t\tthrow new _exceptions.InvalidInputException(encoder.constructor.name, text);\n\t}\n\n\t// Make a request for the binary data (and other infromation) that should be rendered\n\tvar encoded = encoder.encode();\n\n\t// Encodings can be nestled like [[1-1, 1-2], 2, [3-1, 3-2]\n\t// Convert to [1-1, 1-2, 2, 3-1, 3-2]\n\tencoded = (0, _linearizeEncodings2.default)(encoded);\n\n\t// Merge\n\tfor (var i = 0; i < encoded.length; i++) {\n\t\tencoded[i].options = (0, _merge2.default)(options, encoded[i].options);\n\t}\n\n\treturn encoded;\n}\n\nfunction autoSelectBarcode() {\n\t// If CODE128 exists. Use it\n\tif (_barcodes2.default[\"CODE128\"]) {\n\t\treturn \"CODE128\";\n\t}\n\n\t// Else, take the first (probably only) barcode\n\treturn Object.keys(_barcodes2.default)[0];\n}\n\n// Sets global encoder options\n// Added to the api by the JsBarcode function\nAPI.prototype.options = function (options) {\n\tthis._options = (0, _merge2.default)(this._options, options);\n\treturn this;\n};\n\n// Will create a blank space (usually in between barcodes)\nAPI.prototype.blank = function (size) {\n\tvar zeroes = new Array(size + 1).join(\"0\");\n\tthis._encodings.push({ data: zeroes });\n\treturn this;\n};\n\n// Initialize JsBarcode on all HTML elements defined.\nAPI.prototype.init = function () {\n\t// Should do nothing if no elements where found\n\tif (!this._renderProperties) {\n\t\treturn;\n\t}\n\n\t// Make sure renderProperies is an array\n\tif (!Array.isArray(this._renderProperties)) {\n\t\tthis._renderProperties = [this._renderProperties];\n\t}\n\n\tvar renderProperty;\n\tfor (var i in this._renderProperties) {\n\t\trenderProperty = this._renderProperties[i];\n\t\tvar options = (0, _merge2.default)(this._options, renderProperty.options);\n\n\t\tif (options.format == \"auto\") {\n\t\t\toptions.format = autoSelectBarcode();\n\t\t}\n\n\t\tthis._errorHandler.wrapBarcodeCall(function () {\n\t\t\tvar text = options.value;\n\t\t\tvar Encoder = _barcodes2.default[options.format.toUpperCase()];\n\t\t\tvar encoded = encode(text, Encoder, options);\n\n\t\t\trender(renderProperty, encoded, options);\n\t\t});\n\t}\n};\n\n// The render API call. Calls the real render function.\nAPI.prototype.render = function () {\n\tif (!this._renderProperties) {\n\t\tthrow new _exceptions.NoElementException();\n\t}\n\n\tif (Array.isArray(this._renderProperties)) {\n\t\tfor (var i = 0; i < this._renderProperties.length; i++) {\n\t\t\trender(this._renderProperties[i], this._encodings, this._options);\n\t\t}\n\t} else {\n\t\trender(this._renderProperties, this._encodings, this._options);\n\t}\n\n\treturn this;\n};\n\nAPI.prototype._defaults = _defaults2.default;\n\n// Prepares the encodings and calls the renderer\nfunction render(renderProperties, encodings, options) {\n\tencodings = (0, _linearizeEncodings2.default)(encodings);\n\n\tfor (var i = 0; i < encodings.length; i++) {\n\t\tencodings[i].options = (0, _merge2.default)(options, encodings[i].options);\n\t\t(0, _fixOptions2.default)(encodings[i].options);\n\t}\n\n\t(0, _fixOptions2.default)(options);\n\n\tvar Renderer = renderProperties.renderer;\n\tvar renderer = new Renderer(renderProperties.element, encodings, options);\n\trenderer.render();\n\n\tif (renderProperties.afterRender) {\n\t\trenderProperties.afterRender();\n\t}\n}\n\n// Export to browser\nif (typeof window !== \"undefined\") {\n\twindow.JsBarcode = JsBarcode;\n}\n\n// Export to jQuery\n/*global jQuery */\nif (typeof jQuery !== 'undefined') {\n\tjQuery.fn.JsBarcode = function (content, options) {\n\t\tvar elementArray = [];\n\t\tjQuery(this).each(function () {\n\t\t\telementArray.push(this);\n\t\t});\n\t\treturn JsBarcode(elementArray, content, options);\n\t};\n}\n\n// Export to commonJS\nmodule.exports = JsBarcode;","import JsBarcode from \"jsbarcode\";\n\nfrappe.ui.form.ControlBarcode = frappe.ui.form.ControlData.extend({\n\tmake_wrapper() {\n\t\t// Create the elements for barcode area\n\t\tthis._super();\n\n\t\tlet $input_wrapper = this.$wrapper.find('.control-input-wrapper');\n\t\tthis.barcode_area = $(`<div class=\"barcode-wrapper border\"><svg height=80></svg></div>`);\n\t\tthis.barcode_area.appendTo($input_wrapper);\n\t},\n\n\tparse(value) {\n\t\t// Parse raw value\n\t\treturn value ? this.get_barcode_html(value) : \"\";\n\t},\n\n\tset_formatted_input(value) {\n\t\t// Set values to display\n\t\tconst svg = value;\n\t\tconst barcode_value = $(svg).attr('data-barcode-value');\n\n\t\tthis.$input.val(barcode_value);\n\t\tthis.barcode_area.html(svg);\n\t},\n\n\tget_barcode_html(value) {\n\t\t// Get svg\n\t\tconst svg = this.barcode_area.find('svg')[0];\n\t\tJsBarcode(svg, value, this.get_options(value));\n\t\t$(svg).attr('data-barcode-value', value);\n\t\treturn this.barcode_area.html();\n\t},\n\n\tget_options(value) {\n\t\t// get JsBarcode options\n\t\tlet options = JSON.parse('{ \"height\" : 40 }');\n\t\tif (this.isValidJson(this.df.options)) {\n\t\t\toptions = JSON.parse(this.df.options);\n\t\t\tif (options.format && options.format === \"EAN\") {\n\t\t\t\toptions.format = value.length == 8 ? \"EAN8\" : \"EAN13\";\n\t\t\t}\n\n\t\t\tif (options.valueField) {\n\t\t\t\t// Set companion field value\n\t\t\t\tthis.frm.set_value(options.valueField, value);\n\t\t\t}\n\t\t}\n\t\treturn options;\n\t},\n\n\tisValidJson(jsonData) {\n\t\ttry {\n\t\t\tJSON.parse(jsonData);\n\t\t\treturn true;\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n});\n","frappe.ui.form.ControlGeolocation = frappe.ui.form.ControlCode.extend({\n\tmake_wrapper() {\n\t\t// Create the elements for map area\n\t\tthis._super();\n\n\t\tlet $input_wrapper = this.$wrapper.find('.control-input-wrapper');\n\t\tthis.map_id = frappe.dom.get_unique_id();\n\t\tthis.map_area = $(\n\t\t\t`<div class=\"map-wrapper border\">\n\t\t\t\t<div id=\"` + this.map_id + `\" style=\"min-height: 400px; z-index: 1; max-width:100%\"></div>\n\t\t\t</div>`\n\t\t);\n\t\tthis.map_area.prependTo($input_wrapper);\n\t\tthis.$wrapper.find('.control-input').addClass(\"hidden\");\n\n\t\tif ($input_wrapper.is(':visible')) {\n\t\t\tthis.make_map();\n\t\t} else {\n\t\t\t$(document).on('frappe.ui.Dialog:shown', () => {\n\t\t\t\tthis.make_map();\n\t\t\t});\n\t\t}\n\t},\n\n\tmake_map() {\n\t\tthis.bind_leaflet_map();\n\t\tthis.bind_leaflet_draw_control();\n\t\tthis.bind_leaflet_locate_control();\n\t\tthis.bind_leaflet_refresh_button();\n\t},\n\n\tformat_for_input(value) {\n\t\tif (!this.map) return;\n\t\t// render raw value from db into map\n\t\tthis.clear_editable_layers();\n\t\tif(value) {\n\t\t\tvar data_layers = new L.FeatureGroup()\n\t\t\t\t.addLayer(L.geoJson(JSON.parse(value),{\n\t\t\t\t\tpointToLayer: function(geoJsonPoint, latlng) {\n\t\t\t\t\t\tif (geoJsonPoint.properties.point_type == \"circle\"){\n\t\t\t\t\t\t\treturn L.circle(latlng, {radius: geoJsonPoint.properties.radius});\n\t\t\t\t\t\t} else if (geoJsonPoint.properties.point_type == \"circlemarker\") {\n\t\t\t\t\t\t\treturn L.circleMarker(latlng, {radius: geoJsonPoint.properties.radius});\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\treturn L.marker(latlng);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}));\n\t\t\tthis.add_non_group_layers(data_layers, this.editableLayers);\n\t\t\ttry {\n\t\t\t\tthis.map.flyToBounds(this.editableLayers.getBounds(), {\n\t\t\t\t\tpadding: [50,50]\n\t\t\t\t});\n\t\t\t}\n\t\t\tcatch(err) {\n\t\t\t\t// suppress error if layer has a point.\n\t\t\t}\n\t\t\tthis.editableLayers.addTo(this.map);\n\t\t\tthis.map._onResize();\n\t\t} else if ((value===undefined) || (value == JSON.stringify(new L.FeatureGroup().toGeoJSON()))) {\n\t\t\tthis.locate_control.start();\n\t\t}\n\t},\n\n\tbind_leaflet_map() {\n\t\tvar circleToGeoJSON = L.Circle.prototype.toGeoJSON;\n\t\tL.Circle.include({\n\t\t\ttoGeoJSON: function() {\n\t\t\t\tvar feature = circleToGeoJSON.call(this);\n\t\t\t\tfeature.properties = {\n\t\t\t\t\tpoint_type: 'circle',\n\t\t\t\t\tradius: this.getRadius()\n\t\t\t\t};\n\t\t\t\treturn feature;\n\t\t\t}\n\t\t});\n\n\t\tL.CircleMarker.include({\n\t\t\ttoGeoJSON: function() {\n\t\t\t\tvar feature = circleToGeoJSON.call(this);\n\t\t\t\tfeature.properties = {\n\t\t\t\t\tpoint_type: 'circlemarker',\n\t\t\t\t\tradius: this.getRadius()\n\t\t\t\t};\n\t\t\t\treturn feature;\n\t\t\t}\n\t\t});\n\n\t\tL.Icon.Default.imagePath = '/assets/frappe/images/leaflet/';\n\t\tthis.map = L.map(this.map_id).setView([19.0800, 72.8961], 13);\n\n\t\tL.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {\n\t\t\tattribution: '&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n\t\t}).addTo(this.map);\n\t},\n\n\tbind_leaflet_locate_control() {\n\t\t// To request location update and set location, sets current geolocation on load\n\t\tthis.locate_control = L.control.locate({position:'topright'});\n\t\tthis.locate_control.addTo(this.map);\n\t},\n\n\tbind_leaflet_draw_control() {\n\t\tthis.editableLayers = new L.FeatureGroup();\n\n\t\tvar options = {\n\t\t\tposition: 'topleft',\n\t\t\tdraw: {\n\t\t\t\tpolyline: {\n\t\t\t\t\tshapeOptions: {\n\t\t\t\t\t\tcolor: frappe.ui.color.get('blue'),\n\t\t\t\t\t\tweight: 10\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tpolygon: {\n\t\t\t\t\tallowIntersection: false, // Restricts shapes to simple polygons\n\t\t\t\t\tdrawError: {\n\t\t\t\t\t\tcolor: frappe.ui.color.get('orange'), // Color the shape will turn when intersects\n\t\t\t\t\t\tmessage: '<strong>Oh snap!<strong> you can\\'t draw that!' // Message that will show when intersect\n\t\t\t\t\t},\n\t\t\t\t\tshapeOptions: {\n\t\t\t\t\t\tcolor: frappe.ui.color.get('blue')\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tcircle: true,\n\t\t\t\trectangle: {\n\t\t\t\t\tshapeOptions: {\n\t\t\t\t\t\tclickable: false\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tedit: {\n\t\t\t\tfeatureGroup: this.editableLayers, //REQUIRED!!\n\t\t\t\tremove: true\n\t\t\t}\n\t\t};\n\n\t\t// create control and add to map\n\t\tvar drawControl = new L.Control.Draw(options);\n\n\t\tthis.map.addControl(drawControl);\n\n\t\tthis.map.on('draw:created', (e) => {\n\t\t\tvar type = e.layerType,\n\t\t\t\tlayer = e.layer;\n\t\t\tif (type === 'marker') {\n\t\t\t\tlayer.bindPopup('Marker');\n\t\t\t}\n\t\t\tthis.editableLayers.addLayer(layer);\n\t\t\tthis.set_value(JSON.stringify(this.editableLayers.toGeoJSON()));\n\t\t});\n\n\t\tthis.map.on('draw:deleted draw:edited', (e) => {\n\t\t\tvar layer = e.layer;\n\t\t\tthis.editableLayers.removeLayer(layer);\n\t\t\tthis.set_value(JSON.stringify(this.editableLayers.toGeoJSON()));\n\t\t});\n\t},\n\n\tbind_leaflet_refresh_button() {\n\t\tL.easyButton({\n\t\t\tid: 'refresh-map-'+this.df.fieldname,\n\t\t\tposition: 'topright',\n\t\t\ttype: 'replace',\n\t\t\tleafletClasses: true,\n\t\t\tstates:[{\n\t\t\t\tstateName: 'refresh-map',\n\t\t\t\tonClick: function(button, map){\n\t\t\t\t\tmap._onResize();\n\t\t\t\t},\n\t\t\t\ttitle: 'Refresh map',\n\t\t\t\ticon: 'fa fa-refresh'\n\t\t\t}]\n\t\t}).addTo(this.map);\n\t},\n\n\tadd_non_group_layers(source_layer, target_group) {\n\t\t// https://gis.stackexchange.com/a/203773\n\t\t// Would benefit from https://github.com/Leaflet/Leaflet/issues/4461\n\t\tif (source_layer instanceof L.LayerGroup) {\n\t\t\tsource_layer.eachLayer((layer)=>{\n\t\t\t\tthis.add_non_group_layers(layer, target_group);\n\t\t\t});\n\t\t} else {\n\t\t\ttarget_group.addLayer(source_layer);\n\t\t}\n\t},\n\n\tclear_editable_layers() {\n\t\tthis.editableLayers.eachLayer((l)=>{\n\t\t\tthis.editableLayers.removeLayer(l);\n\t\t});\n\t}\n});\n","import Awesomplete from 'awesomplete';\n\nfrappe.ui.form.ControlMultiSelect = frappe.ui.form.ControlAutocomplete.extend({\n\tget_awesomplete_settings() {\n\t\tconst settings = this._super();\n\n\t\treturn Object.assign(settings, {\n\t\t\tfilter: function(text, input) {\n\t\t\t\tlet d = this.get_item(text.value);\n\t\t\t\tif(!d) {\n\t\t\t\t\treturn Awesomplete.FILTER_CONTAINS(text, input.match(/[^,]*$/)[0]);\n\t\t\t\t}\n\n\t\t\t\tlet getMatch = value => Awesomplete.FILTER_CONTAINS(value, input.match(/[^,]*$/)[0]);\n\n\t\t\t\t// match typed input with label or value or description\n\t\t\t\tlet v = getMatch(d.label);\n\t\t\t\tif(!v && d.value) {\n\t\t\t\t\tv = getMatch(d.value);\n\t\t\t\t}\n\t\t\t\tif(!v && d.description) {\n\t\t\t\t\tv = getMatch(d.description);\n\t\t\t\t}\n\n\t\t\t\treturn v;\n\t\t\t},\n\n\t\t\treplace: function(text) {\n\t\t\t\tconst before = this.input.value.match(/^.+,\\s*|/)[0];\n\t\t\t\tthis.input.value = before + text + \", \";\n\t\t\t}\n\t\t});\n\t},\n\n\tget_value() {\n\t\tlet data = this._super();\n\t\t// find value of label from option list and return actual value string\n\t\tif (this.df.options && this.df.options.length && this.df.options[0].label) {\n\t\t\tdata = data.split(',').map(op => op.trim());\n\t\t\tdata = data.map(val => {\n\t\t\t\tlet option = this.df.options.find(op => op.label === val);\n\t\t\t\treturn option ? option.value : null;\n\t\t\t}).filter(n => n != null).join(', ');\n\t\t}\n\t\treturn data;\n\t},\n\n\tset_formatted_input(value) {\n\t\tif (!value) return;\n\t\t// find label of value from option list and set from it as input\n\t\tif (this.df.options && this.df.options.length && this.df.options[0].label) {\n\t\t\tvalue = value.split(',').map(d => d.trim()).map(val => {\n\t\t\t\tlet option = this.df.options.find(op => op.value === val);\n\t\t\t\treturn option ? option.label : val;\n\t\t\t}).filter(n => n != null).join(', ');\n\t\t}\n\t\tthis._super(value);\n\t},\n\n\tget_values() {\n\t\tconst value = this.get_value() || '';\n\t\tconst values = value.split(/\\s*,\\s*/).filter(d => d);\n\n\t\treturn values;\n\t},\n\n\tget_data() {\n\t\tlet data;\n\t\tif(this.df.get_data) {\n\t\t\tdata = this.df.get_data();\n\t\t\tthis.set_data(data);\n\t\t} else {\n\t\t\tdata = this._super();\n\t\t}\n\t\tconst values = this.get_values() || [];\n\n\t\t// return values which are not already selected\n\t\tif(data) data.filter(d => !values.includes(d));\n\t\treturn data;\n\t}\n});\n","frappe.ui.form.ControlMultiCheck = frappe.ui.form.Control.extend({\n\t// UI: multiple checkboxes\n\t// Value: Array of values\n\t// Options: Array of label/value/checked option objects\n\n\tmake() {\n\t\tthis._super();\n\t\tthis.$label = $(`<label class=\"control-label\">${this.df.label || ''}</label>`).appendTo(this.wrapper);\n\t\tthis.$load_state = $('<div class=\"load-state text-muted small\">' + __(\"Loading\") + '...</div>');\n\t\tthis.$select_buttons = this.get_select_buttons().appendTo(this.wrapper);\n\t\tthis.$load_state.appendTo(this.wrapper);\n\n\t\tconst row = this.get_column_size() === 12 ? '' : 'row';\n\t\tthis.$checkbox_area = $(`<div class=\"checkbox-options ${row}\"></div>`).appendTo(this.wrapper);\n\t\tthis.refresh();\n\t},\n\n\trefresh() {\n\t\tthis.set_options();\n\t\tthis.bind_checkboxes();\n\t\tthis.refresh_input();\n\t\tthis._super();\n\t},\n\n\trefresh_input() {\n\t\tthis.select_options(this.selected_options);\n\t},\n\n\n\tset_options() {\n\t\tthis.$load_state.show();\n\t\tthis.$select_buttons.hide();\n\t\tthis.parse_df_options();\n\n\t\tif(this.df.get_data) {\n\t\t\tif(typeof this.df.get_data().then == 'function') {\n\t\t\t\tthis.df.get_data().then(results => {\n\t\t\t\t\tthis.options = results;\n\t\t\t\t\tthis.make_checkboxes();\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.options = this.df.get_data();\n\t\t\t\tthis.make_checkboxes();\n\t\t\t}\n\t\t} else {\n\t\t\tthis.make_checkboxes();\n\t\t}\n\t},\n\n\tparse_df_options() {\n\t\tif(Array.isArray(this.df.options)) {\n\t\t\tthis.options = this.df.options;\n\t\t} else if(this.df.options && this.df.options.length>0 && frappe.utils.is_json(this.df.options)) {\n\t\t\tlet args = JSON.parse(this.df.options);\n\t\t\tif(Array.isArray(args)) {\n\t\t\t\tthis.options = args;\n\t\t\t} else if(Array.isArray(args.options)) {\n\t\t\t\tthis.options = args.options;\n\t\t\t}\n\t\t} else {\n\t\t\tthis.options = [];\n\t\t}\n\t},\n\n\tmake_checkboxes() {\n\t\tthis.$load_state.hide();\n\t\tthis.$checkbox_area.empty();\n\t\tthis.options.forEach(option => {\n\t\t\tlet checkbox = this.get_checkbox_element(option).appendTo(this.$checkbox_area);\n\t\t\tif (option.danger) {\n\t\t\t\tcheckbox.find('.label-area').addClass('text-danger');\n\t\t\t}\n\t\t});\n\t\tif(this.df.select_all) {\n\t\t\tthis.setup_select_all();\n\t\t}\n\t\tthis.set_checked_options();\n\t},\n\n\tbind_checkboxes() {\n\t\t$(this.wrapper).on('change', ':checkbox', e => {\n\t\t\tconst $checkbox = $(e.target);\n\t\t\tconst option_name = $checkbox.attr(\"data-unit\");\n\t\t\tif($checkbox.is(':checked')) {\n\t\t\t\tif(this.selected_options.includes(option_name)) return;\n\t\t\t\tthis.selected_options.push(option_name);\n\t\t\t} else {\n\t\t\t\tlet index = this.selected_options.indexOf(option_name);\n\t\t\t\tif(index > -1) {\n\t\t\t\t\tthis.selected_options.splice(index, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.df.on_change && this.df.on_change();\n\t\t});\n\t},\n\n\tset_checked_options() {\n\t\tthis.selected_options = this.options\n\t\t\t.filter(o => o.checked)\n\t\t\t.map(o => o.value);\n\t\tthis.select_options(this.selected_options);\n\t},\n\n\tsetup_select_all() {\n\t\tthis.$select_buttons.show();\n\t\tlet select_all = (deselect=false) => {\n\t\t\t$(this.wrapper).find(`:checkbox`).prop(\"checked\", deselect).trigger('click');\n\t\t};\n\t\tthis.$select_buttons.find('.select-all').on('click', () => {\n\t\t\tselect_all();\n\t\t});\n\t\tthis.$select_buttons.find('.deselect-all').on('click', () => {\n\t\t\tselect_all(true);\n\t\t});\n\t},\n\n\tselect_options(selected_options) {\n\t\tthis.options.map(option => option.value).forEach(value => {\n\t\t\tlet $checkbox = $(this.wrapper).find(`:checkbox[data-unit=\"${value}\"]`)[0];\n\t\t\tif($checkbox) $checkbox.checked = selected_options.includes(value);\n\t\t});\n\t},\n\n\tget_value() {\n\t\treturn this.selected_options;\n\t},\n\n\tget_checked_options() {\n\t\treturn this.get_value();\n\t},\n\n\tget_unchecked_options() {\n\t\treturn this.options.map(o => o.value)\n\t\t\t.filter(value => !this.selected_options.includes(value));\n\t},\n\n\tget_checkbox_element(option) {\n\t\tconst column_size = this.get_column_size();\n\t\treturn $(`\n\t\t\t<div class=\"checkbox unit-checkbox col-sm-${column_size}\">\n\t\t\t\t<label>\n\t\t\t\t<input type=\"checkbox\" data-unit=\"${option.value}\">\n\t\t\t\t</input>\n\t\t\t\t<span class=\"label-area small\" data-unit=\"${option.value}\">${__(option.label)}</span>\n\t\t\t\t</label>\n\t\t\t</div>`);\n\t},\n\n\tget_select_buttons() {\n\t\treturn $(`\n\t\t<div class=\"bulk-select-options\">\n\t\t\t<button class=\"btn btn-xs btn-default select-all\">\n\t\t\t\t${__(\"Select All\")}\n\t\t\t</button>\n\t\t\t<button class=\"btn btn-xs btn-default deselect-all\">\n\t\t\t${__(\"Unselect All\")}\n\t\t\t</button>\n\t\t</div>\n\t\t`);\n\t},\n\n\tget_column_size() {\n\t\treturn 12 / (+this.df.columns || 1);\n\t}\n});\n"],"names":["frappe","_","get_data_uri","element","const","$element","$","width","height","$canvas","getContext","drawImage","toDataURL","ui","Capture","[object Object]","options","this","OPTIONS","set_options","Object","navigator","mediaDevices","getUserMedia","video","then","stream","dialog","Dialog","title","animate","action","secondary","label","$e","TEMPLATE","find","srcObject","play","body","html","hide","click","data_url","attr","show","callback","render","catch","err","error","alert","show_alert","fn","__","ERR_MESSAGE","form","make_control","opts","control_class_name","df","fieldtype","replace","console","log","Control","Class","extend","init","make","boot","user","developer_mode","$wrapper","fieldname","render_input","refresh","make_wrapper","wrapper","get","fieldobj","appendTo","parent","toggle","hidden","get_status","explain","doctype","docname","cint","hidden_due_to_dependency","read_only","status","perm","get_field_display_status","model","get_doc","frm","only_input","is_null","get_value","in_list","disp_status","toggleClass","refresh_input","value","show_translatable_button","doc","translatable","can_write","views","TranslationManager","length","translation_btn","on","__islocal","source_name","target_language","language","locals","get_model_value","set_value","validate_and_set_in_model","parse_validate_and_set_in_model","e","parse","me","inside_change_event","Promise","resolve","set","run_serially","set_model_value","set_mandatory","change","onchange","apply","validate","get_input_value","undefined","last_value","set_input","set_focus","$input","focus","ControlInput","horizontal","_super","set_input_areas","set_max_width","toggle_label","toggle_description","input_area","label_area","label_span","$input_wrapper","disp_area","addClass","make_input","has_input","on_make","update_input","prop","set_disp_area","set_description","set_label","set_bold","format","no_icon","inline","bind_change_event","bind_focusout","dom","is_touchscreen","utils","scroll_to","_label","innerHTML","description","_description","set_empty_description","set_new_description","reqd","bold","ControlData","html_element","input_type","prependTo","set_input_attributes","input","setup_autoname_check","meta","get_meta","autoname","substr","let","timeout","setTimeout","last_check","clearTimeout","db","val","name","parenttype","placeholder","input_css","css","input_class","set_formatted_input","format_for_input","v","is_filter","v1","email_list","split_emails","invalid_email","forEach","email","validate_email","msgprint","ControlInt","document","activeElement","select","eval_expression","match","includes","eval","ControlFloat","isNaN","parseFloat","flt","get_precision","number_format","trim","get_number_format","formatted_value","format_number","currency","get_field_currency","precision","sysdefaults","float_precision","ControlPercent","ControlCurrency","currency_precision","get_number_format_info","ControlDate","set_date_options","set_datepicker","set_t_for_today","datepicker","should_refresh","selectedDates","moment","date_format","selectDate","datetime","str_to_obj","clear","lang","now_date","Date","today_text","defaultDateFormat","datepicker_options","autoClose","todayButton","dateFormat","startDate","keyboardNav","onSelect","trigger","onShow","$datepicker","text","update_datepicker_position","position","window","scrollTop","offset","top","update","data","get_now_date","which","nowdate","now_datetime","now_time","user_to_str","str_to_user","sys_defaults","ControlTime","timepicker","onlyTimepicker","timeFormat","date_obj","moment_to_date_obj","is_timezone_same","time_zone","ControlDatetime","defaultDatetimeFormat","ControlDateRange","range","toggleSelected","value2","formatted","to","vals","split","user_to_obj","value1","ControlSelect","input_value","toString","last_options","selected","empty","add_options","get_file_attachment_list","fl","docinfo","attachments","each","i","f","push","file_url","o","isOpened","setAttribute","instance","properties","initial","attrValue","getAttribute","toLowerCase","parseInt","Function","configure","minChars","maxItems","autoFirst","DATA","filter","FILTER_CONTAINS","sort","SORT_BYLENGTH","item","ITEM","REPLACE","index","container","create","className","around","ul","inside","role","aria-live","aria-relevant","_events","evaluate","bind","blur","close","reason","keydown","evt","c","keyCode","opened","preventDefault","submit","mousedown","li","target","test","nodeName","parentNode","button","hasAttribute","list","removeAttribute","all","Suggestion","Array","isArray","prototype","_list","indexOf","children","items","slice","el","disabled","textContent","fire","open","goto","destroy","unbind","insertBefore","removeChild","indexOfAwesomplete","splice","next","count","previous","pos","lis","offsetTop","clientHeight","suggestions","origin","siblingIndex","suggestion","map","appendChild","RegExp","regExpEscape","FILTER_STARTSWITH","a","b","aria-selected","defineProperty","String","valueOf","expr","con","querySelector","$$","call","querySelectorAll","tag","createElement","ref","event","addEventListener","removeEventListener","type","createEvent","j","initEvent","dispatchEvent","s","previousElementSibling","Document","readyState","self","Awesomplete","module","exports","ControlLink","$input_area","$link","$link_open","get_options","translate_values","setup_buttons","setup_awesomeplete","get_reference_doctype","get_route","with_link_btn","remove","open_advanced_search","LinkSelector","txt","new_doc","get_route_options_for_new_doc","route_options","name_field","_from_link","_from_link_scrollY","make_quick_entry","cache","awesomplete","d","get_item","debounce","term","args","ignore_user_permissions","reference_doctype","set_custom_query","method","no_spinner","r","is","only_select","can_create","results","z-index","autocomplete_open","originalEvent","remember_last_selected_value","last_selected_values","set_nulls","obj","key","get_query","isPlainObject","filters","query","q","ignore_link_validation","validate_link_and_fetch","fetch","fetch_dict","columns","join","message","fetch_values","set_fetch_values","valid_value","fields","ControlDynamicLink","cur_dialog","cur_frm","selector","cur_list","filter_area","standard_filters_wrapper","cur_page","page","is_single","throw","ControlText","ControlLongText","ControlSmallText","ControlCode","allowTabs","factory","modules","installedModules","__webpack_require__","moduleId","l","m","getter","enumerable","Symbol","toStringTag","t","mode","__esModule","ns","n","object","property","hasOwnProperty","p","./assets/icons/align-center.svg","./assets/icons/align-justify.svg","./assets/icons/align-left.svg","./assets/icons/align-right.svg","./assets/icons/background.svg","./assets/icons/blockquote.svg","./assets/icons/bold.svg","./assets/icons/clean.svg","./assets/icons/code.svg","./assets/icons/color.svg","./assets/icons/direction-ltr.svg","./assets/icons/direction-rtl.svg","./assets/icons/dropdown.svg","./assets/icons/formula.svg","./assets/icons/header-2.svg","./assets/icons/header.svg","./assets/icons/image.svg","./assets/icons/indent.svg","./assets/icons/italic.svg","./assets/icons/link.svg","./assets/icons/list-bullet.svg","./assets/icons/list-check.svg","./assets/icons/list-ordered.svg","./assets/icons/outdent.svg","./assets/icons/strike.svg","./assets/icons/subscript.svg","./assets/icons/superscript.svg","./assets/icons/table.svg","./assets/icons/underline.svg","./assets/icons/video.svg","./blots/block.js","./blots/break.js","./blots/container.js","./blots/cursor.js","./blots/embed.js","./blots/inline.js","./blots/scroll.js","./blots/text.js","./core.js","./core/editor.js","./core/emitter.js","./core/instances.js","./core/logger.js","./core/module.js","./core/quill.js","./core/selection.js","./core/theme.js","./formats/align.js","./formats/background.js","./formats/blockquote.js","./formats/bold.js","./formats/code.js","./formats/color.js","./formats/direction.js","./formats/font.js","./formats/formula.js","./formats/header.js","./formats/image.js","./formats/indent.js","./formats/italic.js","./formats/link.js","./formats/list.js","./formats/script.js","./formats/size.js","./formats/strike.js","./formats/table.js","./formats/underline.js","./formats/video.js","./modules/clipboard.js","./modules/history.js","./modules/keyboard.js","./modules/syntax.js","./modules/table.js","./modules/toolbar.js","./modules/uploader.js","./node_modules/clone/clone.js","./node_modules/deep-equal/index.js","./node_modules/deep-equal/lib/is_arguments.js","./node_modules/deep-equal/lib/keys.js","./node_modules/eventemitter3/index.js","./node_modules/extend/index.js","./node_modules/fast-diff/diff.js","./node_modules/parchment/src/attributor/attributor.ts","__webpack_exports__","./node_modules/parchment/src/attributor/class.ts","./node_modules/parchment/src/attributor/store.ts","./node_modules/parchment/src/attributor/style.ts","./node_modules/parchment/src/blot/abstract/container.ts","./node_modules/parchment/src/blot/abstract/leaf.ts","./node_modules/parchment/src/blot/abstract/parent.ts","./node_modules/parchment/src/blot/abstract/shadow.ts","./node_modules/parchment/src/blot/block.ts","./node_modules/parchment/src/blot/embed.ts","./node_modules/parchment/src/blot/inline.ts","./node_modules/parchment/src/blot/scroll.ts","./node_modules/parchment/src/blot/text.ts","./node_modules/parchment/src/collection/linked-list.ts","./node_modules/parchment/src/error.ts","./node_modules/parchment/src/parchment.ts","./node_modules/parchment/src/registry.ts","./node_modules/parchment/src/scope.ts","./node_modules/quill-delta/lib/delta.js","./node_modules/quill-delta/lib/op.js","./quill.js","./themes/base.js","./themes/bubble.js","./themes/snow.js","./ui/color-picker.js","./ui/icon-picker.js","./ui/icons.js","./ui/picker.js","./ui/tooltip.js","0","Block","Quill","import","tagName","register","CodeBlockContainer","Table","superCreate","node","classList","add","Link","MyLink","super","sanitize","startsWith","location","host","HiddenBlock","blotName","Uploader","DEFAULTS","mimetypes","BackgroundStyle","ColorStyle","FontStyle","AlignStyle","DirectionStyle","ControlTextEditor","make_quill_editor","quill","quill_container","get_quill_options","bind_events","delta","oldDelta","source","is_quill_dirty","root","keys","get_key","stopPropagation","currentTarget","table","getModule","insertTable","insertRowAbove","insertRowBelow","insertColumnLeft","insertColumnRight","deleteRow","deleteColumn","deleteTable","balanceTables","toolbar","get_toolbar_options","theme","header","color","background","align","indent","remove_script_and_style","clipboard","convert","setContents","setText","$value","$parent","$children","$ul","append","replaceWith","Keys","TAB","ENTER","ESCAPE","UP","DOWN","Embed","MentionBlot","denotationChar","dataset","id","link","domNode","Mention","isOpen","itemIndex","mentionCharPos","cursorPos","values","suspendMouseEnter","renderItem","searchTerm","mentionDenotationChars","allowedChars","maxChars","offsetLeft","isolateCharacter","fixMentionsToQuill","defaultMenuOrientation","assign","mentionContainer","style","cssText","onmousemove","onContainerMouseMove","mentionList","onTextChange","onSelectionChange","keyboard","addBinding","selectHandler","bindings","unshift","pop","escapeHandler","upHandler","downHandler","selectItem","hideMentionList","prevItem","nextItem","visibility","display","setMentionContainerPosition","scrollItemInView","childNodes","itemHeight","offsetHeight","itemPos","containerTop","containerBottom","itemLink","getItemData","deleteText","sources","API","insertEmbed","insertText","setSelection","Number","highlightItem","stopImmediatePropagation","mentionChar","onmouseenter","onItemMouseEnter","onclick","onItemClick","showMentionList","topPos","containerPos","pageYOffset","innerHeight","leftPos","offsetWidth","left","pageXOffset","documentElement","clientWidth","getBoundingClientRect","getBounds","containerHeight","right","rightPos","containerRightIsNotVisible","containerWidth","overMentionCharPos","bottom","containerBottomIsNotVisible","getSelection","startPos","Math","max","beforeCursorPos","getText","mentionCharIndex","reduce","prev","cur","previousIndex","mentionIndex","lastIndexOf","textAfter","substring","hasValidChars","renderList","onSomethingChange","ControlComment","comment_wrapper","no_wrapper","update_state","on_submit","strip_html","removeClass","mention","get_mention_options","mentions","at_values","matches","ControlCheck","checked","ControlImage","margin","$body","margin-bottom","$img","$buffer","ControlAttach","clear_attachment","remove_attachment_by_filename","docstatus","save","dataurl","fileobj","get_field","get_attachments","concat","set_upload_options","upload","upload_options","allow_multiple","max_width","max_height","btn","set_primary_action","on_no_attach","attachment","on_upload_complete","onerror","is_private","from_form","on_attach","parts","filename","update_attachment","hide_progress","ControlAttachImage","insertAfter","detach","img_wrapper","img_container","img","img_overlay","remove_image_link","set_image","restrict_to_images","GridRowForm","row","make_form","form_area","layout","Layout","docfields","no_submit_on_enter","fields_dict","grid","fieldinfo","fi","toggle_add_delete_button_display","open_grid_row","template","set_row_index","set_form_events","insert","toggle_view","add_new_row","idx","is_editable","refresh_dependency","first","GridRow","on_grid_fields_dict","on_grid_fields","columns_list","row_check_html","hasClass","allow_on_grid_editing","editable_grid","render_template","render_row","set_data","__checked","refresh_remove_rows_button","get_open_form","hide_form","script_manager","clear_doc","dirty","trace","get_data","findIndex","below","grid_form","row_display","row_index","get_format_helper","setup_columns","add_open_form_button","refresh_check","in_place_edit","open_form_button","is_too_small","margin-right","ci","focus_set","setup_visible_columns","visible_columns","colsize","column","refresh_field","make_column","add_class","$col","editable_row","out","toggle_editable_row","col","field_area","static_area","column_index","field","grid_row","grid_rows","set_arrow_keys","UP_ARROW","DOWN_ARROW","move_up_down","base","shiftKey","set_focus_on_row","get_open_grid_form","open_row","show_form","freeze","cur_grid","is_element_in_viewport","parentfield","unfreeze","get_docfield","blacklist","in_list_view","get_perm","permlevel","layout_fields","set_property","refresh_sections","set_field_property","editable","close_grid_form","open_form","Grid","fields_map","multiple_set","__form_grid_templates","is_grid","is_xs","form_grid","custom_buttons","grid_buttons","remove_rows_button","setup_allow_bulk_edit","setup_check","on_setup","$check","parents","grid_rows_by_docname","tasks","deleted_docs","get_selected","header_row","parent_df","force","$rows","setup_fields","display_status","make_head","truncate_rows","ri","setup_toolbar","is_sortable","sortable_setup_done","make_sortable","last_display_status","last_docname","cannot_add_rows","get_docfields","Sortable","group","handle","draggable","onUpdate","newIndex","get_modal_data","fname","set_editable_grid_column_disp","enable","get_row","add_child","__unedited","total_colsize","editable_fields","_df","formatter","docfield_map","docfield","passes","std_fields_list","static_rows","sortable_status","qty","link_field","qty_fieldname","allow_bulk_edit","setup_download","flags","no_socketio","prompt","fieldnames","csv_to_array","get_string","upload_file","clear_table","blank_row","indicator","unscrub","is_value_type","tools","downloadify","ControlTable","grids","pastedData","cur_table_field","closest","cur_field","cur_grid_rows","cur_doctype","cur_row_docname","row_idx","clipboardData","getData","name_or_label","shift","get_visible_columns","cur_row","row_name","show_progress","ControlColor","colors","make_color_input","$color_pallete","color_html","get_color_box","hex","contrast","get_contrast_color","background-color","mousedown_happened","color_val","ControlSignature","saving","loading","make_pad","$pad","jSignature","lineWidth","on_save_sign","load_pad","$reset_button_wrapper","on_reset_sign","set_editable","set_my_value","base64_img","ControlPassword","check_password_timeout","get_password_strength","new_password","entropy","score","feedback","crack_time_display","set_strength_indicator","ControlReadOnly","ControlButton","has_handlers","runscript","icon","ControlHTML","content","get_content","ControlHTMLEditor","make_preview_container","html_preview_container","preview_label","html_preview_area","build_preview","ControlHeading","ControlAutocomplete","setup_awesomplete","_data","get_awesomplete_settings","Barcode","Constructor","TypeError","_classCallCheck","_createClass","defineProperties","props","descriptor","configurable","writable","protoProps","staticProps","_Barcode3","_Barcode2","default","CODE39","_Barcode","characterValue","toUpperCase","mod43","checksum","mod43checksum","characters","ReferenceError","_possibleConstructorReturn","__proto__","getPrototypeOf","subClass","superClass","constructor","setPrototypeOf","_inherits","result","getEncoding","search","encodings","character","getBinary","_SET_BY_CODE","_defineProperty","SET_A","SET_B","SET_C","START_A","START_B","START_C","101","100","99","fromCharCode","CODE128","_this","bytes","char","charCodeAt","startIndex","startSet","_constants","SET_BY_CODE","RangeError","shouldEncodeAsEan128","FNC1","encodingResult","getBar","MODULO","STOP","isEAN128","ean128","BARS","charCode","nextCode","nextSet","SWAP","SHIFT","correctIndex","weight","matchSetALength","string","A_CHARS","matchSetBLength","B_CHARS","matchSetC","C_CHARS","autoSelectFromAB","isA","ranges","untilC","autoSelectFromC","chars","cMatch","newString","C_START_CHAR","A_START_CHAR","B_START_CHAR","_CODE3","_interopRequireDefault","_CODE2","_auto2","_auto","CODE128AUTO","_CODE","CODE128A","CODE128B","CODE128C","_CODE128_AUTO2","_CODE128_AUTO","_CODE128A2","_CODE128A","_CODE128B2","_CODE128B","_CODE128C2","_CODE128C","L","G","R","O","E","structure","separator","encoded","BINARIES","last","_encoder2","_encoder","EAN","fontSize","flat","guardHeight","textMargin","encodeFlat","encodeGuarded","from","textOptions","guardOptions","SIDE_BIN","leftEncode","leftText","MIDDLE_BIN","rightEncode","rightText","_get","receiver","desc","getOwnPropertyDescriptor","_EAN3","_EAN2","number","sum","EAN13","_EAN","lastChar","EAN13_STRUCTURE","displayValue","textAlign","EAN8","EAN5","EAN5_STRUCTURE","EAN2","EAN2_STRUCTURE","UPC","flatEncoding","guardedEncoding","EXPANSIONS","PARITIES","UPCE","isValid","middleDigits","upcA","expandToUPCA","encodeMiddleDigits","numberSystem","checkDigit","parity","lastUpcE","expansion","digitIndex","_UPC","_EAN4","_EAN6","_EAN5","_EAN8","_EAN7","_UPC2","_UPCE2","_UPCE","ITF14","binaryRepresentation","1","2","3","4","5","6","7","8","9","calculatePair","numberPair","number1Struct","number2Struct","ceil","ITF","MSI","ret","bin","addZeroes","floor","weights","_MSI3","_MSI2","MSI10","_MSI","_checksums","mod10","MSI11","mod11","MSI1010","MSI1110","_MSI4","_MSI6","_MSI5","_MSI8","_MSI7","_MSI10","_MSI9","pharmacode","z","codabar","getEncodings","charAt","-",":","/",".","+","A","B","C","D","GenericBarcode","_EAN_UPC","_ITF","_ITF2","_pharmacode","_codabar","_GenericBarcode","_extends","arguments","old","replaceObj","linearEncodings","nextLevel","marginTop","marginBottom","marginRight","marginLeft","intOptions","intOption","defaults","fontOptions","font","textPosition","lineColor","valid","_optionsFromStrings2","_optionsFromStrings","_defaults2","_defaults","_merge2","_merge","getEncodingHeight","encoding","getBarcodePadding","textWidth","barcodeWidth","messureText","context","ctx","measureText","maxHeight","barcodeOptions","barcodePadding","totalWidth","CanvasRenderer","canvas","Error","prepareCanvas","encodingOptions","drawCanvasBarcode","drawCanvasText","moveCanvasDrawing","restoreCanvas","_shared","calculateEncodingAttributes","getTotalWidthOfEncodings","getMaximumHeightOfEncodings","clearRect","fillStyle","fillRect","translate","yFrom","binary","x","y","fillText","restore","svgns","SVGRenderer","svg","xmlDocument","currentX","prepareSVG","createGroup","setGroupOptions","drawSvgBarcode","drawSVGText","firstChild","setSvgAttributes","drawRect","barWidth","textElem","createElementNS","createTextNode","rect","ObjectRenderer","_canvas2","_canvas","_svg2","_svg","_object2","_object","InvalidInputException","_Error","symbology","InvalidElementException","_Error2","_this2","NoElementException","_Error3","_this3","_typeof","iterator","_getOptionsFromElement2","_getOptionsFromElement","_renderers2","_renderers","getRenderProperties","returnArray","querySelectedRenderProperties","HTMLCanvasElement","HTMLImageElement","imgElement","renderer","afterRender","SVGElement","_exceptions","ErrorHandler","api","_options","func","handleCatch","_barcodes2","_barcodes","_linearizeEncodings2","_linearizeEncodings","_fixOptions2","_fixOptions","_getRenderProperties2","_getRenderProperties","_ErrorHandler2","_ErrorHandler","JsBarcode","_renderProperties","_encodings","_errorHandler","autoSelectBarcode","registerBarcode","barcodes","wrapBarcodeCall","newOptions","Encoder","encode","encoder","renderProperties","Renderer","blank","size","zeroes","renderProperty","jQuery","elementArray","ControlBarcode","barcode_area","get_barcode_html","barcode_value","JSON","isValidJson","valueField","jsonData","ControlGeolocation","map_id","get_unique_id","map_area","make_map","bind_leaflet_map","bind_leaflet_draw_control","bind_leaflet_locate_control","bind_leaflet_refresh_button","clear_editable_layers","data_layers","FeatureGroup","addLayer","geoJson","pointToLayer","geoJsonPoint","latlng","point_type","circle","radius","circleMarker","marker","add_non_group_layers","editableLayers","flyToBounds","padding","addTo","_onResize","stringify","toGeoJSON","locate_control","start","circleToGeoJSON","Circle","include","feature","getRadius","CircleMarker","Icon","Default","imagePath","setView","tileLayer","attribution","control","locate","draw","polyline","shapeOptions","polygon","allowIntersection","drawError","rectangle","clickable","edit","featureGroup","drawControl","Draw","addControl","layerType","layer","bindPopup","removeLayer","easyButton","leafletClasses","states","stateName","onClick","source_layer","target_group","LayerGroup","eachLayer","ControlMultiSelect","settings","getMatch","before","op","option","get_values","ControlMultiCheck","$label","$load_state","$select_buttons","get_select_buttons","get_column_size","$checkbox_area","bind_checkboxes","select_options","selected_options","parse_df_options","make_checkboxes","is_json","checkbox","get_checkbox_element","danger","select_all","setup_select_all","set_checked_options","$checkbox","option_name","on_change","deselect","get_checked_options","get_unchecked_options","column_size"],"mappings":"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"}